<!DOCTYPE html>
<html>
<head>
<script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
</head>
<body>
<div id="vis" style="width: 600px; height: 400px;"></div>
<script>
const spec = {"$schema": "https://vega.github.io/schema/vega/v5.json", "width": 500, "height": 500, "padding": 30, "autosize": "pad", "data": [{"name": "circle", "transform": [{"type": "sequence", "start": 0, "stop": 6.283185307179586, "step": 0.02, "as": "t"}, {"type": "formula", "as": "x", "expr": "2 + 5 * cos(datum.t)"}, {"type": "formula", "as": "y", "expr": "-1 + 5 * sin(datum.t)"}]}, {"name": "lineL", "values": [{"x": -10, "y": 11}, {"x": 10, "y": -9}]}, {"name": "tangent", "values": [{"x": -10, "y": 18.071067811865476}, {"x": 10, "y": -1.928932188134524}]}, {"name": "radius", "values": [{"x": 2, "y": -1}, {"x": 5.535533905932737, "y": 2.5355339059327378}]}, {"name": "points", "values": [{"x": -3, "y": 4, "label": "P"}, {"x": 7, "y": -6, "label": "Q"}, {"x": 2, "y": -1, "label": "C"}, {"x": 5.535533905932737, "y": 2.5355339059327378, "label": "T"}]}, {"name": "axesLines", "values": [{"x1": -10, "y1": 0, "x2": 10, "y2": 0}, {"x1": 0, "y1": -10, "x2": 0, "y2": 10}]}], "scales": [{"name": "x", "type": "linear", "domain": [-10, 10], "range": [0, 500]}, {"name": "y", "type": "linear", "domain": [-10, 10], "range": [500, 0]}], "axes": [{"scale": "x", "orient": "bottom", "grid": true, "tickCount": 21}, {"scale": "y", "orient": "left", "grid": true, "tickCount": 21}], "marks": [{"type": "line", "from": {"data": "circle"}, "encode": {"enter": {"x": {"scale": "x", "field": "x"}, "y": {"scale": "y", "field": "y"}, "stroke": {"value": "#1f77b4"}, "strokeWidth": {"value": 2}}}}, {"type": "line", "from": {"data": "lineL"}, "encode": {"enter": {"x": {"scale": "x", "field": "x"}, "y": {"scale": "y", "field": "y"}, "stroke": {"value": "#2ca02c"}, "strokeWidth": {"value": 2}}}}, {"type": "line", "from": {"data": "tangent"}, "encode": {"enter": {"x": {"scale": "x", "field": "x"}, "y": {"scale": "y", "field": "y"}, "stroke": {"value": "#d62728"}, "strokeWidth": {"value": 2}, "strokeDash": {"value": [6, 4]}}}}, {"type": "line", "from": {"data": "radius"}, "encode": {"enter": {"x": {"scale": "x", "field": "x"}, "y": {"scale": "y", "field": "y"}, "stroke": {"value": "#9467bd"}, "strokeWidth": {"value": 2}}}}, {"type": "symbol", "from": {"data": "points"}, "encode": {"enter": {"x": {"scale": "x", "field": "x"}, "y": {"scale": "y", "field": "y"}, "size": {"value": 64}, "fill": {"value": "black"}}}}, {"type": "text", "from": {"data": "points"}, "encode": {"enter": {"x": {"scale": "x", "field": "x"}, "y": {"scale": "y", "field": "y"}, "dx": {"value": 6}, "dy": {"value": -6}, "text": {"field": "label"}, "fontSize": {"value": 12}, "fill": {"value": "black"}}}}, {"type": "rule", "from": {"data": "axesLines"}, "encode": {"enter": {"x": {"scale": "x", "field": "x1"}, "y": {"scale": "y", "field": "y1"}, "x2": {"scale": "x", "field": "x2"}, "y2": {"scale": "y", "field": "y2"}, "stroke": {"value": "#000"}, "strokeWidth": {"value": 1}}}}]};
const view = new vega.View(vega.parse(spec)).renderer('canvas').initialize('#vis').runAsync();
</script>
</body>
</html>