<!DOCTYPE html>
<html>
<head>
<script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
</head>
<body>
<div id="vis" style="width: 600px; height: 400px;"></div>
<script>
const spec = {"$schema": "https://vega.github.io/schema/vega/v5.json", "width": 480, "height": 340, "padding": 5, "signals": [{"name": "scale", "value": 15}, {"name": "marginLeft", "value": 60}, {"name": "marginRight", "value": 20}, {"name": "marginTop", "value": 20}, {"name": "marginBottom", "value": 40}, {"name": "wallX", "update": "marginLeft"}, {"name": "groundY", "update": "height - marginBottom"}, {"name": "baseX", "update": "wallX + 16*scale"}, {"name": "ladderTopY", "update": "groundY - 12*scale"}, {"name": "cableTopY", "update": "groundY - 16*scale"}, {"name": "theta", "update": "atan2(12,16)"}, {"name": "phi", "update": "atan2(16,16)"}, {"name": "thetaRadius", "value": 36}, {"name": "phiRadius", "value": 22}], "marks": [{"type": "rule", "encode": {"update": {"x": {"signal": "marginLeft"}, "y": {"signal": "groundY"}, "x2": {"signal": "width - marginRight"}, "y2": {"signal": "groundY"}, "stroke": {"value": "#555"}, "strokeWidth": {"value": 2}}}}, {"type": "rule", "encode": {"update": {"x": {"signal": "wallX"}, "y": {"signal": "groundY"}, "x2": {"signal": "wallX"}, "y2": {"signal": "marginTop"}, "stroke": {"value": "#555"}, "strokeWidth": {"value": 2}}}}, {"type": "rule", "encode": {"update": {"x": {"signal": "wallX"}, "y": {"signal": "groundY - 14"}, "x2": {"signal": "wallX + 14"}, "y2": {"signal": "groundY - 14"}, "stroke": {"value": "#777"}, "strokeWidth": {"value": 2}}}}, {"type": "rule", "encode": {"update": {"x": {"signal": "wallX + 14"}, "y": {"signal": "groundY - 14"}, "x2": {"signal": "wallX + 14"}, "y2": {"signal": "groundY"}, "stroke": {"value": "#777"}, "strokeWidth": {"value": 2}}}}, {"type": "rect", "encode": {"update": {"x": {"signal": "wallX + 6"}, "y": {"signal": "ladderTopY - 10"}, "width": {"value": 20}, "height": {"value": 20}, "fill": {"value": "#e0e0e0"}, "stroke": {"value": "#888"}}}}, {"type": "rule", "encode": {"update": {"x": {"signal": "baseX"}, "y": {"signal": "groundY"}, "x2": {"signal": "wallX"}, "y2": {"signal": "cableTopY"}, "stroke": {"value": "#ff7f0e"}, "strokeWidth": {"value": 2}, "strokeDash": {"value": [6, 4]}}}}, {"type": "rule", "encode": {"update": {"x": {"signal": "baseX"}, "y": {"signal": "groundY"}, "x2": {"signal": "wallX"}, "y2": {"signal": "ladderTopY"}, "stroke": {"value": "#1f77b4"}, "strokeWidth": {"value": 3}}}}, {"type": "symbol", "encode": {"update": {"x": {"signal": "baseX"}, "y": {"signal": "groundY"}, "shape": {"value": "circle"}, "size": {"value": 50}, "fill": {"value": "#333"}}}}, {"type": "arc", "encode": {"update": {"x": {"signal": "baseX"}, "y": {"signal": "groundY"}, "innerRadius": {"value": 0}, "outerRadius": {"signal": "thetaRadius"}, "startAngle": {"signal": "-theta"}, "endAngle": {"value": 0}, "stroke": {"value": "#d62728"}, "strokeWidth": {"value": 2}, "fill": {"value": null}}}}, {"type": "arc", "encode": {"update": {"x": {"signal": "baseX"}, "y": {"signal": "groundY"}, "innerRadius": {"value": 0}, "outerRadius": {"signal": "phiRadius"}, "startAngle": {"signal": "-phi"}, "endAngle": {"value": 0}, "stroke": {"value": "#2ca02c"}, "strokeWidth": {"value": 2}, "fill": {"value": null}}}}, {"type": "text", "encode": {"update": {"x": {"signal": "baseX + (thetaRadius + 12)*cos(-theta/2)"}, "y": {"signal": "groundY + (thetaRadius + 12)*sin(-theta/2)"}, "text": {"value": "\u03b8"}, "fontSize": {"value": 14}, "fontWeight": {"value": "bold"}, "fill": {"value": "#d62728"}, "align": {"value": "center"}, "baseline": {"value": "middle"}}}}, {"type": "text", "encode": {"update": {"x": {"signal": "baseX + (phiRadius + 10)*cos(-phi/2)"}, "y": {"signal": "groundY + (phiRadius + 10)*sin(-phi/2)"}, "text": {"value": "\u03c6"}, "fontSize": {"value": 14}, "fontWeight": {"value": "bold"}, "fill": {"value": "#2ca02c"}, "align": {"value": "center"}, "baseline": {"value": "middle"}}}}]};
const view = new vega.View(vega.parse(spec)).renderer('canvas').initialize('#vis').runAsync();
</script>
</body>
</html>