{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lionv/DuckSAT/Migration/DuckSAT_CLEAN/src/data/moduleConfigs.ts"],"sourcesContent":["import { ModuleConfig } from '@/types/test'\r\n\r\nexport const MODULE_CONFIGS: ModuleConfig[] = [\r\n  {\r\n    id: 1,\r\n    type: 'reading-writing',\r\n    duration: 32, // 32 minutes\r\n    questionCount: 27, // 27 questions\r\n    title: 'Reading and Writing - Module 1',\r\n    description: 'This module tests your reading comprehension, grammar, and writing skills. You have 32 minutes to complete 27 questions.',\r\n    icon: 'üìö',\r\n    color: 'from-blue-500 to-indigo-600'\r\n  },\r\n  {\r\n    id: 2,\r\n    type: 'reading-writing',\r\n    duration: 32, // 32 minutes\r\n    questionCount: 27, // 27 questions\r\n    title: 'Reading and Writing - Module 2',\r\n    description: 'This module adapts to your Module 1 performance with appropriate difficulty questions. You have 32 minutes to complete 27 questions.',\r\n    icon: 'üìñ',\r\n    color: 'from-indigo-500 to-purple-600'\r\n  },\r\n  {\r\n    id: 3,\r\n    type: 'math',\r\n    duration: 35, // 35 minutes\r\n    questionCount: 22, // 22 questions\r\n    title: 'Math - Module 1',\r\n    description: 'This module covers algebra, geometry, statistics, and advanced math topics. You have 35 minutes to complete 22 questions.',\r\n    icon: 'üî¢',\r\n    color: 'from-green-500 to-emerald-600'\r\n  },\r\n  {\r\n    id: 4,\r\n    type: 'math',\r\n    duration: 35, // 35 minutes\r\n    questionCount: 22, // 22 questions\r\n    title: 'Math - Module 2',\r\n    description: 'This module adapts to your Module 3 performance with appropriate difficulty questions. You have 35 minutes to complete 22 questions.',\r\n    icon: 'üßÆ',\r\n    color: 'from-emerald-500 to-teal-600'\r\n  }\r\n]\r\n\r\nexport const getModuleConfig = (moduleId: number): ModuleConfig | undefined => {\r\n  return MODULE_CONFIGS.find(config => config.id === moduleId)\r\n}\r\n\r\nexport const getTotalTestTime = (): number => {\r\n  return MODULE_CONFIGS.reduce((total, config) => total + config.duration, 0)\r\n}\r\n\r\nexport const getTotalQuestions = (): number => {\r\n  return MODULE_CONFIGS.reduce((total, config) => total + config.questionCount, 0)\r\n}\r\n\r\nexport const getModulesByType = (type: 'reading-writing' | 'math'): ModuleConfig[] => {\r\n  return MODULE_CONFIGS.filter(config => config.type === type)\r\n}\r\n\r\nexport const getReadingWritingModules = (): ModuleConfig[] => {\r\n  return getModulesByType('reading-writing')\r\n}\r\n\r\nexport const getMathModules = (): ModuleConfig[] => {\r\n  return getModulesByType('math')\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;AAEO,MAAM,iBAAiC;IAC5C;QACE,IAAI;QACJ,MAAM;QACN,UAAU;QACV,eAAe;QACf,OAAO;QACP,aAAa;QACb,MAAM;QACN,OAAO;IACT;IACA;QACE,IAAI;QACJ,MAAM;QACN,UAAU;QACV,eAAe;QACf,OAAO;QACP,aAAa;QACb,MAAM;QACN,OAAO;IACT;IACA;QACE,IAAI;QACJ,MAAM;QACN,UAAU;QACV,eAAe;QACf,OAAO;QACP,aAAa;QACb,MAAM;QACN,OAAO;IACT;IACA;QACE,IAAI;QACJ,MAAM;QACN,UAAU;QACV,eAAe;QACf,OAAO;QACP,aAAa;QACb,MAAM;QACN,OAAO;IACT;CACD;AAEM,MAAM,kBAAkB,CAAC;IAC9B,OAAO,eAAe,IAAI,CAAC,CAAA,SAAU,OAAO,EAAE,KAAK;AACrD;AAEO,MAAM,mBAAmB;IAC9B,OAAO,eAAe,MAAM,CAAC,CAAC,OAAO,SAAW,QAAQ,OAAO,QAAQ,EAAE;AAC3E;AAEO,MAAM,oBAAoB;IAC/B,OAAO,eAAe,MAAM,CAAC,CAAC,OAAO,SAAW,QAAQ,OAAO,aAAa,EAAE;AAChF;AAEO,MAAM,mBAAmB,CAAC;IAC/B,OAAO,eAAe,MAAM,CAAC,CAAA,SAAU,OAAO,IAAI,KAAK;AACzD;AAEO,MAAM,2BAA2B;IACtC,OAAO,iBAAiB;AAC1B;AAEO,MAAM,iBAAiB;IAC5B,OAAO,iBAAiB;AAC1B","debugId":null}},
    {"offset": {"line": 85, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lionv/DuckSAT/Migration/DuckSAT_CLEAN/src/hooks/useTestState.ts"],"sourcesContent":["import { useState, useEffect, useCallback, useMemo } from 'react'\r\nimport { TestState, TestResult, QuestionResult, Question } from '@/types/test'\r\nimport { MODULE_CONFIGS } from '@/data/moduleConfigs'\r\n\r\nexport function useTestState(userId: string) {\r\n  const [testState] = useState<TestState | null>(null)\r\n  const [isLoading, setIsLoading] = useState(true)\r\n  const [error] = useState<string | null>(null)\r\n  const [hasStarted, setHasStarted] = useState(false)\r\n  const [currentModuleIndex, setCurrentModuleIndex] = useState(0)\r\n  const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0)\r\n  const [isTransitioning, setIsTransitioning] = useState(false)\r\n  const [isComplete, setIsComplete] = useState(false)\r\n  const [moduleStarted, setModuleStarted] = useState(false)\r\n  const [isBreakTime, setIsBreakTime] = useState(false)\r\n  const [breakTimeRemaining, setBreakTimeRemaining] = useState(0)\r\n  \r\n  // Timer and answer state\r\n  const [timeRemaining, setTimeRemaining] = useState(0)\r\n  const [selectedAnswers, setSelectedAnswers] = useState<number[]>([])\r\n  const [moduleStartTime, setModuleStartTime] = useState<Date | null>(null)\r\n  const [testStartTime, setTestStartTime] = useState<Date | null>(null)\r\n  \r\n  // Test results tracking\r\n  const [testResults, setTestResults] = useState<TestResult | null>(null)\r\n  const [moduleResults, setModuleResults] = useState<QuestionResult[][]>([])\r\n  \r\n  // Questions from database with no-repeat tracking\r\n  const [currentModuleQuestions, setCurrentModuleQuestions] = useState<Question[]>([])\r\n  const [usedQuestionIds, setUsedQuestionIds] = useState<string[]>([])\r\n  \r\n  // Per-question time tracking\r\n  const [questionStartTimes, setQuestionStartTimes] = useState<Map<number, Date>>(new Map())\r\n  const [questionTimeSpent, setQuestionTimeSpent] = useState<Map<number, number>>(new Map())\r\n\r\n  // Get current module config\r\n  const currentModule = useMemo(() => {\r\n    if (currentModuleIndex >= MODULE_CONFIGS.length) return null\r\n    return MODULE_CONFIGS[currentModuleIndex]\r\n  }, [currentModuleIndex])\r\n\r\n  // Get current question\r\n  const currentQuestion = useMemo(() => {\r\n    if (!currentModule || currentModuleQuestions.length === 0) return null\r\n    \r\n    if (currentQuestionIndex >= currentModuleQuestions.length) return null\r\n    return currentModuleQuestions[currentQuestionIndex]\r\n  }, [currentModule, currentModuleQuestions, currentQuestionIndex])\r\n\r\n  // Fetch questions from database with no-repeat logic\r\n  const fetchQuestions = useCallback(async (moduleType: string, questionCount?: number) => {\r\n    try {\r\n      setIsLoading(true)\r\n      const limit = questionCount || (moduleType === 'math' ? 22 : 27)\r\n      console.log(`üîç Fetching ${limit} questions for moduleType: ${moduleType}`)\r\n      \r\n      // Get more questions than needed to filter out used ones\r\n      const response = await fetch(`/api/questions?moduleType=${moduleType}&limit=${limit * 2}`)\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(`Failed to fetch questions: ${response.statusText}`)\r\n      }\r\n\r\n      const data = await response.json()\r\n      const questions = data.questions || data // Handle both {questions: [...]} and [...] formats\r\n      console.log(`üìù Received ${questions.length || 0} questions from API`)\r\n      \r\n      if (!questions || questions.length === 0) {\r\n        console.warn('‚ö†Ô∏è No questions available from API, returning empty array')\r\n        setCurrentModuleQuestions([])\r\n        setSelectedAnswers([])\r\n        setIsLoading(false)\r\n        return []\r\n      }\r\n\r\n      // Filter out already used questions\r\n      const availableQuestions = questions.filter((q: Question) => !usedQuestionIds.includes(q.id))\r\n      \r\n      // If we don't have enough unused questions, reset the used set (allow repeats but minimize them)\r\n      let questionsToUse = availableQuestions\r\n      if (availableQuestions.length < limit) {\r\n        console.log('‚ö†Ô∏è Not enough unused questions, allowing some repeats')\r\n        questionsToUse = questions\r\n        setUsedQuestionIds([]) // Reset used questions to allow repeats\r\n      }\r\n\r\n      // Select the required number of questions\r\n      const selectedQuestions = questionsToUse.slice(0, limit)\r\n      \r\n      // Add selected question IDs to used set\r\n      const newUsedIds = [...usedQuestionIds]\r\n      selectedQuestions.forEach((q: Question) => {\r\n        if (!newUsedIds.includes(q.id)) newUsedIds.push(q.id)\r\n      })\r\n      setUsedQuestionIds(newUsedIds)\r\n      \r\n      setCurrentModuleQuestions(selectedQuestions)\r\n      setSelectedAnswers(new Array(selectedQuestions.length).fill(-1))\r\n      \r\n      console.log(`‚úÖ Set ${selectedQuestions.length} questions for current module`)\r\n      \r\n    } catch (error) {\r\n      console.error('‚ùå Error fetching questions:', error)\r\n      throw error\r\n    } finally {\r\n      setIsLoading(false)\r\n    }\r\n  }, [usedQuestionIds])\r\n\r\n  // Auto-start module 2 after 10 seconds\r\n  useEffect(() => {\r\n    if (isTransitioning && currentModuleIndex === 1 && !moduleStarted) {\r\n      const timer = setTimeout(() => {\r\n        startModule()\r\n      }, 10000) // 10 seconds\r\n\r\n      return () => clearTimeout(timer)\r\n    }\r\n  }, [isTransitioning, currentModuleIndex, moduleStarted])\r\n\r\n  // Auto-start math module after 10 seconds\r\n  useEffect(() => {\r\n    if (isTransitioning && currentModuleIndex === 2 && !moduleStarted) {\r\n      const timer = setTimeout(() => {\r\n        startModule()\r\n      }, 10000) // 10 seconds\r\n\r\n      return () => clearTimeout(timer)\r\n    }\r\n  }, [isTransitioning, currentModuleIndex, moduleStarted])\r\n\r\n  // Start timing when a new question is displayed\r\n  useEffect(() => {\r\n    if (moduleStarted && !isTransitioning && currentQuestion) {\r\n      setQuestionStartTimes(prev => {\r\n        const newTimes = new Map(prev)\r\n        if (!newTimes.has(currentQuestionIndex)) {\r\n          newTimes.set(currentQuestionIndex, new Date())\r\n        }\r\n        return newTimes\r\n      })\r\n    }\r\n  }, [moduleStarted, isTransitioning, currentQuestion, currentQuestionIndex])\r\n\r\n  // Handle 10-minute break between reading and math\r\n  useEffect(() => {\r\n    if (isBreakTime && breakTimeRemaining > 0) {\r\n      const timer = setTimeout(() => {\r\n        setBreakTimeRemaining(prev => prev - 1)\r\n      }, 1000)\r\n\r\n      return () => clearTimeout(timer)\r\n    } else if (isBreakTime && breakTimeRemaining === 0) {\r\n      // Break is over, start math module\r\n      setIsBreakTime(false)\r\n      setIsTransitioning(true)\r\n      setCurrentModuleIndex(2) // Math module\r\n    }\r\n  }, [isBreakTime, breakTimeRemaining])\r\n\r\n  const startTest = useCallback(async () => {\r\n    try {\r\n      setIsLoading(true)\r\n      setTestStartTime(new Date())\r\n      setHasStarted(true)\r\n      setCurrentModuleIndex(0)\r\n      setCurrentQuestionIndex(0)\r\n\r\n      // Start with reading-writing module\r\n      await fetchQuestions('reading-writing', 27)\r\n\r\n      setIsTransitioning(false)\r\n      setModuleStarted(false)\r\n    } catch (error) {\r\n      console.error('Error starting test:', error)\r\n      setIsLoading(false)\r\n    }\r\n  }, [fetchQuestions])\r\n\r\n  const startModule = useCallback(() => {\r\n    if (!currentModule) return\r\n\r\n    console.log('üöÄ Starting module:', currentModule.title)\r\n\r\n    setModuleStartTime(new Date())\r\n    setModuleStarted(true)\r\n    setIsTransitioning(false)\r\n    setCurrentQuestionIndex(0)\r\n\r\n    // Set timer for current module (convert minutes to seconds)\r\n    setTimeRemaining(currentModule.duration * 60)\r\n    \r\n    // Reset time tracking for new module\r\n    setQuestionStartTimes(new Map())\r\n    setQuestionTimeSpent(new Map())\r\n\r\n    console.log('‚úÖ Module started successfully')\r\n  }, [currentModule])\r\n\r\n  // Track time spent on current question before navigating away\r\n  const recordQuestionTime = useCallback(() => {\r\n    const startTime = questionStartTimes.get(currentQuestionIndex)\r\n    if (startTime) {\r\n      const now = new Date()\r\n      const timeSpent = Math.floor((now.getTime() - startTime.getTime()) / 1000)\r\n      const existingTime = questionTimeSpent.get(currentQuestionIndex) || 0\r\n      const newTimeSpent = new Map(questionTimeSpent)\r\n      newTimeSpent.set(currentQuestionIndex, existingTime + timeSpent)\r\n      setQuestionTimeSpent(newTimeSpent)\r\n    }\r\n  }, [currentQuestionIndex, questionStartTimes, questionTimeSpent])\r\n\r\n  const completeModule = useCallback(async () => {\r\n    if (!currentModule || !moduleStartTime) return\r\n\r\n    const endTime = new Date()\r\n    \r\n    // Record time for current question before completing\r\n    recordQuestionTime()\r\n    \r\n    // Calculate module results with actual time per question\r\n    const moduleQuestionResults: QuestionResult[] = currentModuleQuestions.map((question, index) => ({\r\n      questionId: question.id,\r\n      question: question.question,\r\n      category: question.category,\r\n      difficulty: question.difficulty,\r\n      moduleType: question.moduleType,\r\n      userAnswer: selectedAnswers[index] || -1,\r\n      correctAnswer: question.correctAnswer,\r\n      isCorrect: selectedAnswers[index] === question.correctAnswer,\r\n      timeSpent: questionTimeSpent.get(index) || 0, // Use actual tracked time\r\n      options: question.options,\r\n      explanation: question.explanation\r\n    }))\r\n\r\n    // Add to module results\r\n    const newModuleResults = [...moduleResults]\r\n    newModuleResults[currentModuleIndex] = moduleQuestionResults\r\n    setModuleResults(newModuleResults)\r\n\r\n    // Check if this is the end of reading modules (before math)\r\n    if (currentModuleIndex === 1) {\r\n      // Start 10-minute break\r\n      setIsBreakTime(true)\r\n      setBreakTimeRemaining(600) // 10 minutes = 600 seconds\r\n      setModuleStarted(false)\r\n      return\r\n    }\r\n\r\n    // Move to next module or complete test\r\n    if (currentModuleIndex < MODULE_CONFIGS.length - 1) {\r\n      setCurrentModuleIndex(prev => prev + 1)\r\n      setIsTransitioning(true)\r\n      setModuleStarted(false)\r\n      setCurrentModuleQuestions([]) // Clear questions for next module\r\n      \r\n      // Fetch questions for next module\r\n      const nextModule = MODULE_CONFIGS[currentModuleIndex + 1]\r\n      if (nextModule) {\r\n        await fetchQuestions(nextModule.type, nextModule.questionCount)\r\n      }\r\n    } else {\r\n      // Test complete\r\n      completeTest(newModuleResults)\r\n    }\r\n  }, [currentModule, moduleStartTime, currentModuleQuestions, selectedAnswers, moduleResults, currentModuleIndex, fetchQuestions, recordQuestionTime, questionTimeSpent])\r\n\r\n  const completeTest = useCallback((finalModuleResults: QuestionResult[][]) => {\r\n    if (!testStartTime) return\r\n\r\n    const endTime = new Date()\r\n    const totalTimeSpent = Math.floor((endTime.getTime() - testStartTime.getTime()) / 1000)\r\n    \r\n    // Calculate overall results\r\n    const allResults = finalModuleResults.flat()\r\n    const correctAnswers = allResults.filter(r => r.isCorrect).length\r\n    const totalQuestions = allResults.length\r\n    \r\n    // Calculate category performance\r\n    const categoryPerformance: Record<string, { correct: number; total: number }> = {}\r\n    allResults.forEach(result => {\r\n      if (!categoryPerformance[result.category]) {\r\n        categoryPerformance[result.category] = { correct: 0, total: 0 }\r\n      }\r\n      categoryPerformance[result.category].total++\r\n      if (result.isCorrect) {\r\n        categoryPerformance[result.category].correct++\r\n      }\r\n    })\r\n\r\n    const finalResults: TestResult = {\r\n      id: `test-${Date.now()}`,\r\n      userId,\r\n      startTime: testStartTime,\r\n      endTime,\r\n      totalTimeSpent,\r\n      totalQuestions,\r\n      correctAnswers,\r\n      score: Math.round((correctAnswers / totalQuestions) * 100),\r\n      moduleResults: finalModuleResults,\r\n      categoryPerformance,\r\n      completedAt: endTime\r\n    }\r\n\r\n    setTestResults(finalResults)\r\n    setIsComplete(true)\r\n  }, [testStartTime, userId])\r\n\r\n  // Timer countdown effect\r\n  useEffect(() => {\r\n    if (moduleStarted && timeRemaining > 0 && !isTransitioning && !isComplete) {\r\n      const timer = setTimeout(() => {\r\n        setTimeRemaining(prev => prev - 1)\r\n      }, 1000)\r\n\r\n      return () => clearTimeout(timer)\r\n    } else if (moduleStarted && timeRemaining === 0) {\r\n      // Time's up for this module\r\n      completeModule()\r\n    }\r\n  }, [moduleStarted, timeRemaining, isTransitioning, isComplete, completeModule])\r\n\r\n  const selectAnswer = useCallback((answerIndex: number) => {\r\n    if (currentQuestionIndex >= 0 && currentQuestionIndex < selectedAnswers.length) {\r\n      const newAnswers = [...selectedAnswers]\r\n      newAnswers[currentQuestionIndex] = answerIndex\r\n      setSelectedAnswers(newAnswers)\r\n    }\r\n  }, [currentQuestionIndex, selectedAnswers])\r\n\r\n  const nextQuestion = useCallback(() => {\r\n    if (currentQuestionIndex < currentModuleQuestions.length - 1) {\r\n      recordQuestionTime()\r\n      setCurrentQuestionIndex(prev => prev + 1)\r\n    }\r\n  }, [currentQuestionIndex, currentModuleQuestions.length, recordQuestionTime])\r\n\r\n  const previousQuestion = useCallback(() => {\r\n    if (currentQuestionIndex > 0) {\r\n      recordQuestionTime()\r\n      setCurrentQuestionIndex(prev => prev - 1)\r\n    }\r\n  }, [currentQuestionIndex, recordQuestionTime])\r\n\r\n  const goToQuestion = useCallback((questionIndex: number) => {\r\n    if (questionIndex >= 0 && questionIndex < currentModuleQuestions.length) {\r\n      recordQuestionTime()\r\n      setCurrentQuestionIndex(questionIndex)\r\n    }\r\n  }, [currentModuleQuestions.length, recordQuestionTime])\r\n\r\n  return {\r\n    // State\r\n    testState,\r\n    isLoading,\r\n    error,\r\n    hasStarted,\r\n    currentModuleIndex,\r\n    currentQuestionIndex,\r\n    isTransitioning,\r\n    isComplete,\r\n    moduleStarted,\r\n    isBreakTime,\r\n    breakTimeRemaining,\r\n    timeRemaining,\r\n    selectedAnswers,\r\n    testResults,\r\n    currentModule,\r\n    currentQuestion,\r\n    currentModuleQuestions,\r\n    \r\n    // Actions\r\n    startTest,\r\n    startModule,\r\n    completeModule,\r\n    selectAnswer,\r\n    nextQuestion,\r\n    previousQuestion,\r\n    goToQuestion,\r\n    \r\n    // Computed values\r\n    progress: currentModuleQuestions.length > 0 ? \r\n      Math.round(((currentQuestionIndex + 1) / currentModuleQuestions.length) * 100) : 0,\r\n    questionsAnswered: selectedAnswers.filter(answer => answer !== -1).length,\r\n    canGoNext: currentQuestionIndex < currentModuleQuestions.length - 1,\r\n    canGoPrevious: currentQuestionIndex > 0,\r\n    selectedAnswer: selectedAnswers[currentQuestionIndex] ?? -1\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;AAAA;AAEA;;;;AAEO,SAAS,aAAa,MAAc;;IACzC,MAAM,CAAC,UAAU,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAoB;IAC/C,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,MAAM,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB;IACxC,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC7C,MAAM,CAAC,oBAAoB,sBAAsB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC7D,MAAM,CAAC,sBAAsB,wBAAwB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACjE,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACvD,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC7C,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACnD,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC/C,MAAM,CAAC,oBAAoB,sBAAsB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAE7D,yBAAyB;IACzB,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACnD,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAY,EAAE;IACnE,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAe;IACpE,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAe;IAEhE,wBAAwB;IACxB,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAqB;IAClE,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAsB,EAAE;IAEzE,kDAAkD;IAClD,MAAM,CAAC,wBAAwB,0BAA0B,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAc,EAAE;IACnF,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAY,EAAE;IAEnE,6BAA6B;IAC7B,MAAM,CAAC,oBAAoB,sBAAsB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAqB,IAAI;IACpF,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAuB,IAAI;IAEpF,4BAA4B;IAC5B,MAAM,gBAAgB,CAAA,GAAA,6JAAA,CAAA,UAAO,AAAD;+CAAE;YAC5B,IAAI,sBAAsB,+HAAA,CAAA,iBAAc,CAAC,MAAM,EAAE,OAAO;YACxD,OAAO,+HAAA,CAAA,iBAAc,CAAC,mBAAmB;QAC3C;8CAAG;QAAC;KAAmB;IAEvB,uBAAuB;IACvB,MAAM,kBAAkB,CAAA,GAAA,6JAAA,CAAA,UAAO,AAAD;iDAAE;YAC9B,IAAI,CAAC,iBAAiB,uBAAuB,MAAM,KAAK,GAAG,OAAO;YAElE,IAAI,wBAAwB,uBAAuB,MAAM,EAAE,OAAO;YAClE,OAAO,sBAAsB,CAAC,qBAAqB;QACrD;gDAAG;QAAC;QAAe;QAAwB;KAAqB;IAEhE,qDAAqD;IACrD,MAAM,iBAAiB,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;oDAAE,OAAO,YAAoB;YAC5D,IAAI;gBACF,aAAa;gBACb,MAAM,QAAQ,iBAAiB,CAAC,eAAe,SAAS,KAAK,EAAE;gBAC/D,QAAQ,GAAG,CAAC,AAAC,eAAiD,OAAnC,OAAM,+BAAwC,OAAX;gBAE9D,yDAAyD;gBACzD,MAAM,WAAW,MAAM,MAAM,AAAC,6BAAgD,OAApB,YAAW,WAAmB,OAAV,QAAQ;gBAEtF,IAAI,CAAC,SAAS,EAAE,EAAE;oBAChB,MAAM,IAAI,MAAM,AAAC,8BAAiD,OAApB,SAAS,UAAU;gBACnE;gBAEA,MAAM,OAAO,MAAM,SAAS,IAAI;gBAChC,MAAM,YAAY,KAAK,SAAS,IAAI,KAAK,mDAAmD;;gBAC5F,QAAQ,GAAG,CAAC,AAAC,eAAoC,OAAtB,UAAU,MAAM,IAAI,GAAE;gBAEjD,IAAI,CAAC,aAAa,UAAU,MAAM,KAAK,GAAG;oBACxC,QAAQ,IAAI,CAAC;oBACb,0BAA0B,EAAE;oBAC5B,mBAAmB,EAAE;oBACrB,aAAa;oBACb,OAAO,EAAE;gBACX;gBAEA,oCAAoC;gBACpC,MAAM,qBAAqB,UAAU,MAAM;mFAAC,CAAC,IAAgB,CAAC,gBAAgB,QAAQ,CAAC,EAAE,EAAE;;gBAE3F,iGAAiG;gBACjG,IAAI,iBAAiB;gBACrB,IAAI,mBAAmB,MAAM,GAAG,OAAO;oBACrC,QAAQ,GAAG,CAAC;oBACZ,iBAAiB;oBACjB,mBAAmB,EAAE,GAAE,wCAAwC;gBACjE;gBAEA,0CAA0C;gBAC1C,MAAM,oBAAoB,eAAe,KAAK,CAAC,GAAG;gBAElD,wCAAwC;gBACxC,MAAM,aAAa;uBAAI;iBAAgB;gBACvC,kBAAkB,OAAO;gEAAC,CAAC;wBACzB,IAAI,CAAC,WAAW,QAAQ,CAAC,EAAE,EAAE,GAAG,WAAW,IAAI,CAAC,EAAE,EAAE;oBACtD;;gBACA,mBAAmB;gBAEnB,0BAA0B;gBAC1B,mBAAmB,IAAI,MAAM,kBAAkB,MAAM,EAAE,IAAI,CAAC,CAAC;gBAE7D,QAAQ,GAAG,CAAC,AAAC,SAAiC,OAAzB,kBAAkB,MAAM,EAAC;YAEhD,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,+BAA+B;gBAC7C,MAAM;YACR,SAAU;gBACR,aAAa;YACf;QACF;mDAAG;QAAC;KAAgB;IAEpB,uCAAuC;IACvC,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;kCAAE;YACR,IAAI,mBAAmB,uBAAuB,KAAK,CAAC,eAAe;gBACjE,MAAM,QAAQ;oDAAW;wBACvB;oBACF;mDAAG,OAAO,aAAa;;gBAEvB;8CAAO,IAAM,aAAa;;YAC5B;QACF;iCAAG;QAAC;QAAiB;QAAoB;KAAc;IAEvD,0CAA0C;IAC1C,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;kCAAE;YACR,IAAI,mBAAmB,uBAAuB,KAAK,CAAC,eAAe;gBACjE,MAAM,QAAQ;oDAAW;wBACvB;oBACF;mDAAG,OAAO,aAAa;;gBAEvB;8CAAO,IAAM,aAAa;;YAC5B;QACF;iCAAG;QAAC;QAAiB;QAAoB;KAAc;IAEvD,gDAAgD;IAChD,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;kCAAE;YACR,IAAI,iBAAiB,CAAC,mBAAmB,iBAAiB;gBACxD;8CAAsB,CAAA;wBACpB,MAAM,WAAW,IAAI,IAAI;wBACzB,IAAI,CAAC,SAAS,GAAG,CAAC,uBAAuB;4BACvC,SAAS,GAAG,CAAC,sBAAsB,IAAI;wBACzC;wBACA,OAAO;oBACT;;YACF;QACF;iCAAG;QAAC;QAAe;QAAiB;QAAiB;KAAqB;IAE1E,kDAAkD;IAClD,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;kCAAE;YACR,IAAI,eAAe,qBAAqB,GAAG;gBACzC,MAAM,QAAQ;oDAAW;wBACvB;4DAAsB,CAAA,OAAQ,OAAO;;oBACvC;mDAAG;gBAEH;8CAAO,IAAM,aAAa;;YAC5B,OAAO,IAAI,eAAe,uBAAuB,GAAG;gBAClD,mCAAmC;gBACnC,eAAe;gBACf,mBAAmB;gBACnB,sBAAsB,IAAG,cAAc;YACzC;QACF;iCAAG;QAAC;QAAa;KAAmB;IAEpC,MAAM,YAAY,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;+CAAE;YAC5B,IAAI;gBACF,aAAa;gBACb,iBAAiB,IAAI;gBACrB,cAAc;gBACd,sBAAsB;gBACtB,wBAAwB;gBAExB,oCAAoC;gBACpC,MAAM,eAAe,mBAAmB;gBAExC,mBAAmB;gBACnB,iBAAiB;YACnB,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,wBAAwB;gBACtC,aAAa;YACf;QACF;8CAAG;QAAC;KAAe;IAEnB,MAAM,cAAc,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;iDAAE;YAC9B,IAAI,CAAC,eAAe;YAEpB,QAAQ,GAAG,CAAC,uBAAuB,cAAc,KAAK;YAEtD,mBAAmB,IAAI;YACvB,iBAAiB;YACjB,mBAAmB;YACnB,wBAAwB;YAExB,4DAA4D;YAC5D,iBAAiB,cAAc,QAAQ,GAAG;YAE1C,qCAAqC;YACrC,sBAAsB,IAAI;YAC1B,qBAAqB,IAAI;YAEzB,QAAQ,GAAG,CAAC;QACd;gDAAG;QAAC;KAAc;IAElB,8DAA8D;IAC9D,MAAM,qBAAqB,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;wDAAE;YACrC,MAAM,YAAY,mBAAmB,GAAG,CAAC;YACzC,IAAI,WAAW;gBACb,MAAM,MAAM,IAAI;gBAChB,MAAM,YAAY,KAAK,KAAK,CAAC,CAAC,IAAI,OAAO,KAAK,UAAU,OAAO,EAAE,IAAI;gBACrE,MAAM,eAAe,kBAAkB,GAAG,CAAC,yBAAyB;gBACpE,MAAM,eAAe,IAAI,IAAI;gBAC7B,aAAa,GAAG,CAAC,sBAAsB,eAAe;gBACtD,qBAAqB;YACvB;QACF;uDAAG;QAAC;QAAsB;QAAoB;KAAkB;IAEhE,MAAM,iBAAiB,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;oDAAE;YACjC,IAAI,CAAC,iBAAiB,CAAC,iBAAiB;YAExC,MAAM,UAAU,IAAI;YAEpB,qDAAqD;YACrD;YAEA,yDAAyD;YACzD,MAAM,wBAA0C,uBAAuB,GAAG;kFAAC,CAAC,UAAU,QAAU,CAAC;wBAC/F,YAAY,SAAS,EAAE;wBACvB,UAAU,SAAS,QAAQ;wBAC3B,UAAU,SAAS,QAAQ;wBAC3B,YAAY,SAAS,UAAU;wBAC/B,YAAY,SAAS,UAAU;wBAC/B,YAAY,eAAe,CAAC,MAAM,IAAI,CAAC;wBACvC,eAAe,SAAS,aAAa;wBACrC,WAAW,eAAe,CAAC,MAAM,KAAK,SAAS,aAAa;wBAC5D,WAAW,kBAAkB,GAAG,CAAC,UAAU;wBAC3C,SAAS,SAAS,OAAO;wBACzB,aAAa,SAAS,WAAW;oBACnC,CAAC;;YAED,wBAAwB;YACxB,MAAM,mBAAmB;mBAAI;aAAc;YAC3C,gBAAgB,CAAC,mBAAmB,GAAG;YACvC,iBAAiB;YAEjB,4DAA4D;YAC5D,IAAI,uBAAuB,GAAG;gBAC5B,wBAAwB;gBACxB,eAAe;gBACf,sBAAsB,MAAK,2BAA2B;gBACtD,iBAAiB;gBACjB;YACF;YAEA,uCAAuC;YACvC,IAAI,qBAAqB,+HAAA,CAAA,iBAAc,CAAC,MAAM,GAAG,GAAG;gBAClD;gEAAsB,CAAA,OAAQ,OAAO;;gBACrC,mBAAmB;gBACnB,iBAAiB;gBACjB,0BAA0B,EAAE,GAAE,kCAAkC;gBAEhE,kCAAkC;gBAClC,MAAM,aAAa,+HAAA,CAAA,iBAAc,CAAC,qBAAqB,EAAE;gBACzD,IAAI,YAAY;oBACd,MAAM,eAAe,WAAW,IAAI,EAAE,WAAW,aAAa;gBAChE;YACF,OAAO;gBACL,gBAAgB;gBAChB,aAAa;YACf;QACF;mDAAG;QAAC;QAAe;QAAiB;QAAwB;QAAiB;QAAe;QAAoB;QAAgB;QAAoB;KAAkB;IAEtK,MAAM,eAAe,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;kDAAE,CAAC;YAChC,IAAI,CAAC,eAAe;YAEpB,MAAM,UAAU,IAAI;YACpB,MAAM,iBAAiB,KAAK,KAAK,CAAC,CAAC,QAAQ,OAAO,KAAK,cAAc,OAAO,EAAE,IAAI;YAElF,4BAA4B;YAC5B,MAAM,aAAa,mBAAmB,IAAI;YAC1C,MAAM,iBAAiB,WAAW,MAAM;0DAAC,CAAA,IAAK,EAAE,SAAS;yDAAE,MAAM;YACjE,MAAM,iBAAiB,WAAW,MAAM;YAExC,iCAAiC;YACjC,MAAM,sBAA0E,CAAC;YACjF,WAAW,OAAO;0DAAC,CAAA;oBACjB,IAAI,CAAC,mBAAmB,CAAC,OAAO,QAAQ,CAAC,EAAE;wBACzC,mBAAmB,CAAC,OAAO,QAAQ,CAAC,GAAG;4BAAE,SAAS;4BAAG,OAAO;wBAAE;oBAChE;oBACA,mBAAmB,CAAC,OAAO,QAAQ,CAAC,CAAC,KAAK;oBAC1C,IAAI,OAAO,SAAS,EAAE;wBACpB,mBAAmB,CAAC,OAAO,QAAQ,CAAC,CAAC,OAAO;oBAC9C;gBACF;;YAEA,MAAM,eAA2B;gBAC/B,IAAI,AAAC,QAAkB,OAAX,KAAK,GAAG;gBACpB;gBACA,WAAW;gBACX;gBACA;gBACA;gBACA;gBACA,OAAO,KAAK,KAAK,CAAC,AAAC,iBAAiB,iBAAkB;gBACtD,eAAe;gBACf;gBACA,aAAa;YACf;YAEA,eAAe;YACf,cAAc;QAChB;iDAAG;QAAC;QAAe;KAAO;IAE1B,yBAAyB;IACzB,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;kCAAE;YACR,IAAI,iBAAiB,gBAAgB,KAAK,CAAC,mBAAmB,CAAC,YAAY;gBACzE,MAAM,QAAQ;oDAAW;wBACvB;4DAAiB,CAAA,OAAQ,OAAO;;oBAClC;mDAAG;gBAEH;8CAAO,IAAM,aAAa;;YAC5B,OAAO,IAAI,iBAAiB,kBAAkB,GAAG;gBAC/C,4BAA4B;gBAC5B;YACF;QACF;iCAAG;QAAC;QAAe;QAAe;QAAiB;QAAY;KAAe;IAE9E,MAAM,eAAe,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;kDAAE,CAAC;YAChC,IAAI,wBAAwB,KAAK,uBAAuB,gBAAgB,MAAM,EAAE;gBAC9E,MAAM,aAAa;uBAAI;iBAAgB;gBACvC,UAAU,CAAC,qBAAqB,GAAG;gBACnC,mBAAmB;YACrB;QACF;iDAAG;QAAC;QAAsB;KAAgB;IAE1C,MAAM,eAAe,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;kDAAE;YAC/B,IAAI,uBAAuB,uBAAuB,MAAM,GAAG,GAAG;gBAC5D;gBACA;8DAAwB,CAAA,OAAQ,OAAO;;YACzC;QACF;iDAAG;QAAC;QAAsB,uBAAuB,MAAM;QAAE;KAAmB;IAE5E,MAAM,mBAAmB,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;sDAAE;YACnC,IAAI,uBAAuB,GAAG;gBAC5B;gBACA;kEAAwB,CAAA,OAAQ,OAAO;;YACzC;QACF;qDAAG;QAAC;QAAsB;KAAmB;IAE7C,MAAM,eAAe,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;kDAAE,CAAC;YAChC,IAAI,iBAAiB,KAAK,gBAAgB,uBAAuB,MAAM,EAAE;gBACvE;gBACA,wBAAwB;YAC1B;QACF;iDAAG;QAAC,uBAAuB,MAAM;QAAE;KAAmB;QAqCpC;IAnClB,OAAO;QACL,QAAQ;QACR;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QAEA,UAAU;QACV;QACA;QACA;QACA;QACA;QACA;QACA;QAEA,kBAAkB;QAClB,UAAU,uBAAuB,MAAM,GAAG,IACxC,KAAK,KAAK,CAAC,AAAC,CAAC,uBAAuB,CAAC,IAAI,uBAAuB,MAAM,GAAI,OAAO;QACnF,mBAAmB,gBAAgB,MAAM,CAAC,CAAA,SAAU,WAAW,CAAC,GAAG,MAAM;QACzE,WAAW,uBAAuB,uBAAuB,MAAM,GAAG;QAClE,eAAe,uBAAuB;QACtC,gBAAgB,CAAA,wCAAA,eAAe,CAAC,qBAAqB,cAArC,mDAAA,wCAAyC,CAAC;IAC5D;AACF;GAhYgB","debugId":null}},
    {"offset": {"line": 578, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lionv/DuckSAT/Migration/DuckSAT_CLEAN/src/components/test/TestLauncher.tsx"],"sourcesContent":["\"use client\"\r\n\r\ninterface TestLauncherProps {\r\n  onStartTest: () => void\r\n}\r\n\r\nexport default function TestLauncher({ onStartTest }: TestLauncherProps) {\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 flex items-center justify-center p-4\">\r\n      <div className=\"bg-white/90 backdrop-blur-xl rounded-3xl shadow-2xl p-12 max-w-2xl w-full border border-white/20\">\r\n        <div className=\"text-center mb-8\">\r\n          <div className=\"text-6xl mb-4\">üéì</div>\r\n          <h1 className=\"text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-4\">\r\n            SAT Practice Test\r\n          </h1>\r\n          <p className=\"text-gray-600 text-lg\">\r\n            Complete digital SAT practice test with real-time scoring\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"space-y-4 mb-8\">\r\n          <div className=\"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-6 border-2 border-blue-200\">\r\n            <h3 className=\"font-bold text-blue-900 mb-2\">üìö Reading & Writing</h3>\r\n            <p className=\"text-sm text-blue-700\">2 modules ‚Ä¢ 27 questions each ‚Ä¢ 32 minutes per module</p>\r\n          </div>\r\n          \r\n          <div className=\"bg-gradient-to-r from-purple-50 to-pink-50 rounded-2xl p-6 border-2 border-purple-200\">\r\n            <h3 className=\"font-bold text-purple-900 mb-2\">üî¢ Math</h3>\r\n            <p className=\"text-sm text-purple-700\">2 modules ‚Ä¢ 22 questions each ‚Ä¢ 35 minutes per module</p>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-yellow-50 border-2 border-yellow-300 rounded-2xl p-4 mb-8\">\r\n          <div className=\"flex items-start gap-3\">\r\n            <span className=\"text-2xl\">‚è±Ô∏è</span>\r\n            <div className=\"text-sm text-yellow-800\">\r\n              <p className=\"font-bold mb-1\">Test Guidelines:</p>\r\n              <ul className=\"list-disc list-inside space-y-1\">\r\n                <li>Each module is timed - manage your time wisely</li>\r\n                <li>You can navigate between questions freely</li>\r\n                <li>Review your answers before submitting</li>\r\n                <li>Take a 10-minute break between sections</li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <button\r\n          onClick={onStartTest}\r\n          className=\"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-6 rounded-2xl font-bold text-xl hover:shadow-2xl transition-all transform hover:scale-105\"\r\n        >\r\n          Start Practice Test ‚Üí\r\n        </button>\r\n\r\n        <p className=\"text-center text-sm text-gray-500 mt-6\">\r\n          Total time: ~2 hours 14 minutes\r\n        </p>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;AAMe,SAAS,aAAa,KAAkC;QAAlC,EAAE,WAAW,EAAqB,GAAlC;IACnC,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAI,WAAU;sCAAgB;;;;;;sCAC/B,6LAAC;4BAAG,WAAU;sCAAqG;;;;;;sCAGnH,6LAAC;4BAAE,WAAU;sCAAwB;;;;;;;;;;;;8BAKvC,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAG,WAAU;8CAA+B;;;;;;8CAC7C,6LAAC;oCAAE,WAAU;8CAAwB;;;;;;;;;;;;sCAGvC,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAG,WAAU;8CAAiC;;;;;;8CAC/C,6LAAC;oCAAE,WAAU;8CAA0B;;;;;;;;;;;;;;;;;;8BAI3C,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAK,WAAU;0CAAW;;;;;;0CAC3B,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAE,WAAU;kDAAiB;;;;;;kDAC9B,6LAAC;wCAAG,WAAU;;0DACZ,6LAAC;0DAAG;;;;;;0DACJ,6LAAC;0DAAG;;;;;;0DACJ,6LAAC;0DAAG;;;;;;0DACJ,6LAAC;0DAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8BAMZ,6LAAC;oBACC,SAAS;oBACT,WAAU;8BACX;;;;;;8BAID,6LAAC;oBAAE,WAAU;8BAAyC;;;;;;;;;;;;;;;;;AAM9D;KAtDwB","debugId":null}},
    {"offset": {"line": 802, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lionv/DuckSAT/Migration/DuckSAT_CLEAN/src/components/test/ModuleStart.tsx"],"sourcesContent":["'use client'\r\n\r\ninterface ModuleStartProps {\r\n  module: {\r\n    id: number\r\n    type: 'reading-writing' | 'math'\r\n    duration: number // minutes\r\n    questionCount: number\r\n    title: string\r\n    description: string\r\n  }\r\n  onStartModule: () => void\r\n}\r\n\r\nexport default function ModuleStart({ module, onStartModule }: ModuleStartProps) {\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 p-8 flex items-center justify-center\">\r\n      <div className=\"max-w-2xl w-full\">\r\n        <div className=\"bg-white rounded-3xl shadow-2xl p-12 border-2 border-gray-100\">\r\n          {/* Module Badge */}\r\n          <div className=\"flex justify-center mb-6\">\r\n            <div className=\"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-6 py-2 rounded-full text-sm font-semibold\">\r\n              Module {module.type === 'reading-writing' ? '1' : '2'} of 2\r\n            </div>\r\n          </div>\r\n\r\n          {/* Module Title */}\r\n          <div className=\"text-center mb-8\">\r\n            <h1 className=\"text-4xl font-bold bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-clip-text text-transparent mb-4\">\r\n              {module.title}\r\n            </h1>\r\n            {module.description && (\r\n              <p className=\"text-lg text-gray-600\">{module.description}</p>\r\n            )}\r\n          </div>\r\n\r\n          {/* Module Info Cards */}\r\n          <div className=\"grid grid-cols-2 gap-4 mb-8\">\r\n            <div className=\"bg-gradient-to-br from-blue-50 to-blue-100 rounded-2xl p-6 text-center border-2 border-blue-200\">\r\n              <div className=\"text-3xl mb-2\">üìù</div>\r\n              <div className=\"text-2xl font-bold text-blue-600\">{module.questionCount}</div>\r\n              <div className=\"text-sm text-gray-600\">Questions</div>\r\n            </div>\r\n            <div className=\"bg-gradient-to-br from-purple-50 to-purple-100 rounded-2xl p-6 text-center border-2 border-purple-200\">\r\n              <div className=\"text-3xl mb-2\">‚è±Ô∏è</div>\r\n              <div className=\"text-2xl font-bold text-purple-600\">{module.duration} min</div>\r\n              <div className=\"text-sm text-gray-600\">Time Limit</div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Instructions */}\r\n          <div className=\"bg-gradient-to-r from-amber-50 to-orange-50 rounded-2xl p-6 mb-8 border-2 border-amber-200\">\r\n            <h3 className=\"font-semibold text-gray-800 mb-3 flex items-center gap-2\">\r\n              <span className=\"text-xl\">üí°</span>\r\n              Before You Begin\r\n            </h3>\r\n            <ul className=\"space-y-2 text-sm text-gray-700\">\r\n              <li className=\"flex items-start gap-2\">\r\n                <span className=\"text-blue-500 mt-1\">‚Ä¢</span>\r\n                <span>You can navigate between questions using the buttons at the top</span>\r\n              </li>\r\n              <li className=\"flex items-start gap-2\">\r\n                <span className=\"text-purple-500 mt-1\">‚Ä¢</span>\r\n                <span>Your timer will start when you click &quot;Begin Module&quot;</span>\r\n              </li>\r\n              <li className=\"flex items-start gap-2\">\r\n                <span className=\"text-pink-500 mt-1\">‚Ä¢</span>\r\n                <span>You can review all your answers before submitting</span>\r\n              </li>\r\n              <li className=\"flex items-start gap-2\">\r\n                <span className=\"text-orange-500 mt-1\">‚Ä¢</span>\r\n                <span>Make sure you&apos;re in a quiet space with no distractions</span>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n\r\n          {/* Start Button */}\r\n          <button\r\n            onClick={onStartModule}\r\n            className=\"w-full bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 text-white py-4 rounded-xl font-semibold text-lg hover:shadow-xl transition-all duration-300 hover:scale-105\"\r\n          >\r\n            Begin Module\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;AAce,SAAS,YAAY,KAA2C;QAA3C,EAAE,MAAM,EAAE,aAAa,EAAoB,GAA3C;IAClC,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;;kCAEb,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC;4BAAI,WAAU;;gCAAuG;gCAC5G,OAAO,IAAI,KAAK,oBAAoB,MAAM;gCAAI;;;;;;;;;;;;kCAK1D,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAG,WAAU;0CACX,OAAO,KAAK;;;;;;4BAEd,OAAO,WAAW,kBACjB,6LAAC;gCAAE,WAAU;0CAAyB,OAAO,WAAW;;;;;;;;;;;;kCAK5D,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAI,WAAU;kDAAgB;;;;;;kDAC/B,6LAAC;wCAAI,WAAU;kDAAoC,OAAO,aAAa;;;;;;kDACvE,6LAAC;wCAAI,WAAU;kDAAwB;;;;;;;;;;;;0CAEzC,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAI,WAAU;kDAAgB;;;;;;kDAC/B,6LAAC;wCAAI,WAAU;;4CAAsC,OAAO,QAAQ;4CAAC;;;;;;;kDACrE,6LAAC;wCAAI,WAAU;kDAAwB;;;;;;;;;;;;;;;;;;kCAK3C,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAG,WAAU;;kDACZ,6LAAC;wCAAK,WAAU;kDAAU;;;;;;oCAAS;;;;;;;0CAGrC,6LAAC;gCAAG,WAAU;;kDACZ,6LAAC;wCAAG,WAAU;;0DACZ,6LAAC;gDAAK,WAAU;0DAAqB;;;;;;0DACrC,6LAAC;0DAAK;;;;;;;;;;;;kDAER,6LAAC;wCAAG,WAAU;;0DACZ,6LAAC;gDAAK,WAAU;0DAAuB;;;;;;0DACvC,6LAAC;0DAAK;;;;;;;;;;;;kDAER,6LAAC;wCAAG,WAAU;;0DACZ,6LAAC;gDAAK,WAAU;0DAAqB;;;;;;0DACrC,6LAAC;0DAAK;;;;;;;;;;;;kDAER,6LAAC;wCAAG,WAAU;;0DACZ,6LAAC;gDAAK,WAAU;0DAAuB;;;;;;0DACvC,6LAAC;0DAAK;;;;;;;;;;;;;;;;;;;;;;;;kCAMZ,6LAAC;wBACC,SAAS;wBACT,WAAU;kCACX;;;;;;;;;;;;;;;;;;;;;;AAOX;KAzEwB","debugId":null}},
    {"offset": {"line": 1109, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lionv/DuckSAT/Migration/DuckSAT_CLEAN/src/components/test/TestAnalytics.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { TestResult } from '@/types/test'\r\n\r\ninterface TestAnalyticsProps {\r\n  testResults: TestResult\r\n}\r\n\r\nexport default function TestAnalytics({ testResults }: TestAnalyticsProps) {\r\n  const totalQuestions = testResults.moduleResults.reduce(\r\n    (sum, module) => sum + module.length,\r\n    0\r\n  )\r\n  const totalCorrect = testResults.moduleResults.reduce(\r\n    (sum, module) => sum + module.filter(q => q.isCorrect).length,\r\n    0\r\n  )\r\n  const percentage = Math.round((totalCorrect / totalQuestions) * 100)\r\n  \r\n  // Calculate time analytics\r\n  const allResults = testResults.moduleResults.flat()\r\n  const totalTimeOnQuestions = allResults.reduce((sum, q) => sum + (q.timeSpent || 0), 0)\r\n  const avgTimePerQuestion = totalTimeOnQuestions > 0 ? Math.round(totalTimeOnQuestions / totalQuestions) : 0\r\n  \r\n  // Find slowest and fastest questions\r\n  const questionsWithTime = allResults.filter(q => q.timeSpent && q.timeSpent > 0)\r\n  const slowestQuestion = questionsWithTime.length > 0 \r\n    ? Math.max(...questionsWithTime.map(q => q.timeSpent || 0))\r\n    : 0\r\n  const fastestQuestion = questionsWithTime.length > 0\r\n    ? Math.min(...questionsWithTime.map(q => q.timeSpent || 0))\r\n    : 0\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-green-50 via-blue-50 to-purple-50 p-8\">\r\n      <div className=\"max-w-6xl mx-auto\">\r\n        <div className=\"bg-white/90 backdrop-blur-xl rounded-3xl shadow-2xl p-12 border border-white/20\">\r\n          <div className=\"text-center mb-12\">\r\n            <div className=\"text-6xl mb-6\">üéâ</div>\r\n            <h1 className=\"text-4xl font-bold bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent mb-4\">\r\n              Test Complete!\r\n            </h1>\r\n            <p className=\"text-xl text-gray-600\">\r\n              Here&apos;s how you performed\r\n            </p>\r\n          </div>\r\n\r\n          {/* Overall Score */}\r\n          <div className=\"bg-gradient-to-br from-blue-50 to-indigo-100 rounded-3xl p-8 mb-8 border-2 border-blue-200 text-center\">\r\n            <div className=\"text-6xl font-bold text-blue-600 mb-2\">\r\n              {percentage}%\r\n            </div>\r\n            <div className=\"text-xl text-gray-700\">\r\n              {totalCorrect} out of {totalQuestions} correct\r\n            </div>\r\n          </div>\r\n\r\n          {/* Module Breakdown */}\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8\">\r\n            {testResults.moduleResults.map((module, index) => {\r\n              const moduleCorrect = module.filter(q => q.isCorrect).length\r\n              const modulePercentage = Math.round((moduleCorrect / module.length) * 100)\r\n              \r\n              return (\r\n                <div\r\n                  key={index}\r\n                  className=\"bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl p-6 border-2 border-purple-200\"\r\n                >\r\n                  <h3 className=\"font-bold text-purple-900 text-lg mb-3\">\r\n                    Module {index + 1}\r\n                  </h3>\r\n                  <div className=\"text-3xl font-bold text-purple-600 mb-2\">\r\n                    {modulePercentage}%\r\n                  </div>\r\n                  <div className=\"text-sm text-purple-700\">\r\n                    {moduleCorrect}/{module.length} correct\r\n                  </div>\r\n                </div>\r\n              )\r\n            })}\r\n          </div>\r\n\r\n          {/* Performance Stats */}\r\n          <div className=\"grid grid-cols-2 sm:grid-cols-4 gap-4 mb-8\">\r\n            <div className=\"bg-green-50 rounded-2xl p-6 text-center border-2 border-green-200\">\r\n              <div className=\"text-3xl mb-2\">‚úì</div>\r\n              <div className=\"text-2xl font-bold text-green-600\">{totalCorrect}</div>\r\n              <div className=\"text-sm text-gray-600\">Correct</div>\r\n            </div>\r\n            \r\n            <div className=\"bg-red-50 rounded-2xl p-6 text-center border-2 border-red-200\">\r\n              <div className=\"text-3xl mb-2\">‚úó</div>\r\n              <div className=\"text-2xl font-bold text-red-600\">{totalQuestions - totalCorrect}</div>\r\n              <div className=\"text-sm text-gray-600\">Incorrect</div>\r\n            </div>\r\n            \r\n            <div className=\"bg-blue-50 rounded-2xl p-6 text-center border-2 border-blue-200\">\r\n              <div className=\"text-3xl mb-2\">‚è±Ô∏è</div>\r\n              <div className=\"text-2xl font-bold text-blue-600\">\r\n                {Math.round(testResults.totalTimeSpent / 60)}m\r\n              </div>\r\n              <div className=\"text-sm text-gray-600\">Total Time</div>\r\n            </div>\r\n            \r\n            <div className=\"bg-purple-50 rounded-2xl p-6 text-center border-2 border-purple-200\">\r\n              <div className=\"text-3xl mb-2\">‚è≤Ô∏è</div>\r\n              <div className=\"text-2xl font-bold text-purple-600\">\r\n                {avgTimePerQuestion}s\r\n              </div>\r\n              <div className=\"text-sm text-gray-600\">Avg Per Question</div>\r\n            </div>\r\n          </div>\r\n          \r\n          {/* Time Distribution */}\r\n          {questionsWithTime.length > 0 && (\r\n            <div className=\"bg-gradient-to-br from-orange-50 to-yellow-50 rounded-2xl p-6 mb-8 border-2 border-orange-200\">\r\n              <h3 className=\"font-bold text-orange-900 text-lg mb-4 flex items-center gap-2\">\r\n                <span>‚è∞</span>\r\n                Time Distribution\r\n              </h3>\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div>\r\n                  <div className=\"text-sm text-gray-600 mb-1\">Fastest Question</div>\r\n                  <div className=\"text-2xl font-bold text-green-600\">{fastestQuestion}s</div>\r\n                </div>\r\n                <div>\r\n                  <div className=\"text-sm text-gray-600 mb-1\">Slowest Question</div>\r\n                  <div className=\"text-2xl font-bold text-orange-600\">{slowestQuestion}s</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Actions */}\r\n          <div className=\"flex gap-4\">\r\n            <button\r\n              onClick={() => window.location.href = '/practice-test'}\r\n              className=\"flex-1 bg-gradient-to-r from-blue-600 to-purple-600 text-white py-4 rounded-2xl font-bold text-lg hover:shadow-lg transition-all\"\r\n            >\r\n              Take Another Test\r\n            </button>\r\n            <button\r\n              onClick={() => window.location.href = '/progress'}\r\n              className=\"flex-1 bg-gray-200 text-gray-700 py-4 rounded-2xl font-bold text-lg hover:bg-gray-300 transition-all\"\r\n            >\r\n              View Progress\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;AAQe,SAAS,cAAc,KAAmC;QAAnC,EAAE,WAAW,EAAsB,GAAnC;IACpC,MAAM,iBAAiB,YAAY,aAAa,CAAC,MAAM,CACrD,CAAC,KAAK,SAAW,MAAM,OAAO,MAAM,EACpC;IAEF,MAAM,eAAe,YAAY,aAAa,CAAC,MAAM,CACnD,CAAC,KAAK,SAAW,MAAM,OAAO,MAAM,CAAC,CAAA,IAAK,EAAE,SAAS,EAAE,MAAM,EAC7D;IAEF,MAAM,aAAa,KAAK,KAAK,CAAC,AAAC,eAAe,iBAAkB;IAEhE,2BAA2B;IAC3B,MAAM,aAAa,YAAY,aAAa,CAAC,IAAI;IACjD,MAAM,uBAAuB,WAAW,MAAM,CAAC,CAAC,KAAK,IAAM,MAAM,CAAC,EAAE,SAAS,IAAI,CAAC,GAAG;IACrF,MAAM,qBAAqB,uBAAuB,IAAI,KAAK,KAAK,CAAC,uBAAuB,kBAAkB;IAE1G,qCAAqC;IACrC,MAAM,oBAAoB,WAAW,MAAM,CAAC,CAAA,IAAK,EAAE,SAAS,IAAI,EAAE,SAAS,GAAG;IAC9E,MAAM,kBAAkB,kBAAkB,MAAM,GAAG,IAC/C,KAAK,GAAG,IAAI,kBAAkB,GAAG,CAAC,CAAA,IAAK,EAAE,SAAS,IAAI,MACtD;IACJ,MAAM,kBAAkB,kBAAkB,MAAM,GAAG,IAC/C,KAAK,GAAG,IAAI,kBAAkB,GAAG,CAAC,CAAA,IAAK,EAAE,SAAS,IAAI,MACtD;IAEJ,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;0CAAgB;;;;;;0CAC/B,6LAAC;gCAAG,WAAU;0CAAoG;;;;;;0CAGlH,6LAAC;gCAAE,WAAU;0CAAwB;;;;;;;;;;;;kCAMvC,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;;oCACZ;oCAAW;;;;;;;0CAEd,6LAAC;gCAAI,WAAU;;oCACZ;oCAAa;oCAAS;oCAAe;;;;;;;;;;;;;kCAK1C,6LAAC;wBAAI,WAAU;kCACZ,YAAY,aAAa,CAAC,GAAG,CAAC,CAAC,QAAQ;4BACtC,MAAM,gBAAgB,OAAO,MAAM,CAAC,CAAA,IAAK,EAAE,SAAS,EAAE,MAAM;4BAC5D,MAAM,mBAAmB,KAAK,KAAK,CAAC,AAAC,gBAAgB,OAAO,MAAM,GAAI;4BAEtE,qBACE,6LAAC;gCAEC,WAAU;;kDAEV,6LAAC;wCAAG,WAAU;;4CAAyC;4CAC7C,QAAQ;;;;;;;kDAElB,6LAAC;wCAAI,WAAU;;4CACZ;4CAAiB;;;;;;;kDAEpB,6LAAC;wCAAI,WAAU;;4CACZ;4CAAc;4CAAE,OAAO,MAAM;4CAAC;;;;;;;;+BAV5B;;;;;wBAcX;;;;;;kCAIF,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAI,WAAU;kDAAgB;;;;;;kDAC/B,6LAAC;wCAAI,WAAU;kDAAqC;;;;;;kDACpD,6LAAC;wCAAI,WAAU;kDAAwB;;;;;;;;;;;;0CAGzC,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAI,WAAU;kDAAgB;;;;;;kDAC/B,6LAAC;wCAAI,WAAU;kDAAmC,iBAAiB;;;;;;kDACnE,6LAAC;wCAAI,WAAU;kDAAwB;;;;;;;;;;;;0CAGzC,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAI,WAAU;kDAAgB;;;;;;kDAC/B,6LAAC;wCAAI,WAAU;;4CACZ,KAAK,KAAK,CAAC,YAAY,cAAc,GAAG;4CAAI;;;;;;;kDAE/C,6LAAC;wCAAI,WAAU;kDAAwB;;;;;;;;;;;;0CAGzC,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAI,WAAU;kDAAgB;;;;;;kDAC/B,6LAAC;wCAAI,WAAU;;4CACZ;4CAAmB;;;;;;;kDAEtB,6LAAC;wCAAI,WAAU;kDAAwB;;;;;;;;;;;;;;;;;;oBAK1C,kBAAkB,MAAM,GAAG,mBAC1B,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAG,WAAU;;kDACZ,6LAAC;kDAAK;;;;;;oCAAQ;;;;;;;0CAGhB,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;;0DACC,6LAAC;gDAAI,WAAU;0DAA6B;;;;;;0DAC5C,6LAAC;gDAAI,WAAU;;oDAAqC;oDAAgB;;;;;;;;;;;;;kDAEtE,6LAAC;;0DACC,6LAAC;gDAAI,WAAU;0DAA6B;;;;;;0DAC5C,6LAAC;gDAAI,WAAU;;oDAAsC;oDAAgB;;;;;;;;;;;;;;;;;;;;;;;;;kCAO7E,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCACC,SAAS,IAAM,OAAO,QAAQ,CAAC,IAAI,GAAG;gCACtC,WAAU;0CACX;;;;;;0CAGD,6LAAC;gCACC,SAAS,IAAM,OAAO,QAAQ,CAAC,IAAI,GAAG;gCACtC,WAAU;0CACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQb;KAhJwB","debugId":null}},
    {"offset": {"line": 1548, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lionv/DuckSAT/Migration/DuckSAT_CLEAN/src/components/test/ReviewPage.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { Question } from '@/types/test'\r\n\r\ninterface ReviewPageProps {\r\n  questions: Question[]\r\n  selectedAnswers: number[]\r\n  currentModule: {\r\n    title: string\r\n    questionCount: number\r\n  }\r\n  onQuestionClick: (index: number) => void\r\n  onSubmit: () => void\r\n  onBackToTest: () => void\r\n  timeRemaining: number\r\n}\r\n\r\nexport default function ReviewPage({\r\n  questions,\r\n  selectedAnswers,\r\n  currentModule,\r\n  onQuestionClick,\r\n  onSubmit,\r\n  onBackToTest,\r\n  timeRemaining\r\n}: ReviewPageProps) {\r\n  const answeredCount = selectedAnswers.filter(a => a !== -1).length\r\n  const unansweredCount = questions.length - answeredCount\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50\">\r\n      {/* Header */}\r\n      <div className=\"bg-white/80 backdrop-blur-xl shadow-lg border-b border-white/20\">\r\n        <div className=\"max-w-6xl mx-auto px-4 py-4\">\r\n          <div className=\"flex justify-between items-center\">\r\n            <div>\r\n              <h1 className=\"text-2xl font-bold bg-gradient-to-r from-amber-600 to-orange-600 bg-clip-text text-transparent\">\r\n                üìã Review Your Answers\r\n              </h1>\r\n              <p className=\"text-gray-600\">\r\n                {currentModule.title}\r\n              </p>\r\n            </div>\r\n            <div className=\"text-right\">\r\n              <div className={`text-2xl font-bold transition-colors ${\r\n                timeRemaining <= 300 // 5 minutes\r\n                  ? 'text-red-500 animate-pulse'\r\n                  : timeRemaining <= 600 // 10 minutes\r\n                  ? 'text-orange-500'\r\n                  : 'text-purple-600'\r\n              }`}>\r\n                {Math.floor(timeRemaining / 60)}:{(timeRemaining % 60).toString().padStart(2, '0')}\r\n              </div>\r\n              <div className=\"text-sm text-gray-500\">\r\n                {timeRemaining <= 300 ? '‚ö†Ô∏è Time Running Out!' : 'Time Remaining'}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"max-w-6xl mx-auto px-4 py-8\">\r\n        {/* Summary Card */}\r\n        <div className=\"bg-white/80 backdrop-blur-xl rounded-3xl shadow-xl p-8 border border-white/20 mb-6\">\r\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6\">\r\n            <div className=\"text-center p-6 bg-gradient-to-br from-blue-50 to-indigo-100 rounded-2xl border-2 border-blue-200\">\r\n              <div className=\"text-3xl font-bold text-blue-600\">{questions.length}</div>\r\n              <div className=\"text-gray-700 font-medium mt-2\">Total Questions</div>\r\n            </div>\r\n            <div className=\"text-center p-6 bg-gradient-to-br from-green-50 to-emerald-100 rounded-2xl border-2 border-green-200\">\r\n              <div className=\"text-3xl font-bold text-green-600\">{answeredCount}</div>\r\n              <div className=\"text-gray-700 font-medium mt-2\">Answered</div>\r\n            </div>\r\n            <div className=\"text-center p-6 bg-gradient-to-br from-orange-50 to-red-100 rounded-2xl border-2 border-orange-200\">\r\n              <div className=\"text-3xl font-bold text-orange-600\">{unansweredCount}</div>\r\n              <div className=\"text-gray-700 font-medium mt-2\">Unanswered</div>\r\n            </div>\r\n          </div>\r\n\r\n          {unansweredCount > 0 && (\r\n            <div className=\"bg-yellow-50 border-2 border-yellow-300 rounded-2xl p-4 mb-6\">\r\n              <div className=\"flex items-start gap-3\">\r\n                <span className=\"text-2xl\">‚ö†Ô∏è</span>\r\n                <div>\r\n                  <div className=\"font-bold text-yellow-900 mb-1\">\r\n                    You have {unansweredCount} unanswered question{unansweredCount !== 1 ? 's' : ''}\r\n                  </div>\r\n                  <div className=\"text-sm text-yellow-800\">\r\n                    Review these questions before submitting your module.\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"flex gap-4\">\r\n            <button\r\n              onClick={onBackToTest}\r\n              className=\"flex-1 px-6 py-4 bg-gray-200 text-gray-700 rounded-2xl hover:bg-gray-300 transition-colors font-medium text-lg\"\r\n            >\r\n              ‚Üê Back to Test\r\n            </button>\r\n            <button\r\n              onClick={onSubmit}\r\n              className=\"flex-1 px-6 py-4 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-2xl hover:shadow-lg transition-all font-medium text-lg\"\r\n            >\r\n              Submit Module ‚úì\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Questions Grid */}\r\n        <div className=\"bg-white/80 backdrop-blur-xl rounded-3xl shadow-xl p-8 border border-white/20\">\r\n          <h2 className=\"text-xl font-bold text-gray-900 mb-6\">Question Status</h2>\r\n          \r\n          <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4\">\r\n            {questions.map((question, index) => {\r\n              const isAnswered = selectedAnswers[index] !== -1\r\n              \r\n              return (\r\n                <button\r\n                  key={question.id}\r\n                  onClick={() => onQuestionClick(index)}\r\n                  className={`\r\n                    relative p-6 rounded-2xl border-2 transition-all duration-200\r\n                    hover:scale-105 hover:shadow-lg\r\n                    ${isAnswered\r\n                      ? 'bg-gradient-to-br from-green-50 to-emerald-100 border-green-300'\r\n                      : 'bg-gradient-to-br from-orange-50 to-red-100 border-orange-300'\r\n                    }\r\n                  `}\r\n                >\r\n                  <div className={`text-3xl font-bold mb-2 ${\r\n                    isAnswered ? 'text-green-600' : 'text-orange-600'\r\n                  }`}>\r\n                    {index + 1}\r\n                  </div>\r\n                  \r\n                  <div className={`text-xs font-medium ${\r\n                    isAnswered ? 'text-green-700' : 'text-orange-700'\r\n                  }`}>\r\n                    {isAnswered ? '‚úì Answered' : '‚óã Unanswered'}\r\n                  </div>\r\n\r\n                  {isAnswered && (\r\n                    <div className=\"mt-2 text-sm font-bold text-green-700\">\r\n                      {String.fromCharCode(65 + selectedAnswers[index])}\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* Status indicator */}\r\n                  <div className={`absolute top-2 right-2 w-3 h-3 rounded-full ${\r\n                    isAnswered ? 'bg-green-500' : 'bg-orange-500'\r\n                  }`} />\r\n                </button>\r\n              )\r\n            })}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1908, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lionv/DuckSAT/Migration/DuckSAT_CLEAN/src/components/test/QuestionNavigator.tsx"],"sourcesContent":["\"use client\"\r\n\r\ninterface QuestionNavigatorProps {\r\n  totalQuestions: number\r\n  currentQuestion: number\r\n  answeredQuestions: number[];\r\n  onQuestionClick: (index: number) => void\r\n  onReviewClick: () => void\r\n}\r\n\r\nexport default function QuestionNavigator({\r\n  totalQuestions,\r\n  currentQuestion,\r\n  answeredQuestions,\r\n  onQuestionClick,\r\n  onReviewClick\r\n}: QuestionNavigatorProps) {\r\n  return (\r\n    <div className=\"bg-white/90 backdrop-blur-sm border-b border-gray-200 shadow-sm\">\r\n      <div className=\"max-w-7xl mx-auto px-4 py-3\">\r\n        <div className=\"flex items-center justify-between gap-4\">\r\n          <div className=\"flex items-center gap-2 overflow-x-auto scrollbar-hide flex-1\">\r\n            <span className=\"text-sm font-medium text-gray-600 whitespace-nowrap mr-2\">\r\n              Questions:\r\n            </span>\r\n            {Array.from({ length: totalQuestions }, (_, i) => {\r\n              const isAnswered = answeredQuestions.includes(i)\r\n              const isCurrent = i === currentQuestion\r\n              \r\n              return (\r\n                <button\r\n                  key={i}\r\n                  onClick={() => onQuestionClick(i)}\r\n                  className={`\r\n                    min-w-[40px] h-10 px-3 rounded-lg font-medium text-sm\r\n                    transition-all duration-200 border-2\r\n                    ${isCurrent\r\n                      ? 'bg-gradient-to-r from-blue-500 to-purple-600 text-white border-transparent shadow-md scale-110'\r\n                      : isAnswered\r\n                      ? 'bg-green-100 text-green-700 border-green-300 hover:bg-green-200'\r\n                      : 'bg-gray-100 text-gray-600 border-gray-300 hover:bg-gray-200'\r\n                    }\r\n                  `}\r\n                  title={isAnswered ? `Question ${i + 1} (Answered)` : `Question ${i + 1} (Unanswered)`}\r\n                >\r\n                  {i + 1}\r\n                </button>\r\n              )\r\n            })}\r\n          </div>\r\n          \r\n          <button\r\n            onClick={onReviewClick}\r\n            className=\"whitespace-nowrap px-6 py-2.5 bg-gradient-to-r from-amber-500 to-orange-600 text-white rounded-lg font-medium hover:shadow-lg transition-all flex items-center gap-2\"\r\n          >\r\n            <span>üìã</span>\r\n            <span>Review</span>\r\n          </button>\r\n        </div>\r\n        \r\n        {/* Legend */}\r\n        <div className=\"flex items-center gap-4 mt-3 text-xs text-gray-600\">\r\n          <div className=\"flex items-center gap-1.5\">\r\n            <div className=\"w-6 h-6 rounded bg-gradient-to-r from-blue-500 to-purple-600\"></div>\r\n            <span>Current</span>\r\n          </div>\r\n          <div className=\"flex items-center gap-1.5\">\r\n            <div className=\"w-6 h-6 rounded bg-green-100 border-2 border-green-300\"></div>\r\n            <span>Answered</span>\r\n          </div>\r\n          <div className=\"flex items-center gap-1.5\">\r\n            <div className=\"w-6 h-6 rounded bg-gray-100 border-2 border-gray-300\"></div>\r\n            <span>Unanswered</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;AAUe,SAAS,kBAAkB,KAMjB;QANiB,EACxC,cAAc,EACd,eAAe,EACf,iBAAiB,EACjB,eAAe,EACf,aAAa,EACU,GANiB;IAOxC,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAK,WAAU;8CAA2D;;;;;;gCAG1E,MAAM,IAAI,CAAC;oCAAE,QAAQ;gCAAe,GAAG,CAAC,GAAG;oCAC1C,MAAM,aAAa,kBAAkB,QAAQ,CAAC;oCAC9C,MAAM,YAAY,MAAM;oCAExB,qBACE,6LAAC;wCAEC,SAAS,IAAM,gBAAgB;wCAC/B,WAAW,AAAC,8JAQT,OALC,YACE,mGACA,aACA,oEACA,+DACH;wCAEH,OAAO,aAAa,AAAC,YAAiB,OAAN,IAAI,GAAE,iBAAe,AAAC,YAAiB,OAAN,IAAI,GAAE;kDAEtE,IAAI;uCAdA;;;;;gCAiBX;;;;;;;sCAGF,6LAAC;4BACC,SAAS;4BACT,WAAU;;8CAEV,6LAAC;8CAAK;;;;;;8CACN,6LAAC;8CAAK;;;;;;;;;;;;;;;;;;8BAKV,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAI,WAAU;;;;;;8CACf,6LAAC;8CAAK;;;;;;;;;;;;sCAER,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAI,WAAU;;;;;;8CACf,6LAAC;8CAAK;;;;;;;;;;;;sCAER,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAI,WAAU;;;;;;8CACf,6LAAC;8CAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMlB;KApEwB","debugId":null}},
    {"offset": {"line": 2089, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lionv/DuckSAT/Migration/DuckSAT_CLEAN/src/components/MathRenderer.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport React from 'react'\r\nimport 'katex/dist/katex.min.css'\r\nimport { InlineMath, BlockMath } from 'react-katex'\r\n\r\ninterface MathRendererProps {\r\n  children: string\r\n  block?: boolean\r\n  className?: string\r\n}\r\n\r\n/**\r\n * MathRenderer component for displaying mathematical equations\r\n * Automatically detects and renders LaTeX math expressions\r\n */\r\nexport default function MathRenderer({ children, block = false, className = '' }: MathRendererProps) {\r\n  // Convert common math notation to LaTeX\r\n  const convertToLatex = (text: string): string => {\r\n    return text\r\n      // Fractions: 1/2 -> \\frac{1}{2}\r\n      .replace(/(\\d+)\\/(\\d+)/g, '\\\\frac{$1}{$2}')\r\n      // Exponents: x^2 -> x^{2}, x^(2+3) -> x^{(2+3)}\r\n      .replace(/\\^(\\d+)/g, '^{$1}')\r\n      .replace(/\\^(\\([^)]+\\))/g, '^{$1}')\r\n      // Square roots: sqrt(x) -> \\sqrt{x}\r\n      .replace(/sqrt\\(([^)]+)\\)/g, '\\\\sqrt{$1}')\r\n      // Subscripts: x_1 -> x_{1}\r\n      .replace(/_(\\d+)/g, '_{$1}')\r\n      // Greek letters\r\n      .replace(/\\bpi\\b/g, '\\\\pi')\r\n      .replace(/\\btheta\\b/g, '\\\\theta')\r\n      .replace(/\\balpha\\b/g, '\\\\alpha')\r\n      .replace(/\\bbeta\\b/g, '\\\\beta')\r\n      .replace(/\\bgamma\\b/g, '\\\\gamma')\r\n      .replace(/\\bdelta\\b/g, '\\\\delta')\r\n      // Infinity\r\n      .replace(/infinity/g, '\\\\infty')\r\n      // Plus/minus\r\n      .replace(/\\+\\/-/g, '\\\\pm')\r\n      // Degree symbol\r\n      .replace(/degrees?/g, '^\\\\circ')\r\n      // Inequalities\r\n      .replace(/<=/g, '\\\\leq')\r\n      .replace(/>=/g, '\\\\geq')\r\n      .replace(/!=/g, '\\\\neq')\r\n      // Functions\r\n      .replace(/\\bsin\\b/g, '\\\\sin')\r\n      .replace(/\\bcos\\b/g, '\\\\cos')\r\n      .replace(/\\btan\\b/g, '\\\\tan')\r\n      .replace(/\\blog\\b/g, '\\\\log')\r\n      .replace(/\\bln\\b/g, '\\\\ln')\r\n  }\r\n\r\n  // Check if the text contains math expressions\r\n  const containsMath = (text: string): boolean => {\r\n    const mathPatterns = [\r\n      /\\^[\\d\\{\\(]/,  // Exponents\r\n      /_[\\d\\{]/,     // Subscripts\r\n      /\\\\[a-zA-Z]+/, // LaTeX commands\r\n      /\\\\\\{|\\\\\\}/,   // LaTeX braces\r\n      /\\bsqrt\\(/,    // Square root\r\n      /\\d+\\/\\d+/,    // Fractions\r\n      /[xy]\\s*[=<>]/,// Equations\r\n      /\\([^)]*[xy][^)]*\\)/, // Expressions with variables\r\n    ]\r\n    return mathPatterns.some(pattern => pattern.test(text))\r\n  }\r\n\r\n  // Split text into math and non-math parts\r\n  const renderMixedContent = (text: string) => {\r\n    // Look for inline math expressions in $...$ or between common math patterns\r\n    const parts = []\r\n    let currentIndex = 0\r\n    \r\n    // Find math expressions\r\n    const mathRegex = /(\\$[^$]+\\$|[xy]\\s*=\\s*[^,\\s.!?]+|f\\([^)]+\\)\\s*=\\s*[^,\\s.!?]+|\\d+\\/\\d+|[a-zA-Z]\\^[\\d\\{]|\\\\[a-zA-Z]+\\{[^}]*\\})/g\r\n    let match\r\n    \r\n    while ((match = mathRegex.exec(text)) !== null) {\r\n      // Add text before math\r\n      if (match.index > currentIndex) {\r\n        parts.push(\r\n          <span key={`text-${currentIndex}`}>\r\n            {text.slice(currentIndex, match.index)}\r\n          </span>\r\n        )\r\n      }\r\n      \r\n      // Add math expression\r\n      let mathExpression = match[1]\r\n      if (mathExpression.startsWith('$') && mathExpression.endsWith('$')) {\r\n        mathExpression = mathExpression.slice(1, -1)\r\n      }\r\n      \r\n      try {\r\n        parts.push(\r\n          <InlineMath key={`math-${match.index}`}>\r\n            {convertToLatex(mathExpression)}\r\n          </InlineMath>\r\n        )\r\n      } catch (error) {\r\n        // If LaTeX parsing fails, show as regular text\r\n        parts.push(\r\n          <span key={`fallback-${match.index}`} className=\"font-mono bg-gray-100 px-1 rounded\">\r\n            {mathExpression}\r\n          </span>\r\n        )\r\n      }\r\n      \r\n      currentIndex = match.index + match[0].length\r\n    }\r\n    \r\n    // Add remaining text\r\n    if (currentIndex < text.length) {\r\n      parts.push(\r\n        <span key={`text-${currentIndex}`}>\r\n          {text.slice(currentIndex)}\r\n        </span>\r\n      )\r\n    }\r\n    \r\n    return parts.length > 0 ? parts : [text]\r\n  }\r\n\r\n  // If it's a block math expression or contains only math\r\n  if (block || (containsMath(children) && children.trim().match(/^[\\s\\$]*[xy]\\s*=|^[\\s\\$]*f\\([^)]+\\)\\s*=|^[\\s\\$]*\\\\[a-zA-Z]/))) {\r\n    try {\r\n      let mathExpression = children\r\n      if (mathExpression.startsWith('$') && mathExpression.endsWith('$')) {\r\n        mathExpression = mathExpression.slice(1, -1)\r\n      }\r\n      \r\n      return (\r\n        <div className={`math-block ${className}`}>\r\n          <BlockMath>{convertToLatex(mathExpression)}</BlockMath>\r\n        </div>\r\n      )\r\n    } catch (error) {\r\n      return (\r\n        <div className={`font-mono bg-gray-100 p-2 rounded ${className}`}>\r\n          {children}\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n\r\n  // For mixed content (text with inline math)\r\n  if (containsMath(children)) {\r\n    return (\r\n      <span className={className}>\r\n        {renderMixedContent(children)}\r\n      </span>\r\n    )\r\n  }\r\n\r\n  // Regular text\r\n  return <span className={className}>{children}</span>\r\n}\r\n\r\n// Helper component for specifically rendering equations\r\nexport function MathEquation({ children, className = '' }: { children: string; className?: string }) {\r\n  return <MathRenderer block={true} className={className}>{children}</MathRenderer>\r\n}\r\n\r\n// Helper component for inline math\r\nexport function InlineMathRenderer({ children, className = '' }: { children: string; className?: string }) {\r\n  return <MathRenderer block={false} className={className}>{children}</MathRenderer>\r\n}\r\n"],"names":[],"mappings":";;;;;;AAIA;AAJA;;;;AAgBe,SAAS,aAAa,KAA8D;QAA9D,EAAE,QAAQ,EAAE,QAAQ,KAAK,EAAE,YAAY,EAAE,EAAqB,GAA9D;IACnC,wCAAwC;IACxC,MAAM,iBAAiB,CAAC;QACtB,OAAO,IACL,gCAAgC;SAC/B,OAAO,CAAC,iBAAiB,iBAC1B,gDAAgD;SAC/C,OAAO,CAAC,YAAY,SACpB,OAAO,CAAC,kBAAkB,QAC3B,oCAAoC;SACnC,OAAO,CAAC,oBAAoB,aAC7B,2BAA2B;SAC1B,OAAO,CAAC,WAAW,QACpB,gBAAgB;SACf,OAAO,CAAC,WAAW,QACnB,OAAO,CAAC,cAAc,WACtB,OAAO,CAAC,cAAc,WACtB,OAAO,CAAC,aAAa,UACrB,OAAO,CAAC,cAAc,WACtB,OAAO,CAAC,cAAc,UACvB,WAAW;SACV,OAAO,CAAC,aAAa,UACtB,aAAa;SACZ,OAAO,CAAC,UAAU,OACnB,gBAAgB;SACf,OAAO,CAAC,aAAa,UACtB,eAAe;SACd,OAAO,CAAC,OAAO,SACf,OAAO,CAAC,OAAO,SACf,OAAO,CAAC,OAAO,QAChB,YAAY;SACX,OAAO,CAAC,YAAY,SACpB,OAAO,CAAC,YAAY,SACpB,OAAO,CAAC,YAAY,SACpB,OAAO,CAAC,YAAY,SACpB,OAAO,CAAC,WAAW;IACxB;IAEA,8CAA8C;IAC9C,MAAM,eAAe,CAAC;QACpB,MAAM,eAAe;YACnB;YACA;YACA;YACA;YACA;YACA;YACA;YACA;SACD;QACD,OAAO,aAAa,IAAI,CAAC,CAAA,UAAW,QAAQ,IAAI,CAAC;IACnD;IAEA,0CAA0C;IAC1C,MAAM,qBAAqB,CAAC;QAC1B,4EAA4E;QAC5E,MAAM,QAAQ,EAAE;QAChB,IAAI,eAAe;QAEnB,wBAAwB;QACxB,MAAM,YAAY;QAClB,IAAI;QAEJ,MAAO,CAAC,QAAQ,UAAU,IAAI,CAAC,KAAK,MAAM,KAAM;YAC9C,uBAAuB;YACvB,IAAI,MAAM,KAAK,GAAG,cAAc;gBAC9B,MAAM,IAAI,eACR,6LAAC;8BACE,KAAK,KAAK,CAAC,cAAc,MAAM,KAAK;mBAD5B,AAAC,QAAoB,OAAb;;;;;YAIvB;YAEA,sBAAsB;YACtB,IAAI,iBAAiB,KAAK,CAAC,EAAE;YAC7B,IAAI,eAAe,UAAU,CAAC,QAAQ,eAAe,QAAQ,CAAC,MAAM;gBAClE,iBAAiB,eAAe,KAAK,CAAC,GAAG,CAAC;YAC5C;YAEA,IAAI;gBACF,MAAM,IAAI,eACR,6LAAC,2JAAA,CAAA,aAAU;8BACR,eAAe;mBADD,AAAC,QAAmB,OAAZ,MAAM,KAAK;;;;;YAIxC,EAAE,OAAO,OAAO;gBACd,+CAA+C;gBAC/C,MAAM,IAAI,eACR,6LAAC;oBAAqC,WAAU;8BAC7C;mBADQ,AAAC,YAAuB,OAAZ,MAAM,KAAK;;;;;YAItC;YAEA,eAAe,MAAM,KAAK,GAAG,KAAK,CAAC,EAAE,CAAC,MAAM;QAC9C;QAEA,qBAAqB;QACrB,IAAI,eAAe,KAAK,MAAM,EAAE;YAC9B,MAAM,IAAI,eACR,6LAAC;0BACE,KAAK,KAAK,CAAC;eADH,AAAC,QAAoB,OAAb;;;;;QAIvB;QAEA,OAAO,MAAM,MAAM,GAAG,IAAI,QAAQ;YAAC;SAAK;IAC1C;IAEA,wDAAwD;IACxD,IAAI,SAAU,aAAa,aAAa,SAAS,IAAI,GAAG,KAAK,CAAC,+DAAgE;QAC5H,IAAI;YACF,IAAI,iBAAiB;YACrB,IAAI,eAAe,UAAU,CAAC,QAAQ,eAAe,QAAQ,CAAC,MAAM;gBAClE,iBAAiB,eAAe,KAAK,CAAC,GAAG,CAAC;YAC5C;YAEA,qBACE,6LAAC;gBAAI,WAAW,AAAC,cAAuB,OAAV;0BAC5B,cAAA,6LAAC,2JAAA,CAAA,YAAS;8BAAE,eAAe;;;;;;;;;;;QAGjC,EAAE,OAAO,OAAO;YACd,qBACE,6LAAC;gBAAI,WAAW,AAAC,qCAA8C,OAAV;0BAClD;;;;;;QAGP;IACF;IAEA,4CAA4C;IAC5C,IAAI,aAAa,WAAW;QAC1B,qBACE,6LAAC;YAAK,WAAW;sBACd,mBAAmB;;;;;;IAG1B;IAEA,eAAe;IACf,qBAAO,6LAAC;QAAK,WAAW;kBAAY;;;;;;AACtC;KA9IwB;AAiJjB,SAAS,aAAa,KAAsE;QAAtE,EAAE,QAAQ,EAAE,YAAY,EAAE,EAA4C,GAAtE;IAC3B,qBAAO,6LAAC;QAAa,OAAO;QAAM,WAAW;kBAAY;;;;;;AAC3D;MAFgB;AAKT,SAAS,mBAAmB,KAAsE;QAAtE,EAAE,QAAQ,EAAE,YAAY,EAAE,EAA4C,GAAtE;IACjC,qBAAO,6LAAC;QAAa,OAAO;QAAO,WAAW;kBAAY;;;;;;AAC5D;MAFgB","debugId":null}},
    {"offset": {"line": 2282, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lionv/DuckSAT/Migration/DuckSAT_CLEAN/src/components/ChartRenderer.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport React from 'react'\r\n\r\nimport { VegaEmbed } from 'react-vega';\r\n\r\n// Types\r\ntype ChartType = 'scatter' | 'coordinate-plane' | 'scatter-plot' | 'bar' | 'bar-chart' | 'geometry' | 'geometric-diagram' | 'image' | string\r\n\r\ninterface ChartDataCommon {\r\n  type?: string\r\n  graphType?: string\r\n  diagramType?: string\r\n  description?: string\r\n  imageUrl?: string\r\n}\r\n\r\ninterface ScatterPoint {\r\n  x: number\r\n  y: number\r\n  label?: string\r\n}\r\n\r\ninterface XYDatum {\r\n  x?: number\r\n  y?: number\r\n  label?: string\r\n  point?: string\r\n}\r\n\r\ninterface ScatterChartData extends ChartDataCommon {\r\n  points?: ScatterPoint[]\r\n  data?: XYDatum[]\r\n  line?: boolean\r\n}\r\n\r\ninterface BarItem {\r\n  label?: string\r\n  student?: string\r\n  value?: number\r\n  score?: number\r\n}\r\n\r\ninterface BarChartData extends ChartDataCommon {\r\n  data?: BarItem[]\r\n}\r\n\r\ninterface GeometryChartData extends ChartDataCommon {\r\n  shape?: string\r\n  angles?: number[]\r\n}\r\n\r\ninterface ImageDiagramData extends ChartDataCommon {\r\n  type?: 'image'\r\n}\r\n\r\ntype ChartData = ScatterChartData | BarChartData | GeometryChartData | ImageDiagramData\r\n\r\ninterface ChartRendererProps {\r\n  chartData: ChartData\r\n  imageUrl?: string\r\n  imageData?: string\r\n  imageMimeType?: string\r\n  imageAlt?: string\r\n  className?: string\r\n}\r\n\r\nconst resolveType = (cd: ChartData): string | undefined => cd.type || cd.graphType || cd.diagramType\r\n\r\nconst allowedTypes = ['scatter', 'coordinate-plane', 'scatter-plot', 'bar', 'bar-chart', 'geometry', 'geometric-diagram', 'image'];\r\n\r\nexport default function ChartRenderer({ chartData, imageUrl, imageData, imageMimeType, imageAlt = \"Question diagram\", className = \"\" }: ChartRendererProps) {\r\n  // Check if imageUrl is a Vega spec (starts with data:image/svg+xml;base64 and contains Vega schema)\r\n  const isVegaSpec = imageUrl?.startsWith('data:image/svg+xml;base64,');\r\n\r\n  if (isVegaSpec && imageUrl) {\r\n    // Decode the base64 Vega spec and render with DynamicChart\r\n    try {\r\n      const base64Data = imageUrl.split(',')[1];\r\n      const decodedSpec = atob(base64Data);\r\n      const vegaSpec = JSON.parse(decodedSpec);\r\n\r\n      // Use DynamicChart to render the Vega spec\r\n      return (\r\n        <div className={`chart-container ${className}`}>\r\n          <div className=\"bg-white p-4 rounded border shadow-sm\">\r\n            <div className=\"text-sm font-semibold text-gray-700 mb-2\">üìä Chart</div>\r\n            <div className=\"text-xs text-gray-600 mb-2\">\r\n              Vega-Lite diagram (interactive visualization)\r\n            </div>\r\n            {/* Render Vega-Lite diagram */}\r\n            <VegaEmbed\r\n              spec={vegaSpec as any}\r\n              options={{ actions: false }}\r\n            />\r\n          </div>\r\n        </div>\r\n      );\r\n    } catch (e) {\r\n      console.error('Failed to decode Vega spec:', e);\r\n      return (\r\n        <div className={`chart-container ${className}`}>\r\n          <div className=\"bg-gray-100 p-4 rounded text-center\">\r\n            <p className=\"text-sm text-red-600\">Failed to render diagram</p>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  // Construct image source URL\r\n  let src: string | undefined;\r\n  if (imageData) {\r\n    // Use binary imageData if available\r\n    const mimeType = imageMimeType || 'image/png';\r\n    src = `data:${mimeType};base64,${imageData}`;\r\n  } else if (imageUrl) {\r\n    // Always use imageUrl if provided\r\n    src = imageUrl;\r\n  } else if (chartData && typeof chartData === 'object' && 'imageUrl' in chartData && (chartData as any).imageUrl) {\r\n    // Check chartData for imageUrl\r\n    src = (chartData as any).imageUrl;\r\n  } else {\r\n    // Fallback to placeholder if nothing else\r\n    src = '/assets/diagram-placeholder.svg';\r\n  }\r\n\r\n\r\n  if (src && !isVegaSpec) {\r\n    return (\r\n      <div className={`chart-container ${className}`}>\r\n        <img\r\n          src={src}\r\n          alt={imageAlt}\r\n          className=\"max-w-full h-auto rounded border shadow-sm\"\r\n          style={{ maxHeight: '400px' }}\r\n          onError={(e) => {\r\n            // If image fails to load, show placeholder\r\n            const img = e.target as HTMLImageElement;\r\n            img.src = '/assets/diagram-placeholder.svg';\r\n          }}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!chartData) {\r\n    return null;\r\n  }\r\n\r\n  // Check if chartData itself is a Vega-Lite spec\r\n  if (typeof chartData === 'object' && chartData && '$schema' in chartData) {\r\n    const vegaSpec = chartData as unknown as Record<string, unknown>;\r\n    if (typeof vegaSpec.$schema === 'string' && vegaSpec.$schema.includes('vega-lite')) {\r\n      return (\r\n        <div className={`chart-container ${className}`}>\r\n          <div className=\"bg-white p-4 rounded border shadow-sm\">\r\n            <VegaEmbed\r\n              spec={vegaSpec as any}\r\n              options={{ actions: false }}\r\n            />\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  // Check if chartData has a nested vegaSpec property\r\n  if (typeof chartData === 'object' && chartData && 'vegaSpec' in chartData) {\r\n    const vegaSpec = (chartData as any).vegaSpec;\r\n    if (typeof vegaSpec === 'object' && vegaSpec) {\r\n      // Add $schema if missing (required for VegaLite component)\r\n      const completeSpec = {\r\n        $schema: 'https://vega.github.io/schema/vega-lite/v5.json',\r\n        ...vegaSpec\r\n      };\r\n\r\n      return (\r\n        <div className={`chart-container ${className}`}>\r\n          <div className=\"bg-white p-4 rounded border shadow-sm\">\r\n            <VegaEmbed\r\n              spec={completeSpec as any}\r\n              options={{ actions: false }}\r\n            />\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={`chart-container ${className}`}>\r\n      <DynamicChart chartData={chartData} />\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nfunction DynamicChart({ chartData }: { chartData: ChartData }) {\r\n  if (!chartData) {\r\n    return null\r\n  }\r\n\r\n  const type = resolveType(chartData)\r\n\r\n  if (isScatter(chartData)) {\r\n    let normalized: ScatterChartData = { ...chartData }\r\n    if (!normalized.points && Array.isArray(normalized.data)) {\r\n      const points: ScatterPoint[] = (normalized.data ?? [])\r\n        .filter((p): p is XYDatum & { x: number; y: number } => typeof p?.x === 'number' && typeof p?.y === 'number')\r\n        .map((p) => ({ x: p.x, y: p.y, label: p.label ?? p.point ?? '' }))\r\n      normalized = { ...normalized, points }\r\n    }\r\n    return <ScatterPlot data={normalized} />\r\n  }\r\n\r\n  if (isBar(chartData)) {\r\n    return <BarChart data={chartData} />\r\n  }\r\n\r\n  if (isGeometry(chartData)) {\r\n    return <GeometryDiagram data={chartData} />\r\n  }\r\n\r\n  return (\r\n    <div className=\"bg-blue-50 p-4 rounded border\">\r\n      <div className=\"text-sm font-semibold text-blue-700 mb-2\">üìä Chart</div>\r\n      {chartData.description && (\r\n        <div className=\"text-sm text-blue-600 mb-2\">{chartData.description}</div>\r\n      )}\r\n      <div className=\"text-xs text-gray-500\">\r\n        Type: {type || 'Unknown'}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction isScatter(cd: ChartData): cd is ScatterChartData {\r\n  const t = resolveType(cd)\r\n  return t === 'scatter' || t === 'coordinate-plane' || t === 'scatter-plot' || !!(cd as ScatterChartData).points\r\n}\r\n\r\nfunction isBar(cd: ChartData): cd is BarChartData {\r\n  const t = resolveType(cd)\r\n  return t === 'bar' || t === 'bar-chart' || Array.isArray((cd as BarChartData).data)\r\n}\r\n\r\nfunction isGeometry(cd: ChartData): cd is GeometryChartData {\r\n  const t = resolveType(cd)\r\n  return t === 'geometry' || t === 'geometric-diagram' || !!(cd as GeometryChartData).shape\r\n}\r\n\r\nfunction ScatterPlot({ data }: { data: ScatterChartData }) {\r\n  const width = 300\r\n  const height = 300\r\n  const padding = 40\r\n\r\n  return (\r\n    <div className=\"bg-white p-4 rounded border shadow-sm\">\r\n      <div className=\"text-sm font-semibold text-gray-700 mb-2\">üìà Coordinate Plane</div>\r\n      <svg width={width} height={height} className=\"border border-gray-300\">\r\n        {/* Grid */}\r\n        <defs>\r\n          <pattern id=\"grid\" width=\"20\" height=\"20\" patternUnits=\"userSpaceOnUse\">\r\n            <path d=\"M 20 0 L 0 0 0 20\" fill=\"none\" stroke=\"#e5e7eb\" strokeWidth=\"0.5\" />\r\n          </pattern>\r\n        </defs>\r\n        <rect x={padding} y={padding} width={width - 2 * padding} height={height - 2 * padding} fill=\"url(#grid)\" />\r\n\r\n        {/* Axes */}\r\n        <line x1={padding} y1={height / 2} x2={width - padding} y2={height / 2} stroke=\"#374151\" strokeWidth=\"2\" />\r\n        <line x1={width / 2} y1={padding} x2={width / 2} y2={height - padding} stroke=\"#374151\" strokeWidth=\"2\" />\r\n\r\n        {/* Points */}\r\n        {data.points?.map((point, index) => {\r\n          const x = width / 2 + (point.x || 0) * 10\r\n          const y = height / 2 - (point.y || 0) * 10\r\n\r\n          return (\r\n            <g key={index}>\r\n              <circle\r\n                cx={x}\r\n                cy={y}\r\n                r=\"5\"\r\n                fill=\"#3b82f6\"\r\n                stroke=\"#1d4ed8\"\r\n                strokeWidth=\"2\"\r\n              />\r\n              {point.label && (\r\n                <text\r\n                  x={x + 8}\r\n                  y={y - 8}\r\n                  fontSize=\"12\"\r\n                  fill=\"#374151\"\r\n                  fontWeight=\"bold\"\r\n                >\r\n                  {point.label}\r\n                </text>\r\n              )}\r\n            </g>\r\n          )\r\n        })}\r\n\r\n        {/* Line between points */}\r\n        {data.line && data.points && data.points.length >= 2 && (\r\n          <line\r\n            x1={width / 2 + (data.points[0].x || 0) * 10}\r\n            y1={height / 2 - (data.points[0].y || 0) * 10}\r\n            x2={width / 2 + (data.points[1].x || 0) * 10}\r\n            y2={height / 2 - (data.points[1].y || 0) * 10}\r\n            stroke=\"#ef4444\"\r\n            strokeWidth=\"2\"\r\n            strokeDasharray=\"5,5\"\r\n          />\r\n        )}\r\n      </svg>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction BarChart({ data }: { data: BarChartData }) {\r\n  const width = 300\r\n  const height = 200\r\n  const padding = 40\r\n\r\n  const values = data.data ?? []\r\n\r\n  // If no data, create sample data to prevent \"No data available\"\r\n  if (values.length === 0) {\r\n    console.log('‚ö†Ô∏è Bar chart has no data, creating sample data')\r\n    const sampleData: BarItem[] = [\r\n      { label: \"Jan\", value: 150 },\r\n      { label: \"Feb\", value: 200 },\r\n      { label: \"Mar\", value: 175 },\r\n      { label: \"Apr\", value: 225 }\r\n    ]\r\n    return <BarChart data={{ ...data, data: sampleData }} />\r\n  }\r\n\r\n  const maxValue = Math.max(...values.map((item) => item.score ?? item.value ?? 1))\r\n  const barWidth = Math.max(20, (width - 2 * padding) / values.length - 10)\r\n\r\n  return (\r\n    <div className=\"bg-white p-4 rounded border shadow-sm\">\r\n      <div className=\"text-sm font-semibold text-gray-700 mb-2\">üìä Bar Chart</div>\r\n      <svg width={width} height={height} className=\"border border-gray-300\">\r\n        {values.map((item, index) => {\r\n          const value = item.score ?? item.value ?? 0\r\n          const barHeight = Math.max(0, (value / maxValue) * (height - 2 * padding))\r\n          const x = padding + index * (barWidth + 10)\r\n          const y = height - padding - barHeight\r\n\r\n          return (\r\n            <g key={index}>\r\n              <rect\r\n                x={x}\r\n                y={y}\r\n                width={barWidth}\r\n                height={barHeight}\r\n                fill=\"#3b82f6\"\r\n                stroke=\"#1d4ed8\"\r\n              />\r\n              <text\r\n                x={x + barWidth / 2}\r\n                y={y - 5}\r\n                fontSize=\"10\"\r\n                fill=\"#374151\"\r\n                textAnchor=\"middle\"\r\n              >\r\n                {value}\r\n              </text>\r\n              <text\r\n                x={x + barWidth / 2}\r\n                y={height - padding + 15}\r\n                fontSize=\"10\"\r\n                fill=\"#374151\"\r\n                textAnchor=\"middle\"\r\n              >\r\n                {item.student ?? item.label ?? `${index + 1}`}\r\n              </text>\r\n            </g>\r\n          )\r\n        })}\r\n\r\n        {/* Axes */}\r\n        <line x1={padding} y1={height - padding} x2={width - padding} y2={height - padding} stroke=\"#374151\" strokeWidth=\"1\" />\r\n        <line x1={padding} y1={padding} x2={padding} y2={height - padding} stroke=\"#374151\" strokeWidth=\"1\" />\r\n      </svg>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction GeometryDiagram({ data }: { data: GeometryChartData }) {\r\n  const width = 400\r\n  const height = 350\r\n  const centerX = width / 2\r\n  const centerY = height / 2\r\n\r\n  return (\r\n    <div className=\"bg-white p-4 rounded border shadow-sm\">\r\n      <div className=\"text-sm font-semibold text-gray-700 mb-2\">üî∫ Geometry Diagram</div>\r\n      <svg width={width} height={height} className=\"border border-gray-200\">\r\n        {/* Always show a triangle by default for geometry questions */}\r\n        <TriangleShape data={data} centerX={centerX} centerY={centerY} />\r\n      </svg>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction TriangleShape({ data, centerX, centerY }: { data: GeometryChartData, centerX: number, centerY: number }) {\r\n  const size = 80\r\n  const triHeight = size * Math.sqrt(3) / 2\r\n\r\n  const points = [\r\n    [centerX, centerY - triHeight / 2],\r\n    [centerX - size / 2, centerY + triHeight / 2],\r\n    [centerX + size / 2, centerY + triHeight / 2]\r\n  ]\r\n\r\n  const pathData = `M ${points[0][0]} ${points[0][1]} L ${points[1][0]} ${points[1][1]} L ${points[2][0]} ${points[2][1]} Z`\r\n\r\n  // Use provided angles or default to 60¬∞ each for equilateral triangle\r\n  const angles = Array.isArray(data.angles) && data.angles.length >= 3 ? data.angles : [60, 60, 60]\r\n\r\n  return (\r\n    <g>\r\n      <path d={pathData} fill=\"rgba(59, 130, 246, 0.1)\" stroke=\"#3b82f6\" strokeWidth=\"2\" />\r\n\r\n      {/* Always show angle labels */}\r\n      <text x={centerX} y={centerY - triHeight / 2 + 15} fontSize=\"12\" fill=\"#374151\" textAnchor=\"middle\">\r\n        {angles[0]}¬∞\r\n      </text>\r\n      <text x={centerX - size / 2 + 15} y={centerY + triHeight / 2 - 5} fontSize=\"12\" fill=\"#374151\" textAnchor=\"middle\">\r\n        {angles[1]}¬∞\r\n      </text>\r\n      <text x={centerX + size / 2 - 15} y={centerY + triHeight / 2 - 5} fontSize=\"12\" fill=\"#374151\" textAnchor=\"middle\">\r\n        {angles[2]}¬∞\r\n      </text>\r\n\r\n      {/* Vertex labels */}\r\n      <text x={centerX} y={centerY - triHeight / 2 - 10} fontSize=\"12\" fill=\"#374151\" textAnchor=\"middle\" fontWeight=\"bold\">A</text>\r\n      <text x={centerX - size / 2 - 15} y={centerY + triHeight / 2 + 15} fontSize=\"12\" fill=\"#374151\" textAnchor=\"middle\" fontWeight=\"bold\">B</text>\r\n      <text x={centerX + size / 2 + 15} y={centerY + triHeight / 2 + 15} fontSize=\"12\" fill=\"#374151\" textAnchor=\"middle\" fontWeight=\"bold\">C</text>\r\n    </g>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3091, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lionv/DuckSAT/Migration/DuckSAT_CLEAN/src/app/practice-test/page.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useSession } from 'next-auth/react';\r\nimport { useTestState } from '../../hooks/useTestState';\r\nimport TestLauncher from '../../components/test/TestLauncher';\r\nimport ModuleStart from '../../components/test/ModuleStart';\r\nimport TestAnalytics from '../../components/test/TestAnalytics';\r\nimport ReviewPage from '../../components/test/ReviewPage';\r\nimport QuestionNavigator from '../../components/test/QuestionNavigator';\r\nimport MathRenderer from '../../components/MathRenderer';\r\nimport ChartRenderer from '../../components/ChartRenderer';\r\n\r\nexport default function PracticeTestPage() {\r\n  const router = useRouter();\r\n  const { data: session } = useSession ? useSession() : { data: null };\r\n  const {\r\n    hasStarted,\r\n    moduleStarted,\r\n    currentModule,\r\n    currentQuestion,\r\n    currentQuestionIndex,\r\n    currentModuleQuestions,\r\n    completeModule,\r\n    selectedAnswers,\r\n    selectedAnswer,\r\n    startTest,\r\n    startModule,\r\n    isTransitioning,\r\n    isComplete,\r\n    testResults,\r\n    isBreakTime,\r\n    breakTimeRemaining,\r\n    goToQuestion,\r\n    setShowReview,\r\n    showReview,\r\n    timeRemaining,\r\n    selectAnswer,\r\n    nextQuestion,\r\n    previousQuestion,\r\n    questionsAnswered\r\n  } = useTestState(session?.user?.email || '');\r\n\r\n  const submitModule = completeModule;\r\n  const currentSelectedAnswer = selectedAnswer;\r\n\r\n  // Track answered questions for navigator\r\n  const answeredQuestions = selectedAnswers\r\n    ? selectedAnswers.map((answer, index) => answer !== -1 ? index : -1).filter(index => index !== -1)\r\n    : [];\r\n\r\n  // Error state for loading and submission\r\n  const [fetchError, setFetchError] = useState<string | null>(null);\r\n  const [submitError, setSubmitError] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    if (typeof window !== 'undefined' && !session) {\r\n      router.push('/');\r\n    }\r\n  }, [session, router]);\r\n\r\n  // Debug logging\r\n  useEffect(() => {\r\n    console.log('Test State Debug:', {\r\n      hasStarted,\r\n      moduleStarted,\r\n      currentModule: currentModule?.id,\r\n      currentQuestion: currentQuestion?.id,\r\n      currentQuestionPassage: currentQuestion?.passage,\r\n      isTransitioning,\r\n      isComplete\r\n    });\r\n  }, [hasStarted, moduleStarted, currentModule, currentQuestion, isTransitioning, isComplete]);\r\n\r\n  if (!session) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center\">\r\n        <div className=\"flex space-x-2\">\r\n          <div className=\"w-4 h-4 bg-blue-600 rounded-full animate-bounce\"></div>\r\n          <div className=\"w-4 h-4 bg-purple-600 rounded-full animate-bounce delay-100\"></div>\r\n          <div className=\"w-4 h-4 bg-pink-600 rounded-full animate-bounce delay-200\"></div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Test launcher screen\r\n  if (!hasStarted) {\r\n    return <TestLauncher onStartTest={startTest} />;\r\n  }\r\n\r\n  // Break time screen\r\n  if (isBreakTime) {\r\n    const minutes = Math.floor(breakTimeRemaining / 60);\r\n    const seconds = breakTimeRemaining % 60;\r\n    return (\r\n      <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 flex items-center justify-center\">\r\n        <div className=\"bg-white rounded-2xl shadow-2xl p-12 text-center max-w-md\">\r\n          <div className=\"text-6xl mb-6\">‚òï</div>\r\n          <h2 className=\"text-3xl font-bold text-gray-900 mb-4\">Break Time</h2>\r\n\r\n          <p className=\"text-gray-600 mb-6\">\r\n            Take a 10-minute break before starting the Math section\r\n          </p>\r\n          <div className=\"text-4xl font-bold text-blue-600 mb-4\">\r\n            {minutes}:{seconds.toString().padStart(2, '0')}\r\n          </div>\r\n          <p className=\"text-sm text-gray-500\">\r\n            The Math section will start automatically when the break ends\r\n          </p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Module start screen (before starting each module)\r\n  if (currentModule && hasStarted && !moduleStarted && !isTransitioning) {\r\n    return (\r\n      <ModuleStart\r\n        module={currentModule}\r\n        onStartModule={startModule}\r\n      />\r\n    );\r\n  }\r\n\r\n  // Final results screen with analytics\r\n  if (isComplete && testResults) {\r\n    return <TestAnalytics testResults={testResults} />;\r\n  }\r\n\r\n  // Fallback completion screen (if no results)\r\n  if (isComplete) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center\">\r\n        <div className=\"bg-white rounded-3xl shadow-2xl p-12 text-center max-w-2xl\">\r\n          <div className=\"text-6xl mb-6\">üéâ</div>\r\n          <h1 className=\"text-4xl font-bold text-gray-900 mb-4\">Test Complete!</h1>\r\n          <p className=\"text-xl text-gray-600 mb-8\">\r\n            Congratulations on completing your SAT practice test!\r\n          </p>\r\n          <button\r\n            onClick={() => router.push('/practice-test')}\r\n            className=\"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-8 py-4 rounded-2xl font-bold text-lg hover:shadow-lg transition-all\"\r\n          >\r\n            Take Another Test\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Main test interface\r\n  if (currentModule && currentQuestion && hasStarted && moduleStarted && !isTransitioning && !isComplete) {\r\n    // Show review page if user clicked review\r\n    if (showReview) {\r\n      return (\r\n        <ReviewPage\r\n          questions={currentModuleQuestions}\r\n          selectedAnswers={selectedAnswers}\r\n          currentModule={currentModule}\r\n          onQuestionClick={(index) => {\r\n            goToQuestion(index);\r\n            setShowReview(false);\r\n          }}\r\n          onSubmit={() => {\r\n            setShowReview(false);\r\n            submitModule();\r\n          }}\r\n          onBackToTest={() => setShowReview(false)}\r\n          timeRemaining={timeRemaining}\r\n        />\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div className=\"min-h-screen bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50\">\r\n        <div className=\"p-4 flex justify-between items-center\">\r\n          <button\r\n            onClick={() => router.push('/')}\r\n            className=\"bg-gray-200 text-gray-700 px-4 py-2 rounded-lg font-semibold hover:bg-gray-300 transition-all\"\r\n          >\r\n            ‚Üê Back to Home\r\n          </button>\r\n        </div>\r\n        {/* Question Navigator */}\r\n        <QuestionNavigator\r\n          totalQuestions={currentModule.questionCount}\r\n          currentQuestion={currentQuestionIndex}\r\n          answeredQuestions={answeredQuestions}\r\n          onQuestionClick={goToQuestion}\r\n          onReviewClick={() => setShowReview(true)}\r\n        />\r\n\r\n        {/* Header */}\r\n        <div className=\"bg-white/80 backdrop-blur-xl shadow-lg border-b border-white/20\">\r\n          <div className=\"max-w-6xl mx-auto px-4 py-4\">\r\n            <div className=\"flex justify-between items-center\">\r\n              <div>\r\n                <h1 className=\"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent\">\r\n                  {currentModule.title}\r\n                </h1>\r\n                <p className=\"text-gray-600\">\r\n                  Question {currentQuestionIndex + 1} of {currentModule.questionCount}\r\n                </p>\r\n              </div>\r\n              <div className=\"text-right\">\r\n                <div className={`text-2xl font-bold transition-colors ${\r\n                  timeRemaining <= 300 // 5 minutes\r\n                    ? 'text-red-500 animate-pulse'\r\n                    : timeRemaining <= 600 // 10 minutes\r\n                    ? 'text-orange-500'\r\n                    : 'text-purple-600'\r\n                }`}>\r\n                  {Math.floor(timeRemaining / 60)}:{(timeRemaining % 60).toString().padStart(2, '0')}\r\n                </div>\r\n                <div className=\"text-sm text-gray-500\">\r\n                  {timeRemaining <= 300 ? '‚ö†Ô∏è Time Running Out!' : 'Time Remaining'}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Progress Bar */}\r\n            <div className=\"mt-4\">\r\n              <div className=\"w-full bg-gray-200 rounded-full h-2\">\r\n                <div\r\n                  className=\"bg-gradient-to-r from-blue-500 to-purple-600 h-2 rounded-full transition-all duration-300\"\r\n                  style={{ width: `${((currentQuestionIndex + 1) / currentModule.questionCount) * 100}%` }}\r\n                ></div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"max-w-4xl mx-auto px-2 sm:px-4 py-4 sm:py-8 w-full\">\r\n          <div className=\"bg-white/80 backdrop-blur-xl rounded-3xl shadow-xl p-2 sm:p-8 border border-white/20 w-full\">\r\n            <div className=\"mb-8\">\r\n              {/* Always show passage first if it exists */}\r\n              {currentQuestion.passage && (\r\n                <div className=\"mb-8 p-6 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl border-2 border-blue-200 shadow-sm\">\r\n                  <div className=\"flex items-center mb-4\">\r\n                    <span className=\"bg-blue-500 text-white px-3 py-1 rounded-full text-sm font-semibold mr-3\">\r\n                      üìñ Reading Passage\r\n                    </span>\r\n                    <span className=\"text-blue-700 text-sm font-medium\">\r\n                      Read carefully before answering\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"prose prose-lg max-w-none\">\r\n                    <div className=\"text-gray-800 leading-relaxed font-medium bg-white p-4 rounded-lg border border-blue-100\">\r\n                      <MathRenderer>{currentQuestion.passage}</MathRenderer>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Chart/Diagram */}\r\n              {(currentQuestion.chartData || currentQuestion.imageUrl) && (\r\n                <div className=\"mb-6\">\r\n                  <ChartRenderer\r\n                    chartData={currentQuestion.chartData}\r\n                    imageUrl={currentQuestion.imageUrl}\r\n                    imageAlt={currentQuestion.imageAlt || 'Question diagram'}\r\n                  />\r\n                </div>\r\n              )}\r\n\r\n              <h3 className=\"text-xl font-semibold mb-6 text-gray-900\">\r\n                <MathRenderer>{currentQuestion.question}</MathRenderer>\r\n              </h3>\r\n\r\n              <div className=\"space-y-3\">\r\n                {currentQuestion.options.map((option, index) => {\r\n                  const isSelected = currentSelectedAnswer === index;\r\n                  return (\r\n                    <button\r\n                      key={index}\r\n                      onClick={() => selectAnswer(index)}\r\n                      className={`w-full text-left p-4 rounded-2xl border-2 transition-all duration-200 group focus:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500 ${\r\n                        isSelected\r\n                          ? 'border-purple-500 bg-purple-100 shadow-md'\r\n                          : 'border-gray-200 hover:border-purple-300 hover:bg-purple-50'\r\n                      }`}\r\n                      aria-pressed={isSelected}\r\n                    >\r\n                      <div className=\"flex items-center\">\r\n                        <span className={`font-semibold mr-3 w-8 h-8 rounded-full flex items-center justify-center text-sm ${\r\n                          isSelected\r\n                            ? 'bg-purple-500 text-white'\r\n                            : 'bg-gray-200 text-gray-600 group-hover:bg-purple-200 group-hover:text-purple-700'\r\n                        }`}>\r\n                          {String.fromCharCode(65 + index)}\r\n                        </span>\r\n                        <span className={`${isSelected ? 'text-purple-900 font-medium' : 'text-gray-700'}`}>\r\n                          <MathRenderer>{option}</MathRenderer>\r\n                        </span>\r\n                      </div>\r\n                    </button>\r\n                  );\r\n                })}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex flex-col sm:flex-row justify-between items-center gap-2 sm:gap-4 w-full\">\r\n              <button\r\n                onClick={previousQuestion}\r\n                disabled={currentQuestionIndex === 0}\r\n                className=\"px-6 py-3 bg-gray-200 text-gray-700 rounded-2xl disabled:opacity-50 hover:bg-gray-300 transition-colors font-medium\"\r\n              >\r\n                ‚Üê Previous\r\n              </button>\r\n\r\n              <div className=\"text-sm text-gray-500 text-center\">\r\n                <div>{currentQuestionIndex + 1} / {currentModule.questionCount}</div>\r\n                <div className=\"text-xs mt-1\">\r\n                  {questionsAnswered} answered\r\n                </div>\r\n              </div>\r\n\r\n              {currentQuestionIndex === currentModule.questionCount - 1 ? (\r\n                <button\r\n                  onClick={() => setShowReview(true)}\r\n                  className=\"px-6 py-3 bg-gradient-to-r from-amber-500 to-orange-600 text-white rounded-2xl hover:shadow-lg transition-all font-medium\"\r\n                >\r\n                  Review & Submit ‚Üí\r\n                </button>\r\n              ) : (\r\n                <button\r\n                  onClick={nextQuestion}\r\n                  className=\"px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-2xl hover:shadow-lg transition-all font-medium\"\r\n                >\r\n                  Next ‚Üí\r\n                </button>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Loading and error state\r\n  return (\r\n    <div className=\"min-h-screen flex flex-col items-center justify-center\">\r\n      <div className=\"flex space-x-2 mb-6\" role=\"status\" aria-live=\"polite\" aria-label=\"Loading\">\r\n        <div className=\"w-4 h-4 bg-blue-600 rounded-full animate-bounce\" aria-hidden=\"true\"></div>\r\n        <div className=\"w-4 h-4 bg-purple-600 rounded-full animate-bounce delay-100\" aria-hidden=\"true\"></div>\r\n        <div className=\"w-4 h-4 bg-pink-600 rounded-full animate-bounce delay-200\" aria-hidden=\"true\"></div>\r\n      </div>\r\n      {fetchError && (\r\n        <div className=\"bg-red-100 border border-red-300 text-red-700 px-6 py-4 rounded-xl text-center max-w-md w-full mb-2\" role=\"alert\">\r\n          {fetchError}\r\n          <button\r\n            onClick={() => { setFetchError(null); /* re-trigger fetch/init here */ }}\r\n            className=\"ml-4 underline text-indigo-700 font-semibold hover:text-indigo-900\"\r\n          >\r\n            Retry\r\n          </button>\r\n        </div>\r\n      )}\r\n      {submitError && (\r\n        <div className=\"bg-red-100 border border-red-300 text-red-700 px-6 py-4 rounded-xl text-center max-w-md w-full mb-2\" role=\"alert\">\r\n          {submitError}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}