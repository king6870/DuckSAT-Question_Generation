{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/vega-parser/build/vega-parser.js","sources":["file:///C:/Users/lionv/DuckSAT/Migration/DuckSAT_CLEAN/node_modules/vega-parser/src/parsers/autosize.js","file:///C:/Users/lionv/DuckSAT/Migration/DuckSAT_CLEAN/node_modules/vega-parser/src/parsers/padding.js","file:///C:/Users/lionv/DuckSAT/Migration/DuckSAT_CLEAN/node_modules/vega-parser/src/parsers/encode/util.js","file:///C:/Users/lionv/DuckSAT/Migration/DuckSAT_CLEAN/node_modules/vega-parser/src/parsers/marks/roles.js","file:///C:/Users/lionv/DuckSAT/Migration/DuckSAT_CLEAN/node_modules/vega-parser/src/parsers/encode/defaults.js","file:///C:/Users/lionv/DuckSAT/Migration/DuckSAT_CLEAN/node_modules/vega-parser/src/parsers/encode/entry.js","file:///C:/Users/lionv/DuckSAT/Migration/DuckSAT_CLEAN/node_modules/vega-parser/src/parsers/encode/rule.js","file:///C:/Users/lionv/DuckSAT/Migration/DuckSAT_CLEAN/node_modules/vega-parser/src/parsers/encode.js","file:///C:/Users/lionv/DuckSAT/Migration/DuckSAT_CLEAN/node_modules/vega-parser/src/parsers/signal.js","file:///C:/Users/lionv/DuckSAT/Migration/DuckSAT_CLEAN/node_modules/vega-parser/src/util.js","file:///C:/Users/lionv/DuckSAT/Migration/DuckSAT_CLEAN/node_modules/vega-parser/src/parsers/stream.js","file:///C:/Users/lionv/DuckSAT/Migration/DuckSAT_CLEAN/node_modules/vega-parser/src/parsers/update.js","file:///C:/Users/lionv/DuckSAT/Migration/DuckSAT_CLEAN/node_modules/vega-parser/src/parsers/signal-updates.js","file:///C:/Users/lionv/DuckSAT/Migration/DuckSAT_CLEAN/node_modules/vega-parser/src/transforms.js","file:///C:/Users/lionv/DuckSAT/Migration/DuckSAT_CLEAN/node_modules/vega-parser/src/parsers/scale.js","file:///C:/Users/lionv/DuckSAT/Migration/DuckSAT_CLEAN/node_modules/vega-parser/src/parsers/projection.js","file:///C:/Users/lionv/DuckSAT/Migration/DuckSAT_CLEAN/node_modules/vega-parser/src/parsers/guides/constants.js","file:///C:/Users/lionv/DuckSAT/Migration/DuckSAT_CLEAN/node_modules/vega-parser/src/parsers/marks/marktypes.js","file:///C:/Users/lionv/DuckSAT/Migration/DuckSAT_CLEAN/node_modules/vega-parser/src/parsers/guides/guide-group.js","file:///C:/Users/lionv/DuckSAT/Migration/DuckSAT_CLEAN/node_modules/vega-parser/src/parsers/guides/guide-util.js","file:///C:/Users/lionv/DuckSAT/Migration/DuckSAT_CLEAN/node_modules/vega-parser/src/parsers/guides/guide-mark.js","file:///C:/Users/lionv/DuckSAT/Migration/DuckSAT_CLEAN/node_modules/vega-parser/src/parsers/guides/legend-gradient.js","file:///C:/Users/lionv/DuckSAT/Migration/DuckSAT_CLEAN/node_modules/vega-parser/src/parsers/guides/legend-gradient-discrete.js","file:///C:/Users/lionv/DuckSAT/Migration/DuckSAT_CLEAN/node_modules/vega-parser/src/parsers/guides/legend-gradient-labels.js","file:///C:/Users/lionv/DuckSAT/Migration/DuckSAT_CLEAN/node_modules/vega-parser/src/parsers/guides/legend-symbol-groups.js","file:///C:/Users/lionv/DuckSAT/Migration/DuckSAT_CLEAN/node_modules/vega-parser/src/parsers/guides/legend-title.js","file:///C:/Users/lionv/DuckSAT/Migration/DuckSAT_CLEAN/node_modules/vega-parser/src/parsers/marks/clip.js","file:///C:/Users/lionv/DuckSAT/Migration/DuckSAT_CLEAN/node_modules/vega-parser/src/parsers/marks/role.js","file:///C:/Users/lionv/DuckSAT/Migration/DuckSAT_CLEAN/node_modules/vega-parser/src/parsers/marks/definition.js","file:///C:/Users/lionv/DuckSAT/Migration/DuckSAT_CLEAN/node_modules/vega-parser/src/parsers/marks/interactive.js","file:///C:/Users/lionv/DuckSAT/Migration/DuckSAT_CLEAN/node_modules/vega-parser/src/parsers/transform.js","file:///C:/Users/lionv/DuckSAT/Migration/DuckSAT_CLEAN/node_modules/vega-parser/src/parsers/marks/data.js","file:///C:/Users/lionv/DuckSAT/Migration/DuckSAT_CLEAN/node_modules/vega-parser/src/DataScope.js","file:///C:/Users/lionv/DuckSAT/Migration/DuckSAT_CLEAN/node_modules/vega-parser/src/parsers/marks/facet.js","file:///C:/Users/lionv/DuckSAT/Migration/DuckSAT_CLEAN/node_modules/vega-parser/src/parsers/marks/subflow.js","file:///C:/Users/lionv/DuckSAT/Migration/DuckSAT_CLEAN/node_modules/vega-parser/src/parsers/trigger.js","file:///C:/Users/lionv/DuckSAT/Migration/DuckSAT_CLEAN/node_modules/vega-parser/src/parsers/mark.js","file:///C:/Users/lionv/DuckSAT/Migration/DuckSAT_CLEAN/node_modules/vega-parser/src/parsers/legend.js","file:///C:/Users/lionv/DuckSAT/Migration/DuckSAT_CLEAN/node_modules/vega-parser/src/parsers/title.js","file:///C:/Users/lionv/DuckSAT/Migration/DuckSAT_CLEAN/node_modules/vega-parser/src/parsers/data.js","file:///C:/Users/lionv/DuckSAT/Migration/DuckSAT_CLEAN/node_modules/vega-parser/src/parsers/guides/axis-util.js","file:///C:/Users/lionv/DuckSAT/Migration/DuckSAT_CLEAN/node_modules/vega-parser/src/parsers/guides/axis-config.js","file:///C:/Users/lionv/DuckSAT/Migration/DuckSAT_CLEAN/node_modules/vega-parser/src/parsers/guides/axis-domain.js","file:///C:/Users/lionv/DuckSAT/Migration/DuckSAT_CLEAN/node_modules/vega-parser/src/parsers/guides/axis-grid.js","file:///C:/Users/lionv/DuckSAT/Migration/DuckSAT_CLEAN/node_modules/vega-parser/src/parsers/guides/axis-ticks.js","file:///C:/Users/lionv/DuckSAT/Migration/DuckSAT_CLEAN/node_modules/vega-parser/src/parsers/guides/axis-labels.js","file:///C:/Users/lionv/DuckSAT/Migration/DuckSAT_CLEAN/node_modules/vega-parser/src/parsers/guides/axis-title.js","file:///C:/Users/lionv/DuckSAT/Migration/DuckSAT_CLEAN/node_modules/vega-parser/src/parsers/axis.js","file:///C:/Users/lionv/DuckSAT/Migration/DuckSAT_CLEAN/node_modules/vega-parser/src/parsers/scope.js","file:///C:/Users/lionv/DuckSAT/Migration/DuckSAT_CLEAN/node_modules/vega-parser/src/parsers/view.js","file:///C:/Users/lionv/DuckSAT/Migration/DuckSAT_CLEAN/node_modules/vega-parser/src/Scope.js","file:///C:/Users/lionv/DuckSAT/Migration/DuckSAT_CLEAN/node_modules/vega-parser/src/config.js","file:///C:/Users/lionv/DuckSAT/Migration/DuckSAT_CLEAN/node_modules/vega-parser/src/parse.js"],"sourcesContent":["import {isObject} from 'vega-util';\n\nexport default function(spec) {\n  return isObject(spec) ? spec : {type: spec || 'pad'};\n}\n","import {isObject} from 'vega-util';\n\nconst number = _ => +_ || 0;\n\nconst paddingObject = _ => ({top: _, bottom: _, left: _, right: _});\n\nexport default function(spec) {\n  return !isObject(spec) ? paddingObject(number(spec))\n    : spec.signal ? spec\n    : {\n        top:    number(spec.top),\n        bottom: number(spec.bottom),\n        left:   number(spec.left),\n        right:  number(spec.right)\n      };\n}\n","import {extend, hasOwnProperty, isArray, isObject} from 'vega-util';\n\nexport const encoder = _ => isObject(_) && !isArray(_)\n  ? extend({}, _)\n  : {value: _};\n\nexport function addEncode(object, name, value, set) {\n  if (value != null) {\n    const isEncoder = (\n      (isObject(value) && !isArray(value)) ||\n      (isArray(value) && value.length && isObject(value[0]))\n    );\n\n    // Always assign signal to update, even if the signal is from the enter block\n    if (isEncoder) {\n      object.update[name] = value;\n    } else {\n      object[set || 'enter'][name] = {value: value};\n    }\n    return 1;\n  } else {\n    return 0;\n  }\n}\n\nexport function addEncoders(object, enter, update) {\n  for (const name in enter) {\n    addEncode(object, name, enter[name]);\n  }\n  for (const name in update) {\n    addEncode(object, name, update[name], 'update');\n  }\n}\n\nexport function extendEncode(encode, extra, skip) {\n  for (const name in extra) {\n    if (skip && hasOwnProperty(skip, name)) continue;\n    encode[name] = extend(encode[name] || {}, extra[name]);\n  }\n  return encode;\n}\n\nexport function has(key, encode) {\n  return encode && (\n    (encode.enter && encode.enter[key]) ||\n    (encode.update && encode.update[key])\n  );\n}\n","export const MarkRole = 'mark';\nexport const FrameRole = 'frame';\nexport const ScopeRole = 'scope';\n\nexport const AxisRole = 'axis';\nexport const AxisDomainRole = 'axis-domain';\nexport const AxisGridRole = 'axis-grid';\nexport const AxisLabelRole = 'axis-label';\nexport const AxisTickRole = 'axis-tick';\nexport const AxisTitleRole = 'axis-title';\n\nexport const LegendRole = 'legend';\nexport const LegendBandRole = 'legend-band';\nexport const LegendEntryRole = 'legend-entry';\nexport const LegendGradientRole = 'legend-gradient';\nexport const LegendLabelRole = 'legend-label';\nexport const LegendSymbolRole = 'legend-symbol';\nexport const LegendTitleRole = 'legend-title';\n\nexport const TitleRole = 'title';\nexport const TitleTextRole = 'title-text';\nexport const TitleSubtitleRole = 'title-subtitle';\n","import {has} from './util.js';\nimport {FrameRole, MarkRole} from '../marks/roles.js';\nimport {array, extend} from 'vega-util';\n\nexport default function(encode, type, role, style, config) {\n  const defaults = {}, enter = {};\n  let update, key, skip, props;\n\n  // if text mark, apply global lineBreak settings (#2370)\n  key = 'lineBreak';\n  if (type === 'text' && config[key] != null && !has(key, encode)) {\n    applyDefault(defaults, key, config[key]);\n  }\n\n  // ignore legend and axis roles\n  if (role == 'legend' || String(role).startsWith('axis')) {\n    role = null;\n  }\n\n  // resolve mark config\n  props = role === FrameRole ? config.group\n    : (role === MarkRole) ? extend({}, config.mark, config[type])\n    : null;\n\n  for (key in props) {\n    // do not apply defaults if relevant fields are defined\n    skip = has(key, encode)\n      || (key === 'fill' || key === 'stroke')\n      && (has('fill', encode) || has('stroke', encode));\n\n    if (!skip) applyDefault(defaults, key, props[key]);\n  }\n\n  // resolve styles, apply with increasing precedence\n  array(style).forEach(name => {\n    const props = config.style && config.style[name];\n    for (const key in props) {\n      if (!has(key, encode)) {\n        applyDefault(defaults, key, props[key]);\n      }\n    }\n  });\n\n  encode = extend({}, encode); // defensive copy\n  for (key in defaults) {\n    props = defaults[key];\n    if (props.signal) {\n      (update = update || {})[key] = props;\n    } else {\n      enter[key] = props;\n    }\n  }\n\n  encode.enter = extend(enter, encode.enter);\n  if (update) encode.update = extend(update, encode.update);\n\n  return encode;\n}\n\nfunction applyDefault(defaults, key, value) {\n  defaults[key] = value && value.signal\n    ? {signal: value.signal}\n    : {value: value};\n}\n","import {error, isObject, isString, peek, splitAccessPath, stringValue} from 'vega-util';\n\nconst scaleRef = scale => isString(scale) ? stringValue(scale)\n  : scale.signal ? `(${scale.signal})`\n  : field(scale);\n\nexport default function entry(enc) {\n  if (enc.gradient != null) {\n    return gradient(enc);\n  }\n\n  let value = enc.signal ? `(${enc.signal})`\n    : enc.color ? color(enc.color)\n    : enc.field != null ? field(enc.field)\n    : enc.value !== undefined ? stringValue(enc.value)\n    : undefined;\n\n  if (enc.scale != null) {\n    value = scale(enc, value);\n  }\n\n  if (value === undefined) {\n    value = null;\n  }\n\n  if (enc.exponent != null) {\n    value = `pow(${value},${property(enc.exponent)})`;\n  }\n\n  if (enc.mult != null) {\n    value += `*${property(enc.mult)}`;\n  }\n\n  if (enc.offset != null) {\n    value += `+${property(enc.offset)}`;\n  }\n\n  if (enc.round) {\n    value = `round(${value})`;\n  }\n\n  return value;\n}\n\nconst _color = (type, x, y, z) =>\n  `(${type}(${[x, y, z].map(entry).join(',')})+'')`;\n\nfunction color(enc) {\n  return (enc.c) ? _color('hcl', enc.h, enc.c, enc.l)\n    : (enc.h || enc.s) ? _color('hsl', enc.h, enc.s, enc.l)\n    : (enc.l || enc.a) ? _color('lab', enc.l, enc.a, enc.b)\n    : (enc.r || enc.g || enc.b) ? _color('rgb', enc.r, enc.g, enc.b)\n    : null;\n}\n\nfunction gradient(enc) {\n  // map undefined to null; expression lang does not allow undefined\n  const args = [enc.start, enc.stop, enc.count]\n    .map(_ => _ == null ? null : stringValue(_));\n\n  // trim null inputs from the end\n  while (args.length && peek(args) == null) args.pop();\n\n  args.unshift(scaleRef(enc.gradient));\n  return `gradient(${args.join(',')})`;\n}\n\nfunction property(property) {\n  return isObject(property) ? '(' + entry(property) + ')' : property;\n}\n\nfunction field(ref) {\n  return resolveField(isObject(ref) ? ref : {datum: ref});\n}\n\nfunction resolveField(ref) {\n  let object, level, field;\n\n  if (ref.signal) {\n    object = 'datum';\n    field = ref.signal;\n  } else if (ref.group || ref.parent) {\n    level = Math.max(1, ref.level || 1);\n    object = 'item';\n\n    while (level-- > 0) {\n      object += '.mark.group';\n    }\n\n    if (ref.parent) {\n      field = ref.parent;\n      object += '.datum';\n    } else {\n      field = ref.group;\n    }\n  } else if (ref.datum) {\n    object = 'datum';\n    field = ref.datum;\n  } else {\n    error('Invalid field reference: ' + stringValue(ref));\n  }\n\n  if (!ref.signal) {\n    field = isString(field)\n      ? splitAccessPath(field).map(stringValue).join('][')\n      : resolveField(field);\n  }\n\n  return object + '[' + field + ']';\n}\n\nfunction scale(enc, value) {\n  const scale = scaleRef(enc.scale);\n\n  if (enc.range != null) {\n    // pull value from scale range\n    value = `lerp(_range(${scale}), ${+enc.range})`;\n  } else {\n    // run value through scale and/or pull scale bandwidth\n    if (value !== undefined) value = `_scale(${scale}, ${value})`;\n\n    if (enc.band) {\n      value = (value ? value + '+' : '')\n        + `_bandwidth(${scale})`\n        + (+enc.band === 1 ? '' : '*' + property(enc.band));\n\n      if (enc.extra) {\n        // include logic to handle extraneous elements\n        value = `(datum.extra ? _scale(${scale}, datum.extra.value) : ${value})`;\n      }\n    }\n\n    if (value == null) value = '0';\n  }\n\n  return value;\n}\n","import entry from './entry.js';\nimport {peek} from 'vega-util';\n\nexport default function(enc) {\n  let code = '';\n\n  enc.forEach(rule => {\n    const value = entry(rule);\n    code += rule.test ? `(${rule.test})?${value}:` : value;\n  });\n\n  // if no else clause, terminate with null (#1366)\n  if (peek(code) === ':') {\n    code += 'null';\n  }\n\n  return code;\n}\n","import applyDefaults from './encode/defaults.js';\nimport entry from './encode/entry.js';\nimport rule from './encode/rule.js';\n\nimport {parseExpression} from 'vega-functions';\nimport {extend, isArray} from 'vega-util';\n\nexport default function(encode, type, role, style, scope, params) {\n  const enc = {};\n  params = params || {};\n  params.encoders = {$encode: enc};\n\n  encode = applyDefaults(encode, type, role, style, scope.config);\n  for (const key in encode) {\n    enc[key] = parseBlock(encode[key], type, params, scope);\n  }\n\n  return params;\n}\n\nfunction parseBlock(block, marktype, params, scope) {\n  const channels = {},\n        fields = {};\n\n  for (const name in block) {\n    if (block[name] != null) { // skip any null entries\n      channels[name] = parse(expr(block[name]), scope, params, fields);\n    }\n  }\n\n  return {\n    $expr:   {marktype, channels},\n    $fields: Object.keys(fields),\n    $output: Object.keys(block)\n  };\n}\n\nfunction expr(enc) {\n  return isArray(enc) ? rule(enc) : entry(enc);\n}\n\nfunction parse(code, scope, params, fields) {\n  const expr = parseExpression(code, scope);\n  expr.$fields.forEach(name => fields[name] = 1);\n  extend(params, expr.$params);\n  return expr.$expr;\n}\n","import {error, stringValue} from 'vega-util';\n\nconst OUTER = 'outer',\n      OUTER_INVALID = ['value', 'update', 'init', 'react', 'bind'];\n\nfunction outerError(prefix, name) {\n  error(prefix + ' for \"outer\" push: ' + stringValue(name));\n}\n\nexport default function(signal, scope) {\n  const name = signal.name;\n\n  if (signal.push === OUTER) {\n    // signal must already be defined, raise error if not\n    if (!scope.signals[name]) outerError('No prior signal definition', name);\n    // signal push must not use properties reserved for standard definition\n    OUTER_INVALID.forEach(prop => {\n      if (signal[prop] !== undefined) outerError('Invalid property ', prop);\n    });\n  } else {\n    // define a new signal in the current scope\n    const op = scope.addSignal(name, signal.value);\n    if (signal.react === false) op.react = false;\n    if (signal.bind) scope.addBinding(name, signal.bind);\n  }\n}\n","import {isObject} from 'vega-util';\n\nexport function Entry(type, value, params, parent) {\n  this.id = -1;\n  this.type = type;\n  this.value = value;\n  this.params = params;\n  if (parent) this.parent = parent;\n}\n\nexport function entry(type, value, params, parent) {\n  return new Entry(type, value, params, parent);\n}\n\nexport function operator(value, params) {\n  return entry('operator', value, params);\n}\n\n// -----\n\nexport function ref(op) {\n  const ref = {$ref: op.id};\n  // if operator not yet registered, cache ref to resolve later\n  if (op.id < 0) (op.refs = op.refs || []).push(ref);\n  return ref;\n}\n\nexport const tupleidRef = {\n  $tupleid: 1,\n  toString: function() { return ':_tupleid_:'; }\n};\n\nexport function fieldRef(field, name) {\n  return name ? {$field: field, $name: name} : {$field: field};\n}\n\nexport const keyFieldRef = fieldRef('key');\n\nexport function compareRef(fields, orders) {\n  return {$compare: fields, $order: orders};\n}\n\nexport function keyRef(fields, flat) {\n  const ref = {$key: fields};\n  if (flat) ref.$flat = true;\n  return ref;\n}\n\n// -----\n\nexport const Ascending  = 'ascending';\n\nexport const Descending = 'descending';\n\nexport function sortKey(sort) {\n  return !isObject(sort) ? ''\n    : (sort.order === Descending ? '-' : '+')\n      + aggrField(sort.op, sort.field);\n}\n\nexport function aggrField(op, field) {\n  return (op && op.signal ? '$' + op.signal : op || '')\n    + (op && field ? '_' : '')\n    + (field && field.signal ? '$' + field.signal : field || '');\n}\n\n// -----\n\nexport const Scope = 'scope';\n\nexport const View = 'view';\n\nexport function isSignal(_) {\n  return _ && _.signal;\n}\n\nexport function isExpr(_) {\n  return _ && _.expr;\n}\n\nexport function hasSignal(_) {\n  if (isSignal(_)) return true;\n  if (isObject(_)) for (const key in _) {\n    if (hasSignal(_[key])) return true;\n  }\n  return false;\n}\n\nexport function value(specValue, defaultValue) {\n  return specValue != null ? specValue : defaultValue;\n}\n\nexport function deref(v) {\n  return v && v.signal || v;\n}\n","import {Scope, View} from '../util.js';\nimport {parseExpression} from 'vega-functions';\nimport {error, stringValue} from 'vega-util';\n\nconst Timer = 'timer';\n\nexport default function parseStream(stream, scope) {\n  const method = stream.merge ? mergeStream\n    : stream.stream ? nestedStream\n    : stream.type ? eventStream\n    : error('Invalid stream specification: ' + stringValue(stream));\n\n  return method(stream, scope);\n}\n\nfunction eventSource(source) {\n   return source === Scope ? View : (source || View);\n}\n\nfunction mergeStream(stream, scope) {\n  const list = stream.merge.map(s => parseStream(s, scope)),\n        entry = streamParameters({merge: list}, stream, scope);\n  return scope.addStream(entry).id;\n}\n\nfunction nestedStream(stream, scope) {\n  const id = parseStream(stream.stream, scope),\n        entry = streamParameters({stream: id}, stream, scope);\n  return scope.addStream(entry).id;\n}\n\nfunction eventStream(stream, scope) {\n  let id;\n  if (stream.type === Timer) {\n    id = scope.event(Timer, stream.throttle);\n    stream = {between: stream.between, filter: stream.filter};\n  } else {\n    id = scope.event(eventSource(stream.source), stream.type);\n  }\n\n  const entry = streamParameters({stream: id}, stream, scope);\n  return Object.keys(entry).length === 1\n    ? id\n    : scope.addStream(entry).id;\n}\n\nfunction streamParameters(entry, stream, scope) {\n  let param = stream.between;\n\n  if (param) {\n    if (param.length !== 2) {\n      error('Stream \"between\" parameter must have 2 entries: ' + stringValue(stream));\n    }\n    entry.between = [\n      parseStream(param[0], scope),\n      parseStream(param[1], scope)\n    ];\n  }\n\n  param = stream.filter ? [].concat(stream.filter) : [];\n  if (stream.marktype || stream.markname || stream.markrole) {\n    // add filter for mark type, name and/or role\n    param.push(filterMark(stream.marktype, stream.markname, stream.markrole));\n  }\n  if (stream.source === Scope) {\n    // add filter to limit events from sub-scope only\n    param.push('inScope(event.item)');\n  }\n  if (param.length) {\n    entry.filter = parseExpression('(' + param.join(')&&(') + ')', scope).$expr;\n  }\n\n  if ((param = stream.throttle) != null) {\n    entry.throttle = +param;\n  }\n\n  if ((param = stream.debounce) != null) {\n    entry.debounce = +param;\n  }\n\n  if (stream.consume) {\n    entry.consume = true;\n  }\n\n  return entry;\n}\n\nfunction filterMark(type, name, role) {\n  const item = 'event.item';\n  return item\n    + (type && type !== '*' ? '&&' + item + '.mark.marktype===\\'' + type + '\\'' : '')\n    + (role ? '&&' + item + '.mark.role===\\'' + role + '\\'' : '')\n    + (name ? '&&' + item + '.mark.name===\\'' + name + '\\'' : '');\n}\n","import parseStream from './stream.js';\nimport {Scope, View} from '../util.js';\nimport {parseSelector} from 'vega-event-selector';\nimport {parseExpression} from 'vega-functions';\nimport {array, error, extend, isString, stringValue} from 'vega-util';\n\n// bypass expression parser for internal operator references\nconst OP_VALUE_EXPR = {\n  code: '_.$value',\n  ast: {type: 'Identifier', value: 'value'}\n};\n\nexport default function(spec, scope, target) {\n  const encode = spec.encode,\n        entry = {target: target};\n\n  let events = spec.events,\n      update = spec.update,\n      sources = [];\n\n  if (!events) {\n    error('Signal update missing events specification.');\n  }\n\n  // interpret as an event selector string\n  if (isString(events)) {\n    events = parseSelector(events, scope.isSubscope() ? Scope : View);\n  }\n\n  // separate event streams from signal updates\n  events = array(events)\n    .filter(s => s.signal || s.scale ? (sources.push(s), 0) : 1);\n\n  // merge internal operator listeners\n  if (sources.length > 1) {\n    sources = [mergeSources(sources)];\n  }\n\n  // merge event streams, include as source\n  if (events.length) {\n    sources.push(events.length > 1 ? {merge: events} : events[0]);\n  }\n\n  if (encode != null) {\n    if (update) error('Signal encode and update are mutually exclusive.');\n    update = 'encode(item(),' + stringValue(encode) + ')';\n  }\n\n  // resolve update value\n  entry.update = isString(update) ? parseExpression(update, scope)\n    : update.expr != null ? parseExpression(update.expr, scope)\n    : update.value != null ? update.value\n    : update.signal != null ? {\n        $expr:   OP_VALUE_EXPR,\n        $params: {$value: scope.signalRef(update.signal)}\n      }\n    : error('Invalid signal update specification.');\n\n  if (spec.force) {\n    entry.options = {force: true};\n  }\n\n  sources.forEach(source =>\n    scope.addUpdate(extend(streamSource(source, scope), entry))\n  );\n}\n\nfunction streamSource(stream, scope) {\n  return {\n    source: stream.signal ? scope.signalRef(stream.signal)\n          : stream.scale ? scope.scaleRef(stream.scale)\n          : parseStream(stream, scope)\n  };\n}\n\nfunction mergeSources(sources) {\n  return {\n    signal: '['\n      + sources.map(s => s.scale ? 'scale(\"' + s.scale + '\")' : s.signal)\n      + ']'\n  };\n}\n","import parseUpdate from './update.js';\nimport {parseExpression} from 'vega-functions';\nimport {error} from 'vega-util';\n\nexport default function(signal, scope) {\n  const op = scope.getSignal(signal.name);\n  let expr = signal.update;\n\n  if (signal.init) {\n    if (expr) {\n      error('Signals can not include both init and update expressions.');\n    } else {\n      expr = signal.init;\n      op.initonly = true;\n    }\n  }\n\n  if (expr) {\n    expr = parseExpression(expr, scope);\n    op.update = expr.$expr;\n    op.params = expr.$params;\n  }\n\n  if (signal.on) {\n    signal.on.forEach(_ => parseUpdate(_, scope, op.id));\n  }\n}\n","import {entry} from './util.js';\n\nconst transform = name => (params, value, parent) =>\n  entry(name, value, params || undefined, parent);\n\nexport const Aggregate = transform('aggregate');\nexport const AxisTicks = transform('axisticks');\nexport const Bound = transform('bound');\nexport const Collect = transform('collect');\nexport const Compare = transform('compare');\nexport const DataJoin = transform('datajoin');\nexport const Encode = transform('encode');\nexport const Expression = transform('expression');\nexport const Extent = transform('extent');\nexport const Facet = transform('facet');\nexport const Field = transform('field');\nexport const Key = transform('key');\nexport const LegendEntries = transform('legendentries');\nexport const Load = transform('load');\nexport const Mark = transform('mark');\nexport const MultiExtent = transform('multiextent');\nexport const MultiValues = transform('multivalues');\nexport const Overlap = transform('overlap');\nexport const Params = transform('params');\nexport const PreFacet = transform('prefacet');\nexport const Projection = transform('projection');\nexport const Proxy = transform('proxy');\nexport const Relay = transform('relay');\nexport const Render = transform('render');\nexport const Scale = transform('scale');\nexport const Sieve = transform('sieve');\nexport const SortItems = transform('sortitems');\nexport const ViewLayout = transform('viewlayout');\nexport const Values = transform('values');\n","import {\n  Aggregate, Collect, MultiExtent, MultiValues, Sieve, Values\n} from '../transforms.js';\nimport {aggrField, keyFieldRef, ref} from '../util.js';\n\nimport {isDiscrete, isQuantile, isValidScaleType} from 'vega-scale';\nimport {\n  error, extend, hasOwnProperty, isArray, isObject, isString, stringValue\n} from 'vega-util';\n\nlet FIELD_REF_ID = 0;\n\nconst MULTIDOMAIN_SORT_OPS  = {min: 'min', max: 'max', count: 'sum'};\n\nexport function initScale(spec, scope) {\n  const type = spec.type || 'linear';\n\n  if (!isValidScaleType(type)) {\n    error('Unrecognized scale type: ' + stringValue(type));\n  }\n\n  scope.addScale(spec.name, {\n    type,\n    domain: undefined\n  });\n}\n\nexport function parseScale(spec, scope) {\n  const params = scope.getScale(spec.name).params;\n  let key;\n\n  params.domain = parseScaleDomain(spec.domain, spec, scope);\n\n  if (spec.range != null) {\n    params.range = parseScaleRange(spec, scope, params);\n  }\n\n  if (spec.interpolate != null) {\n    parseScaleInterpolate(spec.interpolate, params);\n  }\n\n  if (spec.nice != null) {\n    params.nice = parseScaleNice(spec.nice, scope);\n  }\n\n  if (spec.bins != null) {\n    params.bins = parseScaleBins(spec.bins, scope);\n  }\n\n  for (key in spec) {\n    if (hasOwnProperty(params, key) || key === 'name') continue;\n    params[key] = parseLiteral(spec[key], scope);\n  }\n}\n\nfunction parseLiteral(v, scope) {\n  return !isObject(v) ? v\n    : v.signal ? scope.signalRef(v.signal)\n    : error('Unsupported object: ' + stringValue(v));\n}\n\nfunction parseArray(v, scope) {\n  return v.signal\n    ? scope.signalRef(v.signal)\n    : v.map(v => parseLiteral(v, scope));\n}\n\nfunction dataLookupError(name) {\n  error('Can not find data set: ' + stringValue(name));\n}\n\n// -- SCALE DOMAIN ----\n\nfunction parseScaleDomain(domain, spec, scope) {\n  if (!domain) {\n    if (spec.domainMin != null || spec.domainMax != null) {\n      error('No scale domain defined for domainMin/domainMax to override.');\n    }\n    return; // default domain\n  }\n\n  return domain.signal ? scope.signalRef(domain.signal)\n    : (isArray(domain) ? explicitDomain\n    : domain.fields ? multipleDomain\n    : singularDomain)(domain, spec, scope);\n}\n\nfunction explicitDomain(domain, spec, scope) {\n  return domain.map(v => parseLiteral(v, scope));\n}\n\nfunction singularDomain(domain, spec, scope) {\n  const data = scope.getData(domain.data);\n  if (!data) dataLookupError(domain.data);\n\n  return isDiscrete(spec.type)\n      ? data.valuesRef(scope, domain.field, parseSort(domain.sort, false))\n      : isQuantile(spec.type) ? data.domainRef(scope, domain.field)\n      : data.extentRef(scope, domain.field);\n}\n\nfunction multipleDomain(domain, spec, scope) {\n  const data = domain.data,\n        fields = domain.fields.reduce((dom, d) => {\n          d = isString(d) ? {data: data, field: d}\n            : (isArray(d) || d.signal) ? fieldRef(d, scope)\n            : d;\n          dom.push(d);\n          return dom;\n        }, []);\n\n  return (isDiscrete(spec.type) ? ordinalMultipleDomain\n    : isQuantile(spec.type) ? quantileMultipleDomain\n    : numericMultipleDomain)(domain, scope, fields);\n}\n\nfunction fieldRef(data, scope) {\n  const name = '_:vega:_' + (FIELD_REF_ID++),\n        coll = Collect({});\n\n  if (isArray(data)) {\n    coll.value = {$ingest: data};\n  } else if (data.signal) {\n    const code = 'setdata(' + stringValue(name) + ',' + data.signal + ')';\n    coll.params.input = scope.signalRef(code);\n  }\n  scope.addDataPipeline(name, [coll, Sieve({})]);\n  return {data: name, field: 'data'};\n}\n\nfunction ordinalMultipleDomain(domain, scope, fields) {\n  const sort = parseSort(domain.sort, true);\n  let a, v;\n\n  // get value counts for each domain field\n  const counts = fields.map(f => {\n    const data = scope.getData(f.data);\n    if (!data) dataLookupError(f.data);\n    return data.countsRef(scope, f.field, sort);\n  });\n\n  // aggregate the results from each domain field\n  const p = {groupby: keyFieldRef, pulse: counts};\n  if (sort) {\n    a = sort.op || 'count';\n    v = sort.field ? aggrField(a, sort.field) : 'count';\n    p.ops = [MULTIDOMAIN_SORT_OPS[a]];\n    p.fields = [scope.fieldRef(v)];\n    p.as = [v];\n  }\n  a = scope.add(Aggregate(p));\n\n  // collect aggregate output\n  const c = scope.add(Collect({pulse: ref(a)}));\n\n  // extract values for combined domain\n  v = scope.add(Values({\n    field: keyFieldRef,\n    sort:  scope.sortRef(sort),\n    pulse: ref(c)\n  }));\n\n  return ref(v);\n}\n\nfunction parseSort(sort, multidomain) {\n  if (sort) {\n    if (!sort.field && !sort.op) {\n      if (isObject(sort)) sort.field = 'key';\n      else sort = {field: 'key'};\n    } else if (!sort.field && sort.op !== 'count') {\n      error('No field provided for sort aggregate op: ' + sort.op);\n    } else if (multidomain && sort.field) {\n      if (sort.op && !MULTIDOMAIN_SORT_OPS[sort.op]) {\n        error('Multiple domain scales can not be sorted using ' + sort.op);\n      }\n    }\n  }\n  return sort;\n}\n\nfunction quantileMultipleDomain(domain, scope, fields) {\n  // get value arrays for each domain field\n  const values = fields.map(f => {\n    const data = scope.getData(f.data);\n    if (!data) dataLookupError(f.data);\n    return data.domainRef(scope, f.field);\n  });\n\n  // combine value arrays\n  return ref(scope.add(MultiValues({values: values})));\n}\n\nfunction numericMultipleDomain(domain, scope, fields) {\n  // get extents for each domain field\n  const extents = fields.map(f => {\n    const data = scope.getData(f.data);\n    if (!data) dataLookupError(f.data);\n    return data.extentRef(scope, f.field);\n  });\n\n  // combine extents\n  return ref(scope.add(MultiExtent({extents: extents})));\n}\n\n// -- SCALE BINS -----\n\nfunction parseScaleBins(v, scope) {\n  return v.signal || isArray(v)\n    ? parseArray(v, scope)\n    : scope.objectProperty(v);\n}\n\n// -- SCALE NICE -----\n\nfunction parseScaleNice(nice, scope) {\n  return nice.signal\n    ? scope.signalRef(nice.signal)\n    : isObject(nice)\n    ? {\n        interval: parseLiteral(nice.interval),\n        step: parseLiteral(nice.step)\n      }\n    : parseLiteral(nice);\n}\n\n// -- SCALE INTERPOLATION -----\n\nfunction parseScaleInterpolate(interpolate, params) {\n  params.interpolate = parseLiteral(interpolate.type || interpolate);\n  if (interpolate.gamma != null) {\n    params.interpolateGamma = parseLiteral(interpolate.gamma);\n  }\n}\n\n// -- SCALE RANGE -----\n\nfunction parseScaleRange(spec, scope, params) {\n  const config = scope.config.range;\n  let range = spec.range;\n\n  if (range.signal) {\n    return scope.signalRef(range.signal);\n  } else if (isString(range)) {\n    if (config && hasOwnProperty(config, range)) {\n      spec = extend({}, spec, {range: config[range]});\n      return parseScaleRange(spec, scope, params);\n    } else if (range === 'width') {\n      range = [0, {signal: 'width'}];\n    } else if (range === 'height') {\n      range = isDiscrete(spec.type)\n        ? [0, {signal: 'height'}]\n        : [{signal: 'height'}, 0];\n    } else {\n      error('Unrecognized scale range value: ' + stringValue(range));\n    }\n  } else if (range.scheme) {\n    params.scheme = isArray(range.scheme)\n      ? parseArray(range.scheme, scope)\n      : parseLiteral(range.scheme, scope);\n    if (range.extent) params.schemeExtent = parseArray(range.extent, scope);\n    if (range.count) params.schemeCount = parseLiteral(range.count, scope);\n    return;\n  } else if (range.step) {\n    params.rangeStep = parseLiteral(range.step, scope);\n    return;\n  } else if (isDiscrete(spec.type) && !isArray(range)) {\n    return parseScaleDomain(range, spec, scope);\n  } else if (!isArray(range)) {\n    error('Unsupported range type: ' + stringValue(range));\n  }\n\n  return range.map(v => (isArray(v) ? parseArray : parseLiteral)(v, scope));\n}\n","import {error, isArray, isObject, stringValue} from 'vega-util';\n\nexport default function(proj, scope) {\n  const config = scope.config.projection || {},\n        params = {};\n\n  for (const name in proj) {\n    if (name === 'name') continue;\n    params[name] = parseParameter(proj[name], name, scope);\n  }\n\n  // apply projection defaults from config\n  for (const name in config) {\n    if (params[name] == null) {\n      params[name] = parseParameter(config[name], name, scope);\n    }\n  }\n\n  scope.addProjection(proj.name, params);\n}\n\nfunction parseParameter(_, name, scope) {\n  return isArray(_) ? _.map(_ => parseParameter(_, name, scope))\n    : !isObject(_) ? _\n    : _.signal ? scope.signalRef(_.signal)\n    : name === 'fit' ? _\n    : error('Unsupported parameter object: ' + stringValue(_));\n}\n","export const Top = 'top';\nexport const Left = 'left';\nexport const Right = 'right';\nexport const Bottom = 'bottom';\nexport const Center = 'center';\n\nexport const Vertical = 'vertical';\n\nexport const Start = 'start';\nexport const Middle = 'middle';\nexport const End = 'end';\n\nexport const Index  = 'index';\nexport const Label  = 'label';\nexport const Offset = 'offset';\nexport const Perc   = 'perc';\nexport const Perc2  = 'perc2';\nexport const Value  = 'value';\n\nexport const GuideLabelStyle = 'guide-label';\nexport const GuideTitleStyle = 'guide-title';\nexport const GroupTitleStyle = 'group-title';\nexport const GroupSubtitleStyle = 'group-subtitle';\n\n/** All values of LegendType */\nexport const Symbols = 'symbol';\nexport const Gradient = 'gradient';\nexport const Discrete = 'discrete';\n\nexport const Size = 'size';\nexport const Shape = 'shape';\nexport const Fill = 'fill';\nexport const Stroke = 'stroke';\nexport const StrokeWidth = 'strokeWidth';\nexport const StrokeDash = 'strokeDash';\nexport const Opacity = 'opacity';\n\n// Encoding channels supported by legends\n// In priority order of 'canonical' scale\nexport const LegendScales = [\n  Size,\n  Shape,\n  Fill,\n  Stroke,\n  StrokeWidth,\n  StrokeDash,\n  Opacity\n];\n\nexport const Skip = {\n  name: 1,\n  style: 1,\n  interactive: 1\n};\n\nexport const zero = {value: 0};\nexport const one = {value: 1};\n","export const GroupMark = 'group';\nexport const RectMark = 'rect';\nexport const RuleMark = 'rule';\nexport const SymbolMark = 'symbol';\nexport const TextMark = 'text';\n","import {GroupMark} from '../marks/marktypes.js';\n\nexport default function(mark) {\n  mark.type = GroupMark;\n  mark.interactive = mark.interactive || false;\n  return mark;\n}\n","import {Center, End, Left, Right, Start, Vertical} from './constants.js';\nimport {value} from '../../util.js';\nimport {isObject, stringValue} from 'vega-util';\n\nexport function lookup(spec, config) {\n  const _ = (name, dflt) => value(spec[name], value(config[name], dflt));\n\n  _.isVertical = s => Vertical === value(\n    spec.direction,\n    config.direction || (s ? config.symbolDirection : config.gradientDirection)\n  );\n\n  _.gradientLength = () => value(\n    spec.gradientLength,\n    config.gradientLength || config.gradientWidth\n  );\n\n  _.gradientThickness = () => value(\n    spec.gradientThickness,\n    config.gradientThickness || config.gradientHeight\n  );\n\n  _.entryColumns = () => value(\n    spec.columns,\n    value(config.columns, +_.isVertical(true))\n  );\n\n  return _;\n}\n\nexport function getEncoding(name, encode) {\n  const v = encode && (\n    (encode.update && encode.update[name]) ||\n    (encode.enter && encode.enter[name])\n  );\n  return v && v.signal ? v : v ? v.value : null;\n}\n\nexport function getStyle(name, scope, style) {\n  const s = scope.config.style[style];\n  return s && s[name];\n}\n\nexport function anchorExpr(s, e, m) {\n  return `item.anchor === '${Start}' ? ${s} : item.anchor === '${End}' ? ${e} : ${m}`;\n}\n\nexport const alignExpr = anchorExpr(\n  stringValue(Left),\n  stringValue(Right),\n  stringValue(Center)\n);\n\nexport function tickBand(_) {\n  const v = _('tickBand');\n  let offset = _('tickOffset'),\n      band, extra;\n\n  if (!v) {\n    // if no tick band entry, fall back on other properties\n    band = _('bandPosition');\n    extra = _('tickExtra');\n  } else if (v.signal) {\n    // if signal, augment code to interpret values\n    band = {signal: `(${v.signal}) === 'extent' ? 1 : 0.5`};\n    extra = {signal: `(${v.signal}) === 'extent'`};\n    if (!isObject(offset)) {\n      offset = {signal: `(${v.signal}) === 'extent' ? 0 : ${offset}`};\n    }\n  } else if (v === 'extent') {\n    // if constant, simply set values\n    band = 1;\n    extra = true;\n    offset = 0;\n  } else {\n    band = 0.5;\n    extra = false;\n  }\n\n  return {extra, band, offset};\n}\n\nexport function extendOffset(value, offset) {\n  return !offset ? value\n    : !value ? offset\n    : !isObject(value) ? { value, offset }\n    : Object.assign({}, value, { offset: extendOffset(value.offset, offset) });\n}\n","import {Skip} from './constants.js';\nimport {extendEncode} from '../encode/util.js';\n\nexport default function(mark, extras) {\n  if (extras) {\n    mark.name = extras.name;\n    mark.style = extras.style || mark.style;\n    mark.interactive = !!extras.interactive;\n    mark.encode = extendEncode(mark.encode, extras, Skip);\n  } else {\n    mark.interactive = false;\n  }\n  return mark;\n}\n","import {one, zero} from './constants.js';\nimport guideMark from './guide-mark.js';\nimport {lookup} from './guide-util.js';\nimport {addEncoders, encoder} from '../encode/util.js';\nimport {RectMark} from '../marks/marktypes.js';\nimport {LegendGradientRole} from '../marks/roles.js';\nimport {extend} from 'vega-util';\n\nexport default function(spec, scale, config, userEncode) {\n  const _ = lookup(spec, config),\n        vertical = _.isVertical(),\n        thickness = _.gradientThickness(),\n        length = _.gradientLength();\n\n  let enter, start, stop, width, height;\n\n  if (vertical) {\n    start = [0, 1];\n    stop = [0, 0];\n    width = thickness;\n    height = length;\n  } else {\n    start = [0, 0];\n    stop = [1, 0];\n    width = length;\n    height = thickness;\n  }\n\n  const encode = {\n    enter: enter = {\n      opacity: zero,\n      x: zero,\n      y: zero,\n      width: encoder(width),\n      height: encoder(height)\n    },\n    update: extend({}, enter, {\n      opacity: one,\n      fill: {gradient: scale, start: start, stop: stop}\n    }),\n    exit: {\n      opacity: zero\n    }\n  };\n\n  addEncoders(encode, {\n    stroke:      _('gradientStrokeColor'),\n    strokeWidth: _('gradientStrokeWidth')\n  }, { // update\n    opacity:     _('gradientOpacity')\n  });\n\n  return guideMark({\n    type: RectMark,\n    role: LegendGradientRole,\n    encode\n  }, userEncode);\n}\n","import {Perc, Perc2, Value, one, zero} from './constants.js';\nimport guideMark from './guide-mark.js';\nimport {lookup} from './guide-util.js';\nimport {addEncoders, encoder} from '../encode/util.js';\nimport {RectMark} from '../marks/marktypes.js';\nimport {LegendBandRole} from '../marks/roles.js';\nimport {extend} from 'vega-util';\n\nexport default function(spec, scale, config, userEncode, dataRef) {\n  const _ = lookup(spec, config),\n        vertical = _.isVertical(),\n        thickness = _.gradientThickness(),\n        length = _.gradientLength();\n\n  let u, v, uu, vv, adjust = '';\n\n  vertical\n    ? (u = 'y', uu = 'y2', v = 'x', vv = 'width', adjust = '1-')\n    : (u = 'x', uu = 'x2', v = 'y', vv = 'height');\n\n  const enter = {\n    opacity: zero,\n    fill: {scale: scale, field: Value}\n  };\n  enter[u]  = {signal: adjust + 'datum.' + Perc, mult: length};\n  enter[v]  = zero;\n  enter[uu] = {signal: adjust + 'datum.' + Perc2, mult: length};\n  enter[vv] = encoder(thickness);\n\n  const encode = {\n    enter: enter,\n    update: extend({}, enter, {opacity: one}),\n    exit: {opacity: zero}\n  };\n\n  addEncoders(encode, {\n    stroke:      _('gradientStrokeColor'),\n    strokeWidth: _('gradientStrokeWidth')\n  }, { // update\n    opacity:     _('gradientOpacity')\n  });\n\n  return guideMark({\n    type: RectMark,\n    role: LegendBandRole,\n    key:  Value,\n    from: dataRef,\n    encode\n  }, userEncode);\n}\n","import {\n  Bottom, Center, GuideLabelStyle, Index, Label, Left, Middle,\n  Perc, Right, Top, Value, one, zero\n} from './constants.js';\nimport guideMark from './guide-mark.js';\nimport {lookup} from './guide-util.js';\nimport {addEncoders, encoder} from '../encode/util.js';\nimport {TextMark} from '../marks/marktypes.js';\nimport {LegendLabelRole} from '../marks/roles.js';\nimport {value} from '../../util.js';\n\nconst alignExpr = `datum.${Perc}<=0?\"${Left}\":datum.${Perc}>=1?\"${Right}\":\"${Center}\"`,\n      baselineExpr = `datum.${Perc}<=0?\"${Bottom}\":datum.${Perc}>=1?\"${Top}\":\"${Middle}\"`;\n\nexport default function(spec, config, userEncode, dataRef) {\n  const _ = lookup(spec, config),\n        vertical = _.isVertical(),\n        thickness = encoder(_.gradientThickness()),\n        length = _.gradientLength();\n\n  let overlap = _('labelOverlap'),\n      enter, update, u, v, adjust = '';\n\n  const encode = {\n    enter: enter = {\n      opacity: zero\n    },\n    update: update = {\n      opacity: one,\n      text: {field: Label}\n    },\n    exit: {\n      opacity: zero\n    }\n  };\n\n  addEncoders(encode, {\n    fill:        _('labelColor'),\n    fillOpacity: _('labelOpacity'),\n    font:        _('labelFont'),\n    fontSize:    _('labelFontSize'),\n    fontStyle:   _('labelFontStyle'),\n    fontWeight:  _('labelFontWeight'),\n    limit:       value(spec.labelLimit, config.gradientLabelLimit)\n  });\n\n  if (vertical) {\n    enter.align = {value: 'left'};\n    enter.baseline = update.baseline = {signal: baselineExpr};\n    u = 'y'; v = 'x'; adjust = '1-';\n  } else {\n    enter.align = update.align = {signal: alignExpr};\n    enter.baseline = {value: 'top'};\n    u = 'x'; v = 'y';\n  }\n\n  enter[u] = update[u] = {signal: adjust + 'datum.' + Perc, mult: length};\n\n  enter[v] = update[v] = thickness;\n  thickness.offset = value(spec.labelOffset, config.gradientLabelOffset) || 0;\n\n  overlap = overlap ? {\n    separation: _('labelSeparation'),\n    method: overlap,\n    order: 'datum.' + Index\n  } : undefined;\n\n  // type, role, style, key, dataRef, encode, extras\n  return guideMark({\n    type:  TextMark,\n    role:  LegendLabelRole,\n    style: GuideLabelStyle,\n    key:   Value,\n    from: dataRef,\n    encode,\n    overlap\n  }, userEncode);\n}\n","import {\n  GuideLabelStyle, Index, Label, LegendScales, Offset, Size, Skip,\n  Value, one, zero\n} from './constants.js';\nimport guideGroup from './guide-group.js';\nimport guideMark from './guide-mark.js';\nimport {lookup} from './guide-util.js';\nimport {addEncoders, encoder, extendEncode} from '../encode/util.js';\nimport {SymbolMark, TextMark} from '../marks/marktypes.js';\nimport {LegendLabelRole, LegendSymbolRole, ScopeRole} from '../marks/roles.js';\n\n// userEncode is top-level, includes entries, symbols, labels\nexport default function(spec, config, userEncode, dataRef, columns) {\n  const _ = lookup(spec, config),\n        entries = userEncode.entries,\n        interactive = !!(entries && entries.interactive),\n        name = entries ? entries.name : undefined,\n        height = _('clipHeight'),\n        symbolOffset = _('symbolOffset'),\n        valueRef = {data: 'value'},\n        xSignal = `(${columns}) ? datum.${Offset} : datum.${Size}`,\n        yEncode = height ? encoder(height) : {field: Size},\n        index = `datum.${Index}`,\n        ncols = `max(1, ${columns})`;\n\n  let encode, enter, update, nrows, sort;\n\n  yEncode.mult = 0.5;\n\n  // -- LEGEND SYMBOLS --\n  encode = {\n    enter:  enter = {\n      opacity: zero,\n      x: {signal: xSignal, mult: 0.5, offset: symbolOffset},\n      y: yEncode\n    },\n    update: update = {\n      opacity: one,\n      x: enter.x,\n      y: enter.y\n    },\n    exit: {\n      opacity: zero\n    }\n  };\n\n  let baseFill = null,\n      baseStroke = null;\n  if (!spec.fill) {\n    baseFill = config.symbolBaseFillColor;\n    baseStroke = config.symbolBaseStrokeColor;\n  }\n\n  addEncoders(encode, {\n    fill:             _('symbolFillColor', baseFill),\n    shape:            _('symbolType'),\n    size:             _('symbolSize'),\n    stroke:           _('symbolStrokeColor', baseStroke),\n    strokeDash:       _('symbolDash'),\n    strokeDashOffset: _('symbolDashOffset'),\n    strokeWidth:      _('symbolStrokeWidth')\n  }, { // update\n    opacity:          _('symbolOpacity')\n  });\n\n  LegendScales.forEach(scale => {\n    if (spec[scale]) {\n      update[scale] = enter[scale] = {scale: spec[scale], field: Value};\n    }\n  });\n\n  const symbols = guideMark({\n    type: SymbolMark,\n    role: LegendSymbolRole,\n    key:  Value,\n    from: valueRef,\n    clip: height ? true : undefined,\n    encode\n  }, userEncode.symbols);\n\n  // -- LEGEND LABELS --\n  const labelOffset = encoder(symbolOffset);\n  labelOffset.offset = _('labelOffset');\n\n  encode = {\n    enter:  enter = {\n      opacity: zero,\n      x: {signal: xSignal, offset: labelOffset},\n      y: yEncode\n    },\n    update: update = {\n      opacity: one,\n      text: {field: Label},\n      x: enter.x,\n      y: enter.y\n    },\n    exit: {\n      opacity: zero\n    }\n  };\n\n  addEncoders(encode, {\n    align:       _('labelAlign'),\n    baseline:    _('labelBaseline'),\n    fill:        _('labelColor'),\n    fillOpacity: _('labelOpacity'),\n    font:        _('labelFont'),\n    fontSize:    _('labelFontSize'),\n    fontStyle:   _('labelFontStyle'),\n    fontWeight:  _('labelFontWeight'),\n    limit:       _('labelLimit')\n  });\n\n  const labels = guideMark({\n    type:  TextMark,\n    role:  LegendLabelRole,\n    style: GuideLabelStyle,\n    key:   Value,\n    from:  valueRef,\n    encode\n  }, userEncode.labels);\n\n  // -- LEGEND ENTRY GROUPS --\n  encode = {\n    enter: {\n      noBound: {value: !height}, // ignore width/height in bounds calc\n      width: zero,\n      height: height ? encoder(height) : zero,\n      opacity: zero\n    },\n    exit: {opacity: zero},\n    update: update = {\n      opacity: one,\n      row: {signal: null},\n      column: {signal: null}\n    }\n  };\n\n  // annotate and sort groups to ensure correct ordering\n  if (_.isVertical(true)) {\n    nrows = `ceil(item.mark.items.length / ${ncols})`;\n    update.row.signal = `${index}%${nrows}`;\n    update.column.signal = `floor(${index} / ${nrows})`;\n    sort = {field: ['row', index]};\n  } else {\n    update.row.signal = `floor(${index} / ${ncols})`;\n    update.column.signal = `${index} % ${ncols}`;\n    sort = {field: index};\n  }\n  // handle zero column case (implies infinite columns)\n  update.column.signal = `(${columns})?${update.column.signal}:${index}`;\n\n  // facet legend entries into sub-groups\n  dataRef = {facet: {data: dataRef, name: 'value', groupby: Index}};\n\n  return guideGroup({\n    role:   ScopeRole,\n    from:   dataRef,\n    encode: extendEncode(encode, entries, Skip),\n    marks:  [symbols, labels],\n    name,\n    interactive,\n    sort\n  });\n}\n\nexport function legendSymbolLayout(spec, config) {\n  const _ = lookup(spec, config);\n\n  // layout parameters for legend entries\n  return {\n    align:   _('gridAlign'),\n    columns: _.entryColumns(),\n    center:  {\n      row: true,\n      column: false\n    },\n    padding: {\n      row:    _('rowPadding'),\n      column: _('columnPadding')\n    }\n  };\n}\n","import {GuideTitleStyle, one, zero} from './constants.js';\nimport guideMark from './guide-mark.js';\nimport {alignExpr, anchorExpr, lookup} from './guide-util.js';\nimport {addEncoders} from '../encode/util.js';\nimport {TextMark} from '../marks/marktypes.js';\nimport {LegendTitleRole} from '../marks/roles.js';\n\n// expression logic for align, anchor, angle, and baseline calculation\nconst isL = 'item.orient === \"left\"',\n      isR = 'item.orient === \"right\"',\n      isLR = `(${isL} || ${isR})`,\n      isVG = `datum.vgrad && ${isLR}`,\n      baseline = anchorExpr('\"top\"', '\"bottom\"', '\"middle\"'),\n      alignFlip = anchorExpr('\"right\"', '\"left\"', '\"center\"'),\n      exprAlign = `datum.vgrad && ${isR} ? (${alignFlip}) : (${isLR} && !(datum.vgrad && ${isL})) ? \"left\" : ${alignExpr}`,\n      exprAnchor = `item._anchor || (${isLR} ? \"middle\" : \"start\")`,\n      exprAngle = `${isVG} ? (${isL} ? -90 : 90) : 0`,\n      exprBaseline = `${isLR} ? (datum.vgrad ? (${isR} ? \"bottom\" : \"top\") : ${baseline}) : \"top\"`;\n\nexport default function(spec, config, userEncode, dataRef) {\n  const _ = lookup(spec, config);\n\n  const encode = {\n    enter: {opacity: zero},\n    update: {\n      opacity: one,\n      x: {field: {group: 'padding'}},\n      y: {field: {group: 'padding'}}\n    },\n    exit: {opacity: zero}\n  };\n\n  addEncoders(encode, {\n    orient:      _('titleOrient'),\n    _anchor:     _('titleAnchor'),\n    anchor:      {signal: exprAnchor},\n    angle:       {signal: exprAngle},\n    align:       {signal: exprAlign},\n    baseline:    {signal: exprBaseline},\n    text:        spec.title,\n    fill:        _('titleColor'),\n    fillOpacity: _('titleOpacity'),\n    font:        _('titleFont'),\n    fontSize:    _('titleFontSize'),\n    fontStyle:   _('titleFontStyle'),\n    fontWeight:  _('titleFontWeight'),\n    limit:       _('titleLimit'),\n    lineHeight:  _('titleLineHeight')\n  }, { // require update\n    align:       _('titleAlign'),\n    baseline:    _('titleBaseline')\n  });\n\n  return guideMark({\n    type:  TextMark,\n    role:  LegendTitleRole,\n    style: GuideTitleStyle,\n    from:  dataRef,\n    encode\n  }, userEncode);\n}\n","import {isObject, stringValue} from 'vega-util';\n\nexport default function(clip, scope) {\n  let expr;\n\n  if (isObject(clip)) {\n    if (clip.signal) {\n      expr = clip.signal;\n    } else if (clip.path) {\n      expr = 'pathShape(' + param(clip.path) + ')';\n    } else if (clip.sphere) {\n      expr = 'geoShape(' + param(clip.sphere) + ', {type: \"Sphere\"})';\n    }\n  }\n\n  return expr\n    ? scope.signalRef(expr)\n    : !!clip;\n}\n\nfunction param(value) {\n  return isObject(value) && value.signal\n    ? value.signal\n    : stringValue(value);\n}","import {GroupMark} from './marktypes.js';\nimport {MarkRole, ScopeRole} from './roles.js';\n\nexport default function(spec) {\n  const role = spec.role || '';\n  return (role.startsWith('axis') || role.startsWith('legend') || role.startsWith('title'))\n    ? role\n    : spec.type === GroupMark ? ScopeRole : (role || MarkRole);\n}\n","import role from './role.js';\n\nexport default function(spec) {\n  return {\n    marktype:     spec.type,\n    name:         spec.name || undefined,\n    role:         spec.role || role(spec),\n    zindex:       +spec.zindex || undefined,\n    aria:         spec.aria,\n    description:  spec.description\n  };\n}\n","export default function(spec, scope) {\n  return spec && spec.signal ? scope.signalRef(spec.signal)\n    : spec === false ? false\n    : true;\n}\n","import {Params} from '../transforms.js';\nimport {entry, fieldRef, isSignal, ref} from '../util.js';\nimport {definition} from 'vega-dataflow';\nimport {parseExpression} from 'vega-functions';\nimport {error, extend, isArray, isString, stringValue} from 'vega-util';\n\n/**\n * Parse a data transform specification.\n */\nexport default function(spec, scope) {\n  const def = definition(spec.type);\n  if (!def) error('Unrecognized transform type: ' + stringValue(spec.type));\n\n  const t = entry(def.type.toLowerCase(), null, parseParameters(def, spec, scope));\n  if (spec.signal) scope.addSignal(spec.signal, scope.proxy(t));\n  t.metadata = def.metadata || {};\n\n  return t;\n}\n\n/**\n * Parse all parameters of a data transform.\n */\nfunction parseParameters(def, spec, scope) {\n  const params = {},\n        n = def.params.length;\n\n  for (let i = 0; i < n; ++i) {\n    const pdef = def.params[i];\n    params[pdef.name] = parseParameter(pdef, spec, scope);\n  }\n  return params;\n}\n\n/**\n * Parse a data transform parameter.\n */\nfunction parseParameter(def, spec, scope) {\n  const type = def.type,\n        value = spec[def.name];\n\n  if (type === 'index') {\n    return parseIndexParameter(def, spec, scope);\n  } else if (value === undefined) {\n    if (def.required) {\n      error('Missing required ' + stringValue(spec.type)\n          + ' parameter: ' + stringValue(def.name));\n    }\n    return;\n  } else if (type === 'param') {\n    return parseSubParameters(def, spec, scope);\n  } else if (type === 'projection') {\n    return scope.projectionRef(spec[def.name]);\n  }\n\n  return def.array && !isSignal(value)\n    ? value.map(v => parameterValue(def, v, scope))\n    : parameterValue(def, value, scope);\n}\n\n/**\n * Parse a single parameter value.\n */\nfunction parameterValue(def, value, scope) {\n  const type = def.type;\n\n  if (isSignal(value)) {\n    return isExpr(type) ? error('Expression references can not be signals.')\n         : isField(type) ? scope.fieldRef(value)\n         : isCompare(type) ? scope.compareRef(value)\n         : scope.signalRef(value.signal);\n  } else {\n    const expr = def.expr || isField(type);\n    return expr && outerExpr(value) ? scope.exprRef(value.expr, value.as)\n         : expr && outerField(value) ? fieldRef(value.field, value.as)\n         : isExpr(type) ? parseExpression(value, scope)\n         : isData(type) ? ref(scope.getData(value).values)\n         : isField(type) ? fieldRef(value)\n         : isCompare(type) ? scope.compareRef(value)\n         : value;\n  }\n}\n\n/**\n * Parse parameter for accessing an index of another data set.\n */\nfunction parseIndexParameter(def, spec, scope) {\n  if (!isString(spec.from)) {\n    error('Lookup \"from\" parameter must be a string literal.');\n  }\n  return scope.getData(spec.from).lookupRef(scope, spec.key);\n}\n\n/**\n * Parse a parameter that contains one or more sub-parameter objects.\n */\nfunction parseSubParameters(def, spec, scope) {\n  const value = spec[def.name];\n\n  if (def.array) {\n    if (!isArray(value)) { // signals not allowed!\n      error('Expected an array of sub-parameters. Instead: ' + stringValue(value));\n    }\n    return value.map(v => parseSubParameter(def, v, scope));\n  } else {\n    return parseSubParameter(def, value, scope);\n  }\n}\n\n/**\n * Parse a sub-parameter object.\n */\nfunction parseSubParameter(def, value, scope) {\n  const n =def.params.length;\n  let pdef;\n\n  // loop over defs to find matching key\n  for (let i = 0; i < n; ++i) {\n    pdef = def.params[i];\n    for (const k in pdef.key) {\n      if (pdef.key[k] !== value[k]) { pdef = null; break; }\n    }\n    if (pdef) break;\n  }\n  // raise error if matching key not found\n  if (!pdef) error('Unsupported parameter: ' + stringValue(value));\n\n  // parse params, create Params transform, return ref\n  const params = extend(parseParameters(pdef, value, scope), pdef.key);\n  return ref(scope.add(Params(params)));\n}\n\n// -- Utilities -----\n\nexport const outerExpr = _ => _ && _.expr;\n\nexport const outerField = _ => _ && _.field;\n\nexport const isData = _ => _ === 'data';\n\nexport const isExpr = _ => _ === 'expr';\n\nexport const isField = _ => _ === 'field';\n\nexport const isCompare = _ => _ === 'compare';\n","import parseTransform from '../transform.js';\nimport {Collect} from '../../transforms.js';\nimport {ref} from '../../util.js';\nimport {array, error, extend} from 'vega-util';\n\nexport default function(from, group, scope) {\n  let facet, key, op, dataRef, parent;\n\n  // if no source data, generate singleton datum\n  if (!from) {\n    dataRef = ref(scope.add(Collect(null, [{}])));\n  }\n\n  // if faceted, process facet specification\n  else if (facet = from.facet) {\n    if (!group) error('Only group marks can be faceted.');\n\n    // use pre-faceted source data, if available\n    if (facet.field != null) {\n      dataRef = parent = getDataRef(facet, scope);\n    } else {\n      // generate facet aggregates if no direct data specification\n      if (!from.data) {\n        op = parseTransform(extend({\n          type:    'aggregate',\n          groupby: array(facet.groupby)\n        }, facet.aggregate), scope);\n        op.params.key = scope.keyRef(facet.groupby);\n        op.params.pulse = getDataRef(facet, scope);\n        dataRef = parent = ref(scope.add(op));\n      } else {\n        parent = ref(scope.getData(from.data).aggregate);\n      }\n\n      key = scope.keyRef(facet.groupby, true);\n    }\n  }\n\n  // if not yet defined, get source data reference\n  if (!dataRef) {\n    dataRef = getDataRef(from, scope);\n  }\n\n  return {\n    key: key,\n    pulse: dataRef,\n    parent: parent\n  };\n}\n\nexport function getDataRef(from, scope) {\n  return from.$ref ? from\n    : from.data && from.data.$ref ? from.data\n    : ref(scope.getData(from.data).output);\n}","import {Aggregate, Collect} from './transforms.js';\nimport {aggrField, entry, keyFieldRef, ref, sortKey} from './util.js';\nimport {isString} from 'vega-util';\n\nexport default function DataScope(scope, input, output, values, aggr) {\n  this.scope = scope;   // parent scope object\n  this.input = input;   // first operator in pipeline (tuple input)\n  this.output = output; // last operator in pipeline (tuple output)\n  this.values = values; // operator for accessing tuples (but not tuple flow)\n\n  // last aggregate in transform pipeline\n  this.aggregate = aggr;\n\n  // lookup table of field indices\n  this.index = {};\n}\n\nDataScope.fromEntries = function(scope, entries) {\n  const n = entries.length,\n        values = entries[n-1],\n        output = entries[n-2];\n\n  let input = entries[0],\n      aggr = null,\n      i = 1;\n\n  if (input && input.type === 'load') {\n    input = entries[1];\n  }\n\n  // add operator entries to this scope, wire up pulse chain\n  scope.add(entries[0]);\n  for (; i<n; ++i) {\n    entries[i].params.pulse = ref(entries[i-1]);\n    scope.add(entries[i]);\n    if (entries[i].type === 'aggregate') aggr = entries[i];\n  }\n\n  return new DataScope(scope, input, output, values, aggr);\n};\n\nfunction fieldKey(field) {\n  return isString(field) ? field : null;\n}\n\nfunction addSortField(scope, p, sort) {\n  const as = aggrField(sort.op, sort.field);\n  let s;\n\n  if (p.ops) {\n    for (let i = 0, n = p.as.length; i < n; ++i) {\n      if (p.as[i] === as) return;\n    }\n  } else {\n    p.ops = ['count'];\n    p.fields = [null];\n    p.as = ['count'];\n  }\n  if (sort.op) {\n    p.ops.push((s=sort.op.signal) ? scope.signalRef(s) : sort.op);\n    p.fields.push(scope.fieldRef(sort.field));\n    p.as.push(as);\n  }\n}\n\nfunction cache(scope, ds, name, optype, field, counts, index) {\n  const cache = ds[name] || (ds[name] = {}),\n        sort = sortKey(counts);\n\n  let k = fieldKey(field),\n      v, op;\n\n  if (k != null) {\n    scope = ds.scope;\n    k = k + (sort ? '|' + sort : '');\n    v = cache[k];\n  }\n\n  if (!v) {\n    const params = counts\n      ? {field: keyFieldRef, pulse: ds.countsRef(scope, field, counts)}\n      : {field: scope.fieldRef(field), pulse: ref(ds.output)};\n    if (sort) params.sort = scope.sortRef(counts);\n    op = scope.add(entry(optype, undefined, params));\n    if (index) ds.index[field] = op;\n    v = ref(op);\n    if (k != null) cache[k] = v;\n  }\n  return v;\n}\n\nDataScope.prototype = {\n  countsRef(scope, field, sort) {\n    const ds = this,\n          cache = ds.counts || (ds.counts = {}),\n          k = fieldKey(field);\n\n    let v, a, p;\n\n    if (k != null) {\n      scope = ds.scope;\n      v = cache[k];\n    }\n\n    if (!v) {\n      p = {\n        groupby: scope.fieldRef(field, 'key'),\n        pulse: ref(ds.output)\n      };\n      if (sort && sort.field) addSortField(scope, p, sort);\n      a = scope.add(Aggregate(p));\n      v = scope.add(Collect({pulse: ref(a)}));\n      v = {agg: a, ref: ref(v)};\n      if (k != null) cache[k] = v;\n    } else if (sort && sort.field) {\n      addSortField(scope, v.agg.params, sort);\n    }\n\n    return v.ref;\n  },\n\n  tuplesRef() {\n    return ref(this.values);\n  },\n\n  extentRef(scope, field) {\n    return cache(scope, this, 'extent', 'extent', field, false);\n  },\n\n  domainRef(scope, field) {\n    return cache(scope, this, 'domain', 'values', field, false);\n  },\n\n  valuesRef(scope, field, sort) {\n    return cache(scope, this, 'vals', 'values', field, sort || true);\n  },\n\n  lookupRef(scope, field) {\n    return cache(scope, this, 'lookup', 'tupleindex', field, false);\n  },\n\n  indataRef(scope, field) {\n    return cache(scope, this, 'indata', 'tupleindex', field, true, true);\n  }\n};\n","import {getDataRef} from './data.js';\nimport DataScope from '../../DataScope.js';\nimport {Collect, Facet, PreFacet, Sieve} from '../../transforms.js';\nimport {ref} from '../../util.js';\nimport {error, stringValue} from 'vega-util';\n\nexport default function(spec, scope, group) {\n  const facet = spec.from.facet,\n        name = facet.name,\n        data = getDataRef(facet, scope);\n  let op;\n\n  if (!facet.name) {\n    error('Facet must have a name: ' + stringValue(facet));\n  }\n  if (!facet.data) {\n    error('Facet must reference a data set: ' + stringValue(facet));\n  }\n\n  if (facet.field) {\n    op = scope.add(PreFacet({\n      field: scope.fieldRef(facet.field),\n      pulse: data\n    }));\n  } else if (facet.groupby) {\n    op = scope.add(Facet({\n      key:   scope.keyRef(facet.groupby),\n      group: ref(scope.proxy(group.parent)),\n      pulse: data\n    }));\n  } else {\n    error('Facet must specify groupby or field: ' + stringValue(facet));\n  }\n\n  // initialize facet subscope\n  const subscope = scope.fork(),\n        source = subscope.add(Collect()),\n        values = subscope.add(Sieve({pulse: ref(source)}));\n  subscope.addData(name, new DataScope(subscope, source, source, values));\n  subscope.addSignal('parent', null);\n\n  // parse faceted subflow\n  op.params.subflow = {\n    $subflow: subscope.parse(spec).toRuntime()\n  };\n}\n","import {PreFacet, Sieve} from '../../transforms.js';\n\nexport default function(spec, scope, input) {\n  const op = scope.add(PreFacet({pulse: input.pulse})),\n        subscope = scope.fork();\n\n  subscope.add(Sieve());\n  subscope.addSignal('parent', null);\n\n  // parse group mark subflow\n  op.params.subflow = {\n    $subflow: subscope.parse(spec).toRuntime()\n  };\n}\n","import {operator} from '../util.js';\nimport {parseExpression} from 'vega-functions';\n\nexport default function(spec, scope, name) {\n  const remove = spec.remove,\n        insert = spec.insert,\n        toggle = spec.toggle,\n        modify = spec.modify,\n        values = spec.values,\n        op = scope.add(operator());\n\n  const update = 'if(' + spec.trigger + ',modify(\"'\n    + name + '\",'\n    + [insert, remove, toggle, modify, values]\n        .map(_ => _ == null ? 'null' : _)\n        .join(',')\n    + '),0)';\n\n  const expr = parseExpression(update, scope);\n  op.update = expr.$expr;\n  op.params = expr.$params;\n}\n","import parseEncode from './encode.js';\nimport clip from './marks/clip.js';\nimport definition from './marks/definition.js';\nimport interactive from './marks/interactive.js';\nimport parseData from './marks/data.js';\nimport parseFacet from './marks/facet.js';\nimport parseSubflow from './marks/subflow.js';\nimport getRole from './marks/role.js';\nimport {GroupMark} from './marks/marktypes.js';\nimport {FrameRole, MarkRole, ScopeRole} from './marks/roles.js';\nimport parseTransform from './transform.js';\nimport parseTrigger from './trigger.js';\nimport DataScope from '../DataScope.js';\nimport {fieldRef, isSignal, ref} from '../util.js';\nimport {error} from 'vega-util';\nimport {Bound, Collect, DataJoin, Encode, Mark, Overlap, Render, Sieve, SortItems, ViewLayout} from '../transforms.js';\n\nexport default function(spec, scope) {\n  const role = getRole(spec),\n        group = spec.type === GroupMark,\n        facet = spec.from && spec.from.facet,\n        overlap = spec.overlap;\n\n  let layout = spec.layout || role === ScopeRole || role === FrameRole,\n      ops, op, store, enc, name, layoutRef, boundRef;\n\n  const nested = role === MarkRole || layout || facet;\n\n  // resolve input data\n  const input = parseData(spec.from, group, scope);\n\n  // data join to map tuples to visual items\n  op = scope.add(DataJoin({\n    key:   input.key || (spec.key ? fieldRef(spec.key) : undefined),\n    pulse: input.pulse,\n    clean: !group\n  }));\n  const joinRef = ref(op);\n\n  // collect visual items\n  op = store = scope.add(Collect({pulse: joinRef}));\n\n  // connect visual items to scenegraph\n  op = scope.add(Mark({\n    markdef:     definition(spec),\n    interactive: interactive(spec.interactive, scope),\n    clip:        clip(spec.clip, scope),\n    context:     {$context: true},\n    groups:      scope.lookup(),\n    parent:      scope.signals.parent ? scope.signalRef('parent') : null,\n    index:       scope.markpath(),\n    pulse:       ref(op)\n  }));\n  const markRef = ref(op);\n\n  // add visual encoders\n  op = enc = scope.add(Encode(parseEncode(\n    spec.encode, spec.type, role, spec.style, scope,\n    {mod: false, pulse: markRef}\n  )));\n\n  // monitor parent marks to propagate changes\n  op.params.parent = scope.encode();\n\n  // add post-encoding transforms, if defined\n  if (spec.transform) {\n    spec.transform.forEach(_ => {\n      const tx = parseTransform(_, scope),\n            md = tx.metadata;\n      if (md.generates || md.changes) {\n        error('Mark transforms should not generate new data.');\n      }\n      if (!md.nomod) enc.params.mod = true; // update encode mod handling\n      tx.params.pulse = ref(op);\n      scope.add(op = tx);\n    });\n  }\n\n  // if item sort specified, perform post-encoding\n  if (spec.sort) {\n    op = scope.add(SortItems({\n      sort:  scope.compareRef(spec.sort),\n      pulse: ref(op)\n    }));\n  }\n\n  const encodeRef = ref(op);\n\n  // add view layout operator if needed\n  if (facet || layout) {\n    layout = scope.add(ViewLayout({\n      layout:   scope.objectProperty(spec.layout),\n      legends:  scope.legends,\n      mark:     markRef,\n      pulse:    encodeRef\n    }));\n    layoutRef = ref(layout);\n  }\n\n  // compute bounding boxes\n  const bound = scope.add(Bound({mark: markRef, pulse: layoutRef || encodeRef}));\n  boundRef = ref(bound);\n\n  // if group mark, recurse to parse nested content\n  if (group) {\n    // juggle layout & bounds to ensure they run *after* any faceting transforms\n    if (nested) { ops = scope.operators; ops.pop(); if (layout) ops.pop(); }\n\n    scope.pushState(encodeRef, layoutRef || boundRef, joinRef);\n    facet ? parseFacet(spec, scope, input)          // explicit facet\n        : nested ? parseSubflow(spec, scope, input) // standard mark group\n        : scope.parse(spec); // guide group, we can avoid nested scopes\n    scope.popState();\n\n    if (nested) { if (layout) ops.push(layout); ops.push(bound); }\n  }\n\n  // if requested, add overlap removal transform\n  if (overlap) {\n    boundRef = parseOverlap(overlap, boundRef, scope);\n  }\n\n  // render / sieve items\n  const render = scope.add(Render({pulse: boundRef})),\n        sieve = scope.add(Sieve({pulse: ref(render)}, undefined, scope.parent()));\n\n  // if mark is named, make accessible as reactive geometry\n  // add trigger updates if defined\n  if (spec.name != null) {\n    name = spec.name;\n    scope.addData(name, new DataScope(scope, store, render, sieve));\n    if (spec.on) spec.on.forEach(on => {\n      if (on.insert || on.remove || on.toggle) {\n        error('Marks only support modify triggers.');\n      }\n      parseTrigger(on, scope, name);\n    });\n  }\n}\n\nfunction parseOverlap(overlap, source, scope) {\n  const method = overlap.method,\n        bound = overlap.bound,\n        sep = overlap.separation;\n\n  const params = {\n    separation: isSignal(sep) ? scope.signalRef(sep.signal) : sep,\n    method: isSignal(method) ? scope.signalRef(method.signal) : method,\n    pulse:  source\n  };\n\n  if (overlap.order) {\n    params.sort = scope.compareRef({field: overlap.order});\n  }\n\n  if (bound) {\n    const tol = bound.tolerance;\n    params.boundTolerance = isSignal(tol) ? scope.signalRef(tol.signal) : +tol;\n    params.boundScale = scope.scaleRef(bound.scale);\n    params.boundOrient = bound.orient;\n  }\n\n  return ref(scope.add(Overlap(params)));\n}\n","import {addEncoders, extendEncode} from './encode/util.js';\nimport {\n  Discrete, Gradient,\n  GuideLabelStyle, LegendScales, Skip, Symbols\n} from './guides/constants.js';\nimport guideGroup from './guides/guide-group.js';\nimport {getEncoding, getStyle, lookup} from './guides/guide-util.js';\nimport legendGradient from './guides/legend-gradient.js';\nimport legendGradientDiscrete from './guides/legend-gradient-discrete.js';\nimport legendGradientLabels from './guides/legend-gradient-labels.js';\nimport legendSymbolGroups, {legendSymbolLayout} from './guides/legend-symbol-groups.js';\nimport legendTitle from './guides/legend-title.js';\nimport parseMark from './mark.js';\nimport {LegendEntryRole, LegendRole} from './marks/roles.js';\n\nimport {deref, ref} from '../util.js';\nimport {Collect, LegendEntries} from '../transforms.js';\n\nimport {parseExpression} from 'vega-functions';\nimport {isContinuous, isDiscretizing} from 'vega-scale';\nimport {error} from 'vega-util';\n\nexport default function(spec, scope) {\n  const config = scope.config.legend,\n        encode = spec.encode || {},\n        _ = lookup(spec, config),\n        legendEncode = encode.legend || {},\n        name = legendEncode.name || undefined,\n        interactive = legendEncode.interactive,\n        style = legendEncode.style,\n        scales = {};\n\n  let scale = 0, entryLayout, params, children;\n\n  // resolve scales and 'canonical' scale name\n  LegendScales.forEach(s => spec[s]\n    ? (scales[s] = spec[s], scale = scale || spec[s]) : 0\n  );\n  if (!scale) error('Missing valid scale for legend.');\n\n  // resolve legend type (symbol, gradient, or discrete gradient)\n  const type = legendType(spec, scope.scaleType(scale));\n\n  // single-element data source for legend group\n  const datum = {\n    title:  spec.title != null,\n    scales: scales,\n    type:   type,\n    vgrad:  type !== 'symbol' &&  _.isVertical()\n  };\n  const dataRef = ref(scope.add(Collect(null, [datum])));\n\n  // encoding properties for legend entry sub-group\n  const entryEncode = {enter: {x: {value: 0}, y: {value: 0}}};\n\n  // data source for legend values\n  const entryRef = ref(scope.add(LegendEntries(params = {\n    type:    type,\n    scale:   scope.scaleRef(scale),\n    count:   scope.objectProperty(_('tickCount')),\n    limit:   scope.property(_('symbolLimit')),\n    values:  scope.objectProperty(spec.values),\n    minstep: scope.property(spec.tickMinStep),\n    formatType: scope.property(spec.formatType),\n    formatSpecifier: scope.property(spec.format)\n  })));\n\n  // continuous gradient legend\n  if (type === Gradient) {\n    children = [\n      legendGradient(spec, scale, config, encode.gradient),\n      legendGradientLabels(spec, config, encode.labels, entryRef)\n    ];\n    // adjust default tick count based on the gradient length\n    params.count = params.count || scope.signalRef(\n      `max(2,2*floor((${deref(_.gradientLength())})/100))`\n    );\n  }\n\n  // discrete gradient legend\n  else if (type === Discrete) {\n    children = [\n      legendGradientDiscrete(spec, scale, config, encode.gradient, entryRef),\n      legendGradientLabels(spec, config, encode.labels, entryRef)\n    ];\n  }\n\n  // symbol legend\n  else {\n    // determine legend symbol group layout\n    entryLayout = legendSymbolLayout(spec, config);\n    children = [\n      legendSymbolGroups(spec, config, encode, entryRef, deref(entryLayout.columns))\n    ];\n    // pass symbol size information to legend entry generator\n    params.size = sizeExpression(spec, scope, children[0].marks);\n  }\n\n  // generate legend marks\n  children = [\n    guideGroup({\n      role: LegendEntryRole,\n      from: dataRef,\n      encode: entryEncode,\n      marks: children,\n      layout: entryLayout,\n      interactive\n    })\n  ];\n\n  // include legend title if defined\n  if (datum.title) {\n    children.push(legendTitle(spec, config, encode.title, dataRef));\n  }\n\n  // parse legend specification\n  return parseMark(\n    guideGroup({\n      role:        LegendRole,\n      from:        dataRef,\n      encode:      extendEncode(buildLegendEncode(_, spec, config), legendEncode, Skip),\n      marks:       children,\n      aria:        _('aria'),\n      description: _('description'),\n      zindex:      _('zindex'),\n      name,\n      interactive,\n      style\n    }),\n    scope\n  );\n}\n\nfunction legendType(spec, scaleType) {\n  let type = spec.type || Symbols;\n\n  if (!spec.type && scaleCount(spec) === 1 && (spec.fill || spec.stroke)) {\n    type = isContinuous(scaleType) ? Gradient\n      : isDiscretizing(scaleType) ? Discrete\n      : Symbols;\n  }\n\n  return type !== Gradient ? type\n    : isDiscretizing(scaleType) ? Discrete\n    : Gradient;\n}\n\nfunction scaleCount(spec) {\n  return LegendScales.reduce((count, type) => count + (spec[type] ? 1 : 0), 0);\n}\n\nfunction buildLegendEncode(_, spec, config) {\n  const encode = {enter: {}, update: {}};\n\n  addEncoders(encode, {\n    orient:       _('orient'),\n    offset:       _('offset'),\n    padding:      _('padding'),\n    titlePadding: _('titlePadding'),\n    cornerRadius: _('cornerRadius'),\n    fill:         _('fillColor'),\n    stroke:       _('strokeColor'),\n    strokeWidth:  config.strokeWidth,\n    strokeDash:   config.strokeDash,\n    x:            _('legendX'),\n    y:            _('legendY'),\n\n    // accessibility support\n    format:       spec.format,\n    formatType:   spec.formatType\n  });\n\n  return encode;\n}\n\nfunction sizeExpression(spec, scope, marks) {\n  const size = deref(getChannel('size', spec, marks)),\n        strokeWidth = deref(getChannel('strokeWidth', spec, marks)),\n        fontSize = deref(getFontSize(marks[1].encode, scope, GuideLabelStyle));\n\n  return parseExpression(\n    `max(ceil(sqrt(${size})+${strokeWidth}),${fontSize})`,\n    scope\n  );\n}\n\nfunction getChannel(name, spec, marks) {\n  return spec[name]\n    ? `scale(\"${spec[name]}\",datum)`\n    : getEncoding(name, marks[0].encode);\n}\n\nfunction getFontSize(encode, scope, style) {\n  return getEncoding('fontSize', encode) || getStyle('fontSize', scope, style);\n}\n","import {addEncoders, extendEncode} from './encode/util.js';\nimport {GroupSubtitleStyle, GroupTitleStyle, Left, Right, Skip} from './guides/constants.js';\nimport guideGroup from './guides/guide-group.js';\nimport guideMark from './guides/guide-mark.js';\nimport {alignExpr, lookup} from './guides/guide-util.js';\nimport parseMark from './mark.js';\nimport {TextMark} from './marks/marktypes.js';\nimport {TitleRole, TitleSubtitleRole, TitleTextRole} from './marks/roles.js';\nimport {Collect} from '../transforms.js';\nimport {ref} from '../util.js';\nimport {extend, isString} from 'vega-util';\n\nconst angleExpr = `item.orient===\"${Left}\"?-90:item.orient===\"${Right}\"?90:0`;\n\nexport default function(spec, scope) {\n  spec = isString(spec) ? {text: spec} : spec;\n\n  const _ = lookup(spec, scope.config.title),\n        encode = spec.encode || {},\n        userEncode = encode.group || {},\n        name = userEncode.name || undefined,\n        interactive = userEncode.interactive,\n        style = userEncode.style,\n        children = [];\n\n  // single-element data source for group title\n  const datum = {},\n        dataRef = ref(scope.add(Collect(null, [datum])));\n\n  // include title text\n  children.push(buildTitle(spec, _, titleEncode(spec), dataRef));\n\n  // include subtitle text\n  if (spec.subtitle) {\n    children.push(buildSubTitle(spec, _, encode.subtitle, dataRef));\n  }\n\n  // parse title specification\n  return parseMark(\n    guideGroup({\n      role:        TitleRole,\n      from:        dataRef,\n      encode:      groupEncode(_, userEncode),\n      marks:       children,\n      aria:        _('aria'),\n      description: _('description'),\n      zindex:      _('zindex'),\n      name,\n      interactive,\n      style\n    }),\n    scope\n  );\n}\n\n// provide backwards-compatibility for title custom encode;\n// the top-level encode block has been *deprecated*.\nfunction titleEncode(spec) {\n  const encode = spec.encode;\n  return (encode && encode.title) || extend({\n    name: spec.name,\n    interactive: spec.interactive,\n    style: spec.style\n  }, encode);\n}\n\nfunction groupEncode(_, userEncode) {\n  const encode = {enter: {}, update: {}};\n\n  addEncoders(encode, {\n    orient:      _('orient'),\n    anchor:      _('anchor'),\n    align:       {signal: alignExpr},\n    angle:       {signal: angleExpr},\n    limit:       _('limit'),\n    frame:       _('frame'),\n    offset:      _('offset') || 0,\n    padding:     _('subtitlePadding')\n  });\n\n  return extendEncode(encode, userEncode, Skip);\n}\n\nfunction buildTitle(spec, _, userEncode, dataRef) {\n  const zero = {value: 0},\n        text = spec.text,\n        encode = {\n          enter: {opacity: zero},\n          update: {opacity: {value: 1}},\n          exit: {opacity: zero}\n        };\n\n  addEncoders(encode, {\n    text:       text,\n    align:      {signal: 'item.mark.group.align'},\n    angle:      {signal: 'item.mark.group.angle'},\n    limit:      {signal: 'item.mark.group.limit'},\n    baseline:   'top',\n    dx:         _('dx'),\n    dy:         _('dy'),\n    fill:       _('color'),\n    font:       _('font'),\n    fontSize:   _('fontSize'),\n    fontStyle:  _('fontStyle'),\n    fontWeight: _('fontWeight'),\n    lineHeight: _('lineHeight')\n  }, { // update\n    align:      _('align'),\n    angle:      _('angle'),\n    baseline:   _('baseline')\n  });\n\n  return guideMark({\n    type: TextMark,\n    role: TitleTextRole,\n    style: GroupTitleStyle,\n    from: dataRef,\n    encode\n  }, userEncode);\n}\n\nfunction buildSubTitle(spec, _, userEncode, dataRef) {\n  const zero = {value: 0},\n        text = spec.subtitle,\n        encode = {\n          enter: {opacity: zero},\n          update: {opacity: {value: 1}},\n          exit: {opacity: zero}\n        };\n\n  addEncoders(encode, {\n    text:       text,\n    align:      {signal: 'item.mark.group.align'},\n    angle:      {signal: 'item.mark.group.angle'},\n    limit:      {signal: 'item.mark.group.limit'},\n    baseline:   'top',\n    dx:         _('dx'),\n    dy:         _('dy'),\n    fill:       _('subtitleColor'),\n    font:       _('subtitleFont'),\n    fontSize:   _('subtitleFontSize'),\n    fontStyle:  _('subtitleFontStyle'),\n    fontWeight: _('subtitleFontWeight'),\n    lineHeight: _('subtitleLineHeight')\n  }, { // update\n    align:      _('align'),\n    angle:      _('angle'),\n    baseline:   _('baseline')\n  });\n\n  return guideMark({\n    type:  TextMark,\n    role:  TitleSubtitleRole,\n    style: GroupSubtitleStyle,\n    from:  dataRef,\n    encode\n  }, userEncode);\n}\n","import parseTransform from './transform.js';\nimport parseTrigger from './trigger.js';\nimport {Collect, Load, Relay, Sieve} from '../transforms.js';\nimport {hasSignal, isSignal, ref} from '../util.js';\nimport {array} from 'vega-util';\n\nexport default function parseData(data, scope) {\n  const transforms = [];\n\n  if (data.transform) {\n    data.transform.forEach(tx => {\n      transforms.push(parseTransform(tx, scope));\n    });\n  }\n\n  if (data.on) {\n    data.on.forEach(on => {\n      parseTrigger(on, scope, data.name);\n    });\n  }\n\n  scope.addDataPipeline(data.name, analyze(data, scope, transforms));\n}\n\n/**\n * Analyze a data pipeline, add needed operators.\n */\nfunction analyze(data, scope, ops) {\n  const output = [];\n  let source = null,\n      modify = false,\n      generate = false,\n      upstream, i, n, t, m;\n\n  if (data.values) {\n    // hard-wired input data set\n    if (isSignal(data.values) || hasSignal(data.format)) {\n      // if either values is signal or format has signal, use dynamic loader\n      output.push(load(scope, data));\n      output.push(source = collect());\n    } else {\n      // otherwise, ingest upon dataflow init\n      output.push(source = collect({\n        $ingest: data.values,\n        $format: data.format\n      }));\n    }\n  } else if (data.url) {\n    // load data from external source\n    if (hasSignal(data.url) || hasSignal(data.format)) {\n      // if either url or format has signal, use dynamic loader\n      output.push(load(scope, data));\n      output.push(source = collect());\n    } else {\n      // otherwise, request load upon dataflow init\n      output.push(source = collect({\n        $request: data.url,\n        $format: data.format\n      }));\n    }\n  } else if (data.source) {\n    // derives from one or more other data sets\n    source = upstream = array(data.source)\n      .map(d => ref(scope.getData(d).output));\n    output.push(null); // populate later\n  }\n\n  // scan data transforms, add collectors as needed\n  for (i=0, n=ops.length; i<n; ++i) {\n    t = ops[i];\n    m = t.metadata;\n\n    if (!source && !m.source) {\n      output.push(source = collect());\n    }\n    output.push(t);\n\n    if (m.generates) generate = true;\n    if (m.modifies && !generate) modify = true;\n\n    if (m.source) source = t;\n    else if (m.changes) source = null;\n  }\n\n  if (upstream) {\n    n = upstream.length - 1;\n    output[0] = Relay({\n      derive: modify,\n      pulse: n ? upstream : upstream[0]\n    });\n    if (modify || n) {\n      // collect derived and multi-pulse tuples\n      output.splice(1, 0, collect());\n    }\n  }\n\n  if (!source) output.push(collect());\n  output.push(Sieve({}));\n  return output;\n}\n\nfunction collect(values) {\n  const s = Collect({}, values);\n  s.metadata = {source: true};\n  return s;\n}\n\nfunction load(scope, data) {\n  return Load({\n    url:    data.url ? scope.property(data.url) : undefined,\n    async:  data.async ? scope.property(data.async) : undefined,\n    values: data.values ? scope.property(data.values) : undefined,\n    format: scope.objectProperty(data.format)\n  });\n}\n","import {extend, stringValue} from 'vega-util';\nimport {Bottom, Left, Right, Top} from './constants.js';\nimport {encoder} from '../encode/util.js';\nimport {isSignal} from '../../util.js';\n\nconst isX = orient => orient === Bottom || orient === Top;\n\n// get sign coefficient based on axis orient\nexport const getSign = (orient, a, b) => isSignal(orient)\n  ? ifLeftTopExpr(orient.signal, a, b)\n  : orient === Left || orient === Top ? a : b;\n\n// condition on axis x-direction\nexport const ifX = (orient, a, b) => isSignal(orient)\n  ? ifXEnc(orient.signal, a, b)\n  : isX(orient) ? a : b;\n\n// condition on axis y-direction\nexport const ifY = (orient, a, b) => isSignal(orient)\n  ? ifYEnc(orient.signal, a, b)\n  : isX(orient) ? b : a;\n\nexport const ifTop = (orient, a, b) => isSignal(orient)\n  ? ifTopExpr(orient.signal, a, b)\n  : orient === Top ? {value: a} : {value: b};\n\nexport const ifRight = (orient, a, b) => isSignal(orient)\n  ? ifRightExpr(orient.signal, a, b)\n  : orient === Right ? {value: a} : {value: b};\n\nconst ifXEnc = ($orient, a, b) => ifEnc(\n  `${$orient} === '${Top}' || ${$orient} === '${Bottom}'`, a, b\n);\n\nconst ifYEnc = ($orient, a, b) => ifEnc(\n  `${$orient} !== '${Top}' && ${$orient} !== '${Bottom}'`, a, b\n);\n\nconst ifLeftTopExpr = ($orient, a, b) => ifExpr(\n  `${$orient} === '${Left}' || ${$orient} === '${Top}'`, a, b\n);\n\nconst ifTopExpr = ($orient, a, b) => ifExpr(\n  `${$orient} === '${Top}'`, a, b\n);\n\nconst ifRightExpr = ($orient, a, b) => ifExpr(\n  `${$orient} === '${Right}'`, a, b\n);\n\nconst ifEnc = (test, a, b) => {\n  // ensure inputs are encoder objects (or null)\n  a = a != null ? encoder(a) : a;\n  b = b != null ? encoder(b) : b;\n\n  if (isSimple(a) && isSimple(b)) {\n    // if possible generate simple signal expression\n    a = a ? (a.signal || stringValue(a.value)) : null;\n    b = b ? (b.signal || stringValue(b.value)) : null;\n    return {signal: `${test} ? (${a}) : (${b})`};\n  } else {\n    // otherwise generate rule set\n    return [extend({test}, a)].concat(b || []);\n  }\n};\n\nconst isSimple = enc => (\n  enc == null || Object.keys(enc).length === 1\n);\n\nconst ifExpr = (test, a, b) => ({\n  signal: `${test} ? (${toExpr(a)}) : (${toExpr(b)})`\n});\n\nexport const ifOrient = ($orient, t, b, l, r) => ({\n  signal: (l != null ? `${$orient} === '${Left}' ? (${toExpr(l)}) : ` : '')\n        + (b != null ? `${$orient} === '${Bottom}' ? (${toExpr(b)}) : ` : '')\n        + (r != null ? `${$orient} === '${Right}' ? (${toExpr(r)}) : ` : '')\n        + (t != null ? `${$orient} === '${Top}' ? (${toExpr(t)}) : ` : '')\n        + '(null)'\n});\n\nconst toExpr = v => isSignal(v)\n  ? v.signal\n  : v == null ? null : stringValue(v);\n\nexport const mult = (sign, value) => value === 0 ? 0 : isSignal(sign)\n  ? {signal: `(${sign.signal}) * ${value}`}\n  : {value: sign * value};\n\nexport const patch = (value, base) => {\n  const s = value.signal;\n  return s && s.endsWith('(null)')\n    ? {signal: s.slice(0, -6) + base.signal}\n    : value;\n};\n","import {ifOrient, ifX} from './axis-util.js';\nimport {Bottom, GuideLabelStyle, GuideTitleStyle, Top} from './constants.js';\nimport {isSignal} from '../../util.js';\nimport {extend, hasOwnProperty} from 'vega-util';\n\nfunction fallback(prop, config, axisConfig, style) {\n  let styleProp;\n\n  if (config && hasOwnProperty(config, prop)) {\n    return config[prop];\n  }\n  else if (hasOwnProperty(axisConfig, prop)) {\n    return axisConfig[prop];\n  }\n  else if (prop.startsWith('title')) {\n    switch (prop) {\n      case 'titleColor':\n        styleProp = 'fill';\n        break;\n      case 'titleFont':\n      case 'titleFontSize':\n      case 'titleFontWeight':\n        styleProp = prop[5].toLowerCase() + prop.slice(6);\n    }\n    return style[GuideTitleStyle][styleProp];\n  }\n  else if (prop.startsWith('label')) {\n    switch (prop) {\n      case 'labelColor':\n        styleProp = 'fill';\n        break;\n      case 'labelFont':\n      case 'labelFontSize':\n        styleProp = prop[5].toLowerCase() + prop.slice(6);\n    }\n    return style[GuideLabelStyle][styleProp];\n  }\n\n  return null;\n}\n\nfunction keys(objects) {\n  const map = {};\n  for (const obj of objects) {\n    if (!obj) continue;\n    for (const key in obj) map[key] = 1;\n  }\n  return Object.keys(map);\n}\n\nexport default function(spec, scope) {\n  var config = scope.config,\n      style = config.style,\n      axis = config.axis,\n      band = scope.scaleType(spec.scale) === 'band' && config.axisBand,\n      orient = spec.orient,\n      xy, or, key;\n\n  if (isSignal(orient)) {\n    const xyKeys = keys([\n            config.axisX, config.axisY\n          ]),\n          orientKeys = keys([\n            config.axisTop, config.axisBottom,\n            config.axisLeft, config.axisRight\n          ]);\n\n    xy = {};\n    for (key of xyKeys) {\n      xy[key] = ifX(\n        orient,\n        fallback(key, config.axisX, axis, style),\n        fallback(key, config.axisY, axis, style)\n      );\n    }\n\n    or = {};\n    for (key of orientKeys) {\n      or[key] = ifOrient(\n        orient.signal,\n        fallback(key, config.axisTop, axis, style),\n        fallback(key, config.axisBottom, axis, style),\n        fallback(key, config.axisLeft, axis, style),\n        fallback(key, config.axisRight, axis, style)\n      );\n    }\n  } else {\n    xy = (orient === Top || orient === Bottom) ? config.axisX : config.axisY;\n    or = config['axis' + orient[0].toUpperCase() + orient.slice(1)];\n  }\n\n  const result = (xy || or || band)\n    ? extend({}, axis, xy, or, band)\n    : axis;\n\n  return result;\n}\n","import {ifX, ifY} from './axis-util.js';\nimport {one, zero} from './constants.js';\nimport guideMark from './guide-mark.js';\nimport {lookup} from './guide-util.js';\nimport {addEncoders} from '../encode/util.js';\nimport {RuleMark} from '../marks/marktypes.js';\nimport {AxisDomainRole} from '../marks/roles.js';\n\nexport default function(spec, config, userEncode, dataRef) {\n  const _ = lookup(spec, config),\n        orient = spec.orient;\n\n  let enter, update;\n  const encode = {\n    enter: enter = {opacity: zero},\n    update: update = {opacity: one},\n    exit: {opacity: zero}\n  };\n\n  addEncoders(encode, {\n    stroke:           _('domainColor'),\n    strokeCap:        _('domainCap'),\n    strokeDash:       _('domainDash'),\n    strokeDashOffset: _('domainDashOffset'),\n    strokeWidth:      _('domainWidth'),\n    strokeOpacity:    _('domainOpacity')\n  });\n\n  const pos0 = position(spec, 0);\n  const pos1 = position(spec, 1);\n\n  enter.x = update.x = ifX(orient, pos0, zero);\n  enter.x2 = update.x2 = ifX(orient, pos1);\n\n  enter.y = update.y = ifY(orient, pos0, zero);\n  enter.y2 = update.y2 = ifY(orient, pos1);\n\n  return guideMark({\n    type: RuleMark,\n    role: AxisDomainRole,\n    from: dataRef,\n    encode\n  }, userEncode);\n}\n\nfunction position(spec, pos) {\n  return {scale: spec.scale, range: pos};\n}\n","import {getSign, ifX, ifY} from './axis-util.js';\nimport {Value, one, zero} from './constants.js';\nimport guideMark from './guide-mark.js';\nimport {lookup} from './guide-util.js';\nimport {addEncoders} from '../encode/util.js';\nimport {RuleMark} from '../marks/marktypes.js';\nimport {AxisGridRole} from '../marks/roles.js';\nimport {isSignal} from '../../util.js';\nimport {extend, isObject} from 'vega-util';\n\nexport default function(spec, config, userEncode, dataRef, band) {\n  const _ = lookup(spec, config),\n        orient = spec.orient,\n        vscale = spec.gridScale,\n        sign = getSign(orient, 1, -1),\n        offset = offsetValue(spec.offset, sign);\n\n  let enter, exit, update;\n  const encode = {\n    enter: enter = {opacity: zero},\n    update: update = {opacity: one},\n    exit: exit = {opacity: zero}\n  };\n\n  addEncoders(encode, {\n    stroke:           _('gridColor'),\n    strokeCap:        _('gridCap'),\n    strokeDash:       _('gridDash'),\n    strokeDashOffset: _('gridDashOffset'),\n    strokeOpacity:    _('gridOpacity'),\n    strokeWidth:      _('gridWidth')\n  });\n\n  const tickPos = {\n    scale:  spec.scale,\n    field:  Value,\n    band:   band.band,\n    extra:  band.extra,\n    offset: band.offset,\n    round:  _('tickRound')\n  };\n\n  const sz = ifX(orient, {signal: 'height'}, {signal: 'width'});\n\n  const gridStart = vscale\n    ? {scale: vscale, range: 0, mult: sign, offset: offset}\n    : {value: 0, offset: offset};\n\n  const gridEnd = vscale\n    ? {scale: vscale, range: 1, mult: sign, offset: offset}\n    : extend(sz, {mult: sign, offset: offset});\n\n  enter.x = update.x = ifX(orient, tickPos, gridStart);\n  enter.y = update.y = ifY(orient, tickPos, gridStart);\n  enter.x2 = update.x2 = ifY(orient, gridEnd);\n  enter.y2 = update.y2 = ifX(orient, gridEnd);\n  exit.x = ifX(orient, tickPos);\n  exit.y = ifY(orient, tickPos);\n\n  return guideMark({\n    type: RuleMark,\n    role: AxisGridRole,\n    key:  Value,\n    from: dataRef,\n    encode\n   }, userEncode);\n}\n\nfunction offsetValue(offset, sign)  {\n  if (sign === 1) {\n    // no further adjustment needed, just return offset\n  } else if (!isObject(offset)) {\n    offset = isSignal(sign)\n      ? {signal: `(${sign.signal}) * (${offset || 0})`}\n      : sign * (offset || 0);\n  } else {\n    let entry = offset = extend({}, offset);\n    while (entry.mult != null) {\n      if (!isObject(entry.mult)) {\n        entry.mult = isSignal(sign) // no offset if sign === 1\n          ? {signal: `(${entry.mult}) * (${sign.signal})`}\n          : entry.mult * sign;\n        return offset;\n      } else {\n        entry = entry.mult = extend({}, entry.mult);\n      }\n    }\n    entry.mult = sign;\n  }\n\n  return offset;\n}\n","import {getSign, ifX, ifY} from './axis-util.js';\nimport {Value, one, zero} from './constants.js';\nimport guideMark from './guide-mark.js';\nimport {lookup} from './guide-util.js';\nimport {addEncoders, encoder} from '../encode/util.js';\nimport {RuleMark} from '../marks/marktypes.js';\nimport {AxisTickRole} from '../marks/roles.js';\n\nexport default function(spec, config, userEncode, dataRef, size, band) {\n  const _ = lookup(spec, config),\n        orient = spec.orient,\n        sign = getSign(orient, -1, 1);\n\n  let enter, exit, update;\n  const encode = {\n    enter: enter = {opacity: zero},\n    update: update = {opacity: one},\n    exit: exit = {opacity: zero}\n  };\n\n  addEncoders(encode, {\n    stroke:           _('tickColor'),\n    strokeCap:        _('tickCap'),\n    strokeDash:       _('tickDash'),\n    strokeDashOffset: _('tickDashOffset'),\n    strokeOpacity:    _('tickOpacity'),\n    strokeWidth:      _('tickWidth')\n  });\n\n  const tickSize = encoder(size);\n  tickSize.mult = sign;\n\n  const tickPos = {\n    scale:  spec.scale,\n    field:  Value,\n    band:   band.band,\n    extra:  band.extra,\n    offset: band.offset,\n    round:  _('tickRound')\n  };\n\n  update.y = enter.y = ifX(orient, zero, tickPos);\n  update.y2 = enter.y2 = ifX(orient, tickSize);\n  exit.x = ifX(orient, tickPos);\n\n  update.x = enter.x = ifY(orient, zero, tickPos);\n  update.x2 = enter.x2 = ifY(orient, tickSize);\n  exit.y = ifY(orient, tickPos);\n\n  return guideMark({\n    type: RuleMark,\n    role: AxisTickRole,\n    key:  Value,\n    from: dataRef,\n    encode\n  }, userEncode);\n}\n","import {getSign, ifRight, ifTop, ifX, ifY, patch} from './axis-util.js';\nimport {GuideLabelStyle, Label, Value, one, zero} from './constants.js';\nimport guideMark from './guide-mark.js';\nimport {extendOffset, lookup} from './guide-util.js';\nimport {addEncoders, encoder} from '../encode/util.js';\nimport {TextMark} from '../marks/marktypes.js';\nimport {AxisLabelRole} from '../marks/roles.js';\nimport {deref} from '../../util.js';\n\nfunction flushExpr(scale, threshold, a, b, c) {\n  return {\n    signal: 'flush(range(\"' + scale + '\"), '\n      + 'scale(\"' + scale + '\", datum.value), '\n      + threshold + ',' + a + ',' + b + ',' + c + ')'\n  };\n}\n\nexport default function(spec, config, userEncode, dataRef, size, band) {\n  const _ = lookup(spec, config),\n        orient = spec.orient,\n        scale = spec.scale,\n        sign = getSign(orient, -1, 1),\n        flush = deref(_('labelFlush')),\n        flushOffset = deref(_('labelFlushOffset')),\n        labelAlign = _('labelAlign'),\n        labelBaseline = _('labelBaseline');\n\n  let flushOn = flush === 0 || !!flush,\n      update;\n\n  const tickSize = encoder(size);\n  tickSize.mult = sign;\n  tickSize.offset = encoder(_('labelPadding') || 0);\n  tickSize.offset.mult = sign;\n\n  const tickPos = {\n    scale:  scale,\n    field:  Value,\n    band:   0.5,\n    offset: extendOffset(band.offset, _('labelOffset'))\n  };\n\n  const align = ifX(orient,\n    flushOn\n      ? flushExpr(scale, flush, '\"left\"', '\"right\"', '\"center\"')\n      : {value: 'center'},\n    ifRight(orient, 'left', 'right')\n  );\n\n  const baseline = ifX(orient,\n    ifTop(orient, 'bottom', 'top'),\n    flushOn\n      ? flushExpr(scale, flush, '\"top\"', '\"bottom\"', '\"middle\"')\n      : {value: 'middle'}\n  );\n\n  const offsetExpr = flushExpr(scale, flush, `-(${flushOffset})`, flushOffset, 0);\n  flushOn = flushOn && flushOffset;\n\n  const enter = {\n    opacity: zero,\n    x: ifX(orient, tickPos, tickSize),\n    y: ifY(orient, tickPos, tickSize)\n  };\n\n  const encode = {\n    enter: enter,\n    update: update = {\n      opacity: one,\n      text: {field: Label},\n      x: enter.x,\n      y: enter.y,\n      align,\n      baseline\n    },\n    exit: {\n      opacity: zero,\n      x: enter.x,\n      y: enter.y\n    }\n  };\n\n  addEncoders(encode, {\n    dx: !labelAlign && flushOn ? ifX(orient, offsetExpr) : null,\n    dy: !labelBaseline && flushOn ? ifY(orient, offsetExpr) : null\n  });\n\n  addEncoders(encode, {\n    angle:       _('labelAngle'),\n    fill:        _('labelColor'),\n    fillOpacity: _('labelOpacity'),\n    font:        _('labelFont'),\n    fontSize:    _('labelFontSize'),\n    fontWeight:  _('labelFontWeight'),\n    fontStyle:   _('labelFontStyle'),\n    limit:       _('labelLimit'),\n    lineHeight:  _('labelLineHeight')\n  }, {\n    align:       labelAlign,\n    baseline:    labelBaseline\n  });\n\n  const bound   = _('labelBound');\n  let overlap = _('labelOverlap');\n\n  // if overlap method or bound defined, request label overlap removal\n  overlap = overlap || bound ? {\n    separation: _('labelSeparation'),\n    method: overlap,\n    order: 'datum.index',\n    bound: bound ? {scale, orient, tolerance: bound} : null\n  } : undefined;\n\n  if (update.align !== align) {\n    update.align = patch(update.align, align);\n  }\n  if (update.baseline !== baseline) {\n    update.baseline = patch(update.baseline, baseline);\n  }\n\n  return guideMark({\n    type:  TextMark,\n    role:  AxisLabelRole,\n    style: GuideLabelStyle,\n    key:   Value,\n    from:  dataRef,\n    encode,\n    overlap\n  }, userEncode);\n}\n","import {getSign, ifTop, ifX, ifY, mult, patch} from './axis-util.js';\nimport {Bottom, GuideTitleStyle, Top, one, zero} from './constants.js';\nimport guideMark from './guide-mark.js';\nimport {alignExpr, anchorExpr, lookup} from './guide-util.js';\nimport {addEncoders, encoder, has} from '../encode/util.js';\nimport {TextMark} from '../marks/marktypes.js';\nimport {AxisTitleRole} from '../marks/roles.js';\nimport {extend} from 'vega-util';\n\nexport default function(spec, config, userEncode, dataRef) {\n  const _ = lookup(spec, config),\n        orient = spec.orient,\n        sign = getSign(orient, -1, 1);\n\n  let enter, update;\n  const encode = {\n    enter: enter = {\n      opacity: zero,\n      anchor: encoder(_('titleAnchor', null)),\n      align: {signal: alignExpr}\n    },\n    update: update = extend({}, enter, {\n      opacity: one,\n      text: encoder(spec.title)\n    }),\n    exit: {\n      opacity: zero\n    }\n  };\n\n  const titlePos = {\n    signal: `lerp(range(\"${spec.scale}\"), ${anchorExpr(0, 1, 0.5)})`\n  };\n\n  update.x = ifX(orient, titlePos);\n  update.y = ifY(orient, titlePos);\n  enter.angle = ifX(orient, zero, mult(sign, 90));\n  enter.baseline = ifX(orient, ifTop(orient, Bottom, Top), {value: Bottom});\n  update.angle = enter.angle;\n  update.baseline = enter.baseline;\n\n  addEncoders(encode, {\n    fill:        _('titleColor'),\n    fillOpacity: _('titleOpacity'),\n    font:        _('titleFont'),\n    fontSize:    _('titleFontSize'),\n    fontStyle:   _('titleFontStyle'),\n    fontWeight:  _('titleFontWeight'),\n    limit:       _('titleLimit'),\n    lineHeight:  _('titleLineHeight')\n  }, { // require update\n    align:       _('titleAlign'),\n    angle:       _('titleAngle'),\n    baseline:    _('titleBaseline')\n  });\n\n  autoLayout(_, orient, encode, userEncode);\n  encode.update.align = patch(encode.update.align, enter.align);\n  encode.update.angle = patch(encode.update.angle, enter.angle);\n  encode.update.baseline = patch(encode.update.baseline, enter.baseline);\n\n  return guideMark({\n    type:  TextMark,\n    role:  AxisTitleRole,\n    style: GuideTitleStyle,\n    from:  dataRef,\n    encode\n  }, userEncode);\n}\n\nfunction autoLayout(_, orient, encode, userEncode) {\n  const auto = (value, dim) => value != null\n    ? (encode.update[dim] = patch(encoder(value), encode.update[dim]), false)\n    : !has(dim, userEncode) ? true : false;\n\n  const autoY = auto(_('titleX'), 'x'),\n        autoX = auto(_('titleY'), 'y');\n\n  encode.enter.auto = autoX === autoY\n    ? encoder(autoX)\n    : ifX(orient, encoder(autoX), encoder(autoY));\n}\n","import {addEncoders, extendEncode} from './encode/util.js';\nimport axisConfig from './guides/axis-config.js';\nimport axisDomain from './guides/axis-domain.js';\nimport axisGrid from './guides/axis-grid.js';\nimport axisTicks from './guides/axis-ticks.js';\nimport axisLabels from './guides/axis-labels.js';\nimport axisTitle from './guides/axis-title.js';\nimport {Skip} from './guides/constants.js';\nimport guideGroup from './guides/guide-group.js';\nimport {lookup, tickBand} from './guides/guide-util.js';\nimport {AxisRole} from './marks/roles.js';\nimport parseMark from './mark.js';\nimport {AxisTicks, Collect} from '../transforms.js';\nimport {ref, value} from '../util.js';\n\nexport default function(spec, scope) {\n  const config = axisConfig(spec, scope),\n        encode = spec.encode || {},\n        axisEncode = encode.axis || {},\n        name = axisEncode.name || undefined,\n        interactive = axisEncode.interactive,\n        style = axisEncode.style,\n        _ = lookup(spec, config),\n        band = tickBand(_);\n\n  // single-element data source for axis group\n  const datum = {\n    scale:  spec.scale,\n    ticks:  !!_('ticks'),\n    labels: !!_('labels'),\n    grid:   !!_('grid'),\n    domain: !!_('domain'),\n    title:  spec.title != null\n  };\n  const dataRef = ref(scope.add(Collect({}, [datum])));\n\n  // data source for axis ticks\n  const ticksRef = ref(scope.add(AxisTicks({\n    scale:   scope.scaleRef(spec.scale),\n    extra:   scope.property(band.extra),\n    count:   scope.objectProperty(spec.tickCount),\n    values:  scope.objectProperty(spec.values),\n    minstep: scope.property(spec.tickMinStep),\n    formatType: scope.property(spec.formatType),\n    formatSpecifier: scope.property(spec.format)\n  })));\n\n  // generate axis marks\n  const children = [];\n  let size;\n\n  // include axis gridlines if requested\n  if (datum.grid) {\n    children.push(axisGrid(spec, config, encode.grid, ticksRef, band));\n  }\n\n  // include axis ticks if requested\n  if (datum.ticks) {\n    size = _('tickSize');\n    children.push(axisTicks(spec, config, encode.ticks, ticksRef, size, band));\n  }\n\n  // include axis labels if requested\n  if (datum.labels) {\n    size = datum.ticks ? size : 0;\n    children.push(axisLabels(spec, config, encode.labels, ticksRef, size, band));\n  }\n\n  // include axis domain path if requested\n  if (datum.domain) {\n    children.push(axisDomain(spec, config, encode.domain, dataRef));\n  }\n\n  // include axis title if defined\n  if (datum.title) {\n    children.push(axisTitle(spec, config, encode.title, dataRef));\n  }\n\n  // parse axis specification\n  return parseMark(\n    guideGroup({\n      role:        AxisRole,\n      from:        dataRef,\n      encode:      extendEncode(buildAxisEncode(_, spec), axisEncode, Skip),\n      marks:       children,\n      aria:        _('aria'),\n      description: _('description'),\n      zindex:      _('zindex'),\n      name,\n      interactive,\n      style\n    }),\n    scope\n  );\n}\n\nfunction buildAxisEncode(_, spec) {\n  const encode = {enter: {}, update: {}};\n\n  addEncoders(encode, {\n    orient:       _('orient'),\n    offset:       _('offset') || 0,\n    position:     value(spec.position, 0),\n    titlePadding: _('titlePadding'),\n    minExtent:    _('minExtent'),\n    maxExtent:    _('maxExtent'),\n    range:        {signal: `abs(span(range(\"${spec.scale}\")))`},\n    translate:    _('translate'),\n\n    // accessibility support\n    format:       spec.format,\n    formatType:   spec.formatType\n  });\n\n  return encode;\n}\n","import parseSignalUpdates from './signal-updates.js';\nimport {initScale, parseScale} from './scale.js';\nimport parseProjection from './projection.js';\nimport parseLegend from './legend.js';\nimport parseSignal from './signal.js';\nimport parseTitle from './title.js';\nimport parseData from './data.js';\nimport parseMark from './mark.js';\nimport parseAxis from './axis.js';\nimport {array} from 'vega-util';\n\nexport default function(spec, scope, preprocessed) {\n  const signals = array(spec.signals),\n        scales = array(spec.scales);\n\n  // parse signal definitions, if not already preprocessed\n  if (!preprocessed) signals.forEach(_ => parseSignal(_, scope));\n\n  // parse cartographic projection definitions\n  array(spec.projections).forEach(_ => parseProjection(_, scope));\n\n  // initialize scale references\n  scales.forEach(_ => initScale(_, scope));\n\n  // parse data sources\n  array(spec.data).forEach(_ => parseData(_, scope));\n\n  // parse scale definitions\n  scales.forEach(_ => parseScale(_, scope));\n\n  // parse signal updates\n  (preprocessed || signals).forEach(_ => parseSignalUpdates(_, scope));\n\n  // parse axis definitions\n  array(spec.axes).forEach(_ => parseAxis(_, scope));\n\n  // parse mark definitions\n  array(spec.marks).forEach(_ => parseMark(_, scope));\n\n  // parse legend definitions\n  array(spec.legends).forEach(_ => parseLegend(_, scope));\n\n  // parse title, if defined\n  if (spec.title) parseTitle(spec.title, scope);\n\n  // parse collected lambda (anonymous) expressions\n  scope.parseLambdas();\n\n  return scope;\n}\n","import parseAutosize from './autosize.js';\nimport parsePadding from './padding.js';\nimport parseEncode from './encode.js';\nimport parseSignal from './signal.js';\nimport parseSpec from './scope.js';\nimport {extendEncode} from './encode/util.js';\nimport {GroupMark} from './marks/marktypes.js';\nimport {FrameRole} from './marks/roles.js';\nimport {operator, ref, value} from '../util.js';\nimport DataScope from '../DataScope.js';\nimport {Bound, Collect, Encode, Render, Sieve, ViewLayout} from '../transforms.js';\nimport {array, extend, hasOwnProperty} from 'vega-util';\n\nconst rootEncode = spec => extendEncode(\n  {\n    enter: {\n      x: {value: 0},\n      y: {value: 0}\n    },\n    update: {\n      width: {signal: 'width'},\n      height: {signal: 'height'}\n    }\n  },\n  spec\n);\n\nexport default function parseView(spec, scope) {\n  const config = scope.config;\n\n  // add scenegraph root\n  const root = ref(scope.root = scope.add(operator()));\n\n  // parse top-level signal definitions\n  const signals = collectSignals(spec, config);\n  signals.forEach(_ => parseSignal(_, scope));\n\n  // assign description, event, legend, and locale configuration\n  scope.description = spec.description || config.description;\n  scope.eventConfig = config.events;\n  scope.legends = scope.objectProperty(config.legend && config.legend.layout);\n  scope.locale = config.locale;\n\n  // store root group item\n  const input = scope.add(Collect());\n\n  // encode root group item\n  const encode = scope.add(Encode(parseEncode(\n    rootEncode(spec.encode), GroupMark, FrameRole,\n    spec.style, scope, {pulse: ref(input)}\n  )));\n\n  // perform view layout\n  const parent = scope.add(ViewLayout({\n    layout:   scope.objectProperty(spec.layout),\n    legends:  scope.legends,\n    autosize: scope.signalRef('autosize'),\n    mark:     root,\n    pulse:    ref(encode)\n  }));\n  scope.operators.pop();\n\n  // parse remainder of specification\n  scope.pushState(ref(encode), ref(parent), null);\n  parseSpec(spec, scope, signals);\n  scope.operators.push(parent);\n\n  // bound / render / sieve root item\n  let op = scope.add(Bound({mark: root, pulse: ref(parent)}));\n  op = scope.add(Render({pulse: ref(op)}));\n  op = scope.add(Sieve({pulse: ref(op)}));\n\n  // track metadata for root item\n  scope.addData('root', new DataScope(scope, input, input, op));\n\n  return scope;\n}\n\nfunction signalObject(name, value) {\n  return value && value.signal\n    ? { name, update: value.signal }\n    : { name, value };\n}\n\n/**\n * Collect top-level signals, merging values as needed. Signals\n * defined in the config signals arrays are added only if that\n * signal is not explicitly defined in the specification.\n * Built-in signals (autosize, background, padding, width, height)\n * receive special treatment. They are initialized using the\n * top-level spec property, or, if undefined in the spec, using\n * the corresponding top-level config property. If this property\n * is a signal reference object, the signal expression maps to the\n * signal 'update' property. If the spec's top-level signal array\n * contains an entry that matches a built-in signal, that entry\n * will be merged with the built-in specification, potentially\n * overwriting existing 'value' or 'update' properties.\n */\nfunction collectSignals(spec, config) {\n  const _ = name => value(spec[name], config[name]),\n        signals = [\n          signalObject('background', _('background')),\n          signalObject('autosize', parseAutosize(_('autosize'))),\n          signalObject('padding', parsePadding(_('padding'))),\n          signalObject('width', _('width') || 0),\n          signalObject('height', _('height') || 0)\n        ],\n        pre = signals.reduce((p, s) => (p[s.name] = s, p), {}),\n        map = {};\n\n  // add spec signal array\n  array(spec.signals).forEach(s => {\n    if (hasOwnProperty(pre, s.name)) {\n      // merge if built-in signal\n      s = extend(pre[s.name], s);\n    } else {\n      // otherwise add to signal list\n      signals.push(s);\n    }\n    map[s.name] = s;\n  });\n\n  // add config signal array\n  array(config.signals).forEach(s => {\n    if (!hasOwnProperty(map, s.name) && !hasOwnProperty(pre, s.name)) {\n      // add to signal list if not already defined\n      signals.push(s);\n    }\n  });\n\n  return signals;\n}\n","import DataScope from './DataScope.js';\n\nimport {\n  Compare, Expression, Field, Key, Projection, Proxy, Scale, Sieve\n} from './transforms.js';\n\nimport {\n  Ascending, Entry, aggrField, compareRef, fieldRef, isExpr,\n  isSignal, keyRef, operator, ref\n} from './util.js';\n\nimport parseScope from './parsers/scope.js';\nimport {parseExpression} from 'vega-functions';\n\nimport {\n  array, error, extend, hasOwnProperty,\n  isArray, isObject, isString, peek, stringValue\n} from 'vega-util';\n\nexport default function Scope(config, options) {\n  this.config = config || {};\n  this.options = options || {};\n\n  this.bindings = [];\n  this.field = {};\n  this.signals = {};\n  this.lambdas = {};\n  this.scales = {};\n  this.events = {};\n  this.data = {};\n\n  this.streams = [];\n  this.updates = [];\n  this.operators = [];\n  this.eventConfig = null;\n  this.locale = null;\n\n  this._id = 0;\n  this._subid = 0;\n  this._nextsub = [0];\n\n  this._parent = [];\n  this._encode = [];\n  this._lookup = [];\n  this._markpath = [];\n}\n\nfunction Subscope(scope) {\n  this.config = scope.config;\n  this.options = scope.options;\n  this.legends = scope.legends;\n\n  this.field = Object.create(scope.field);\n  this.signals = Object.create(scope.signals);\n  this.lambdas = Object.create(scope.lambdas);\n  this.scales = Object.create(scope.scales);\n  this.events = Object.create(scope.events);\n  this.data = Object.create(scope.data);\n\n  this.streams = [];\n  this.updates = [];\n  this.operators = [];\n\n  this._id = 0;\n  this._subid = ++scope._nextsub[0];\n  this._nextsub = scope._nextsub;\n\n  this._parent = scope._parent.slice();\n  this._encode = scope._encode.slice();\n  this._lookup = scope._lookup.slice();\n  this._markpath = scope._markpath;\n}\n\nScope.prototype = Subscope.prototype = {\n  parse(spec) {\n    return parseScope(spec, this);\n  },\n\n  fork() {\n    return new Subscope(this);\n  },\n\n  isSubscope() {\n    return this._subid > 0;\n  },\n\n  toRuntime() {\n    this.finish();\n    return {\n      description: this.description,\n      operators:   this.operators,\n      streams:     this.streams,\n      updates:     this.updates,\n      bindings:    this.bindings,\n      eventConfig: this.eventConfig,\n      locale:      this.locale\n    };\n  },\n\n  id() {\n    return (this._subid ? this._subid + ':' : 0) + this._id++;\n  },\n\n  add(op) {\n    this.operators.push(op);\n    op.id = this.id();\n    // if pre-registration references exist, resolve them now\n    if (op.refs) {\n      op.refs.forEach(ref => { ref.$ref = op.id; });\n      op.refs = null;\n    }\n    return op;\n  },\n\n  proxy(op) {\n    const vref = op instanceof Entry ? ref(op) : op;\n    return this.add(Proxy({value: vref}));\n  },\n\n  addStream(stream) {\n    this.streams.push(stream);\n    stream.id = this.id();\n    return stream;\n  },\n\n  addUpdate(update) {\n    this.updates.push(update);\n    return update;\n  },\n\n  // Apply metadata\n  finish() {\n    let name, ds;\n\n    // annotate root\n    if (this.root) this.root.root = true;\n\n    // annotate signals\n    for (name in this.signals) {\n      this.signals[name].signal = name;\n    }\n\n    // annotate scales\n    for (name in this.scales) {\n      this.scales[name].scale = name;\n    }\n\n    // annotate data sets\n    function annotate(op, name, type) {\n      let data, list;\n      if (op) {\n        data = op.data || (op.data = {});\n        list = data[name] || (data[name] = []);\n        list.push(type);\n      }\n    }\n    for (name in this.data) {\n      ds = this.data[name];\n      annotate(ds.input,  name, 'input');\n      annotate(ds.output, name, 'output');\n      annotate(ds.values, name, 'values');\n      for (const field in ds.index) {\n        annotate(ds.index[field], name, 'index:' + field);\n      }\n    }\n\n    return this;\n  },\n\n  // ----\n\n  pushState(encode, parent, lookup) {\n    this._encode.push(ref(this.add(Sieve({pulse: encode}))));\n    this._parent.push(parent);\n    this._lookup.push(lookup ? ref(this.proxy(lookup)) : null);\n    this._markpath.push(-1);\n  },\n\n  popState() {\n    this._encode.pop();\n    this._parent.pop();\n    this._lookup.pop();\n    this._markpath.pop();\n  },\n\n  parent() {\n    return peek(this._parent);\n  },\n\n  encode() {\n    return peek(this._encode);\n  },\n\n  lookup() {\n    return peek(this._lookup);\n  },\n\n  markpath() {\n    const p = this._markpath;\n    return ++p[p.length-1];\n  },\n\n  // ----\n\n  fieldRef(field, name) {\n    if (isString(field)) return fieldRef(field, name);\n    if (!field.signal) {\n      error('Unsupported field reference: ' + stringValue(field));\n    }\n\n    const s = field.signal;\n    let f = this.field[s];\n\n    if (!f) {\n      const params = {name: this.signalRef(s)};\n      if (name) params.as = name;\n      this.field[s] = f = ref(this.add(Field(params)));\n    }\n    return f;\n  },\n\n  compareRef(cmp) {\n    let signal = false;\n\n    const check = _ => isSignal(_)\n      ? (signal = true, this.signalRef(_.signal))\n      : isExpr(_) ? (signal = true, this.exprRef(_.expr))\n      : _;\n\n    const fields = array(cmp.field).map(check),\n          orders = array(cmp.order).map(check);\n\n    return signal\n      ? ref(this.add(Compare({fields: fields, orders: orders})))\n      : compareRef(fields, orders);\n  },\n\n  keyRef(fields, flat) {\n    let signal = false;\n\n    const check = _ => isSignal(_)\n      ? (signal = true, ref(sig[_.signal]))\n      : _;\n\n    const sig = this.signals;\n    fields = array(fields).map(check);\n\n    return signal\n      ? ref(this.add(Key({fields: fields, flat: flat})))\n      : keyRef(fields, flat);\n  },\n\n  sortRef(sort) {\n    if (!sort) return sort;\n\n    // including id ensures stable sorting\n    const a = aggrField(sort.op, sort.field),\n         o = sort.order || Ascending;\n\n    return o.signal\n      ? ref(this.add(Compare({\n          fields: a,\n          orders: this.signalRef(o.signal)\n        })))\n      : compareRef(a, o);\n  },\n\n  // ----\n\n  event(source, type) {\n    const key = source + ':' + type;\n    if (!this.events[key]) {\n      const id = this.id();\n      this.streams.push({\n        id: id,\n        source: source,\n        type: type\n      });\n      this.events[key] = id;\n    }\n    return this.events[key];\n  },\n\n  // ----\n\n  hasOwnSignal(name) {\n    return hasOwnProperty(this.signals, name);\n  },\n\n  addSignal(name, value) {\n    if (this.hasOwnSignal(name)) {\n      error('Duplicate signal name: ' + stringValue(name));\n    }\n    const op = value instanceof Entry ? value : this.add(operator(value));\n    return this.signals[name] = op;\n  },\n\n  getSignal(name) {\n    if (!this.signals[name]) {\n      error('Unrecognized signal name: ' + stringValue(name));\n    }\n    return this.signals[name];\n  },\n\n  signalRef(s) {\n    if (this.signals[s]) {\n      return ref(this.signals[s]);\n    } else if (!hasOwnProperty(this.lambdas, s)) {\n      this.lambdas[s] = this.add(operator(null));\n    }\n    return ref(this.lambdas[s]);\n  },\n\n  parseLambdas() {\n    const code = Object.keys(this.lambdas);\n    for (let i=0, n=code.length; i<n; ++i) {\n      const s = code[i],\n            e = parseExpression(s, this),\n            op = this.lambdas[s];\n      op.params = e.$params;\n      op.update = e.$expr;\n    }\n  },\n\n  property(spec) {\n    return spec && spec.signal ? this.signalRef(spec.signal) : spec;\n  },\n\n  objectProperty(spec) {\n    return (!spec || !isObject(spec)) ? spec\n      : this.signalRef(spec.signal || propertyLambda(spec));\n  },\n\n  exprRef(code, name) {\n    const params = {expr: parseExpression(code, this)};\n    if (name) params.expr.$name = name;\n    return ref(this.add(Expression(params)));\n  },\n\n  addBinding(name, bind) {\n    if (!this.bindings) {\n      error('Nested signals do not support binding: ' + stringValue(name));\n    }\n    this.bindings.push(extend({signal: name}, bind));\n  },\n\n  // ----\n\n  addScaleProj(name, transform) {\n    if (hasOwnProperty(this.scales, name)) {\n      error('Duplicate scale or projection name: ' + stringValue(name));\n    }\n    this.scales[name] = this.add(transform);\n  },\n\n  addScale(name, params) {\n    this.addScaleProj(name, Scale(params));\n  },\n\n  addProjection(name, params) {\n    this.addScaleProj(name, Projection(params));\n  },\n\n  getScale(name) {\n    if (!this.scales[name]) {\n      error('Unrecognized scale name: ' + stringValue(name));\n    }\n    return this.scales[name];\n  },\n\n  scaleRef(name) {\n    return ref(this.getScale(name));\n  },\n\n  scaleType(name) {\n    return this.getScale(name).params.type;\n  },\n\n  projectionRef(name) {\n    return this.scaleRef(name);\n  },\n\n  projectionType(name) {\n    return this.scaleType(name);\n  },\n\n  // ----\n\n  addData(name, dataScope) {\n    if (hasOwnProperty(this.data, name)) {\n      error('Duplicate data set name: ' + stringValue(name));\n    }\n    return (this.data[name] = dataScope);\n  },\n\n  getData(name) {\n    if (!this.data[name]) {\n      error('Undefined data set name: ' + stringValue(name));\n    }\n    return this.data[name];\n  },\n\n  addDataPipeline(name, entries) {\n    if (hasOwnProperty(this.data, name)) {\n      error('Duplicate data set name: ' + stringValue(name));\n    }\n    return this.addData(name, DataScope.fromEntries(this, entries));\n  }\n};\n\nfunction propertyLambda(spec) {\n  return (isArray(spec) ? arrayLambda : objectLambda)(spec);\n}\n\nfunction arrayLambda(array) {\n  const n = array.length;\n  let code = '[';\n\n  for (let i = 0; i<n; ++i) {\n    const value = array[i];\n    code += (i > 0 ? ',' : '')\n      + (isObject(value)\n        ? (value.signal || propertyLambda(value))\n        : stringValue(value));\n  }\n  return code + ']';\n}\n\nfunction objectLambda(obj) {\n  let code = '{',\n      i = 0,\n      key, value;\n\n  for (key in obj) {\n    value = obj[key];\n    code += (++i > 1 ? ',' : '')\n      + stringValue(key) + ':'\n      + (isObject(value)\n        ? (value.signal || propertyLambda(value))\n        : stringValue(value));\n  }\n  return code + '}';\n}\n","/**\n * Standard configuration defaults for Vega specification parsing.\n * Users can provide their own (sub-)set of these default values\n * by passing in a config object to the top-level parse method.\n */\nexport default function() {\n  const defaultFont = 'sans-serif',\n        defaultSymbolSize = 30,\n        defaultStrokeWidth = 2,\n        defaultColor = '#4c78a8',\n        black = '#000',\n        gray = '#888',\n        lightGray = '#ddd';\n\n  return {\n    // default visualization description\n    description: 'Vega visualization',\n\n    // default padding around visualization\n    padding: 0,\n\n    // default for automatic sizing; options: 'none', 'pad', 'fit'\n    // or provide an object (e.g., {'type': 'pad', 'resize': true})\n    autosize: 'pad',\n\n    // default view background color\n    // covers the entire view component\n    background: null,\n\n    // default event handling configuration\n    // preventDefault for view-sourced event types except 'wheel'\n    events: {\n      defaults: {allow: ['wheel']}\n    },\n\n    // defaults for top-level group marks\n    // accepts mark properties (fill, stroke, etc)\n    // covers the data rectangle within group width/height\n    group: null,\n\n    // defaults for basic mark types\n    // each subset accepts mark properties (fill, stroke, etc)\n    mark: null,\n    arc: {\n      fill: defaultColor\n    },\n    area: {\n      fill: defaultColor\n    },\n    image: null,\n    line: {\n      stroke: defaultColor,\n      strokeWidth: defaultStrokeWidth\n    },\n    path: {\n      stroke: defaultColor\n    },\n    rect: {\n      fill: defaultColor\n    },\n    rule: {\n      stroke: black\n    },\n    shape: {\n      stroke: defaultColor\n    },\n    symbol: {\n      fill: defaultColor,\n      size: 64\n    },\n    text: {\n      fill: black,\n      font: defaultFont,\n      fontSize: 11\n    },\n    trail: {\n      fill: defaultColor,\n      size: defaultStrokeWidth\n    },\n\n    // style definitions\n    style: {\n      // axis & legend labels\n      'guide-label': {\n        fill: black,\n        font: defaultFont,\n        fontSize: 10\n      },\n      // axis & legend titles\n      'guide-title': {\n        fill: black,\n        font: defaultFont,\n        fontSize: 11,\n        fontWeight: 'bold'\n      },\n      // headers, including chart title\n      'group-title': {\n        fill: black,\n        font: defaultFont,\n        fontSize: 13,\n        fontWeight: 'bold'\n      },\n      // chart subtitle\n      'group-subtitle': {\n        fill: black,\n        font: defaultFont,\n        fontSize: 12\n      },\n      // defaults for styled point marks in Vega-Lite\n      point: {\n        size: defaultSymbolSize,\n        strokeWidth: defaultStrokeWidth,\n        shape: 'circle'\n      },\n      circle: {\n        size: defaultSymbolSize,\n        strokeWidth: defaultStrokeWidth\n      },\n      square: {\n        size: defaultSymbolSize,\n        strokeWidth: defaultStrokeWidth,\n        shape: 'square'\n      },\n      // defaults for styled group marks in Vega-Lite\n      cell: {\n        fill: 'transparent',\n        stroke: lightGray\n      },\n      view: {\n        fill: 'transparent'\n      }\n    },\n\n    // defaults for title\n    title: {\n      orient: 'top',\n      anchor: 'middle',\n      offset: 4,\n      subtitlePadding: 3\n    },\n\n    // defaults for axes\n    axis: {\n      minExtent: 0,\n      maxExtent: 200,\n      bandPosition: 0.5,\n      domain: true,\n      domainWidth: 1,\n      domainColor: gray,\n      grid: false,\n      gridWidth: 1,\n      gridColor: lightGray,\n      labels: true,\n      labelAngle: 0,\n      labelLimit: 180,\n      labelOffset: 0,\n      labelPadding: 2,\n      ticks: true,\n      tickColor: gray,\n      tickOffset: 0,\n      tickRound: true,\n      tickSize: 5,\n      tickWidth: 1,\n      titlePadding: 4\n    },\n\n    // correction for centering bias\n    axisBand: {\n      tickOffset: -0.5\n    },\n\n    // defaults for cartographic projection\n    projection: {\n      type: 'mercator'\n    },\n\n    // defaults for legends\n    legend: {\n      orient: 'right',\n      padding: 0,\n      gridAlign: 'each',\n      columnPadding: 10,\n      rowPadding: 2,\n      symbolDirection: 'vertical',\n      gradientDirection: 'vertical',\n      gradientLength: 200,\n      gradientThickness: 16,\n      gradientStrokeColor: lightGray,\n      gradientStrokeWidth: 0,\n      gradientLabelOffset: 2,\n      labelAlign: 'left',\n      labelBaseline: 'middle',\n      labelLimit: 160,\n      labelOffset: 4,\n      labelOverlap: true,\n      symbolLimit: 30,\n      symbolType: 'circle',\n      symbolSize: 100,\n      symbolOffset: 0,\n      symbolStrokeWidth: 1.5,\n      symbolBaseFillColor: 'transparent',\n      symbolBaseStrokeColor: gray,\n      titleLimit: 180,\n      titleOrient: 'top',\n      titlePadding: 5,\n      layout: {\n        offset: 18,\n        direction: 'horizontal',\n        left:   { direction: 'vertical' },\n        right:  { direction: 'vertical' }\n      }\n    },\n\n    // defaults for scale ranges\n    range: {\n      category: {\n        scheme: 'tableau10'\n      },\n      ordinal: {\n        scheme: 'blues'\n      },\n      heatmap: {\n        scheme: 'yellowgreenblue'\n      },\n      ramp: {\n        scheme: 'blues'\n      },\n      diverging: {\n        scheme: 'blueorange',\n        extent: [1, 0]\n      },\n      symbol: [\n        'circle',\n        'square',\n        'triangle-up',\n        'cross',\n        'diamond',\n        'triangle-right',\n        'triangle-down',\n        'triangle-left'\n      ]\n    }\n  };\n}\n","import parseView from './parsers/view.js';\nimport Scope from './Scope.js';\nimport defaults from './config.js';\nimport {error, isObject, mergeConfig} from 'vega-util';\n\nexport default function(spec, config, options) {\n  if (!isObject(spec)) {\n    error('Input Vega specification must be an object.');\n  }\n\n  config = mergeConfig(defaults(), config, spec.config);\n  return parseView(spec, new Scope(config, options)).toRuntime();\n}\n"],"names":["spec","isObject","type","number","_","paddingObject","top","bottom","left","right","signal","encoder","isArray","extend","value","addEncode","object","name","set","isEncoder","length","update","addEncoders","enter","extendEncode","encode","extra","skip","hasOwnProperty","has","key","MarkRole","FrameRole","ScopeRole","AxisRole","AxisDomainRole","AxisGridRole","AxisLabelRole","AxisTickRole","AxisTitleRole","LegendRole","LegendBandRole","LegendEntryRole","LegendGradientRole","LegendLabelRole","LegendSymbolRole","LegendTitleRole","TitleRole","TitleTextRole","TitleSubtitleRole","role","style","config","defaults","props","applyDefault","String","startsWith","group","mark","array","forEach","scaleRef","scale","isString","stringValue","field","entry","enc","gradient","color","undefined","exponent","property","mult","offset","round","_color","x","y","z","map","join","c","h","l","s","a","b","r","g","args","start","stop","count","peek","pop","unshift","ref","resolveField","datum","level","parent","Math","max","error","splitAccessPath","range","band","code","rule","test","scope","params","encoders","$encode","applyDefaults","parseBlock","block","marktype","channels","fields","parse","expr","$expr","$fields","Object","keys","$output","parseExpression","$params","OUTER","OUTER_INVALID","outerError","prefix","push","signals","prop","op","addSignal","react","bind","addBinding","Entry","id","operator","$ref","refs","fieldRef","$field","$name","keyFieldRef","compareRef","orders","$compare","$order","keyRef","flat","$key","$flat","Ascending","Descending","sortKey","sort","order","aggrField","Scope","View","isSignal","isExpr","hasSignal","specValue","defaultValue","deref","v","Timer","parseStream","stream","method","merge","mergeStream","nestedStream","eventStream","eventSource","source","list","streamParameters","addStream","event","throttle","between","filter","param","concat","markname","markrole","filterMark","debounce","consume","item","OP_VALUE_EXPR","ast","target","events","sources","parseSelector","isSubscope","mergeSources","$value","signalRef","force","options","addUpdate","streamSource","getSignal","init","initonly","on","parseUpdate","transform","Aggregate","AxisTicks","Bound","Collect","Compare","DataJoin","Encode","Expression","Facet","Field","Key","LegendEntries","Load","Mark","MultiExtent","MultiValues","Overlap","Params","PreFacet","Projection","Proxy","Relay","Render","Scale","Sieve","SortItems","ViewLayout","Values","FIELD_REF_ID","MULTIDOMAIN_SORT_OPS","min","initScale","isValidScaleType","addScale","domain","parseScale","getScale","parseScaleDomain","parseScaleRange","interpolate","parseScaleInterpolate","nice","parseScaleNice","bins","parseScaleBins","parseLiteral","parseArray","dataLookupError","domainMin","domainMax","explicitDomain","multipleDomain","singularDomain","data","getData","isDiscrete","valuesRef","parseSort","isQuantile","domainRef","extentRef","reduce","dom","d","ordinalMultipleDomain","quantileMultipleDomain","numericMultipleDomain","coll","$ingest","input","addDataPipeline","counts","f","countsRef","p","groupby","pulse","ops","as","add","sortRef","multidomain","values","extents","objectProperty","interval","step","gamma","interpolateGamma","scheme","extent","schemeExtent","schemeCount","rangeStep","proj","projection","parseParameter","addProjection","Top","Left","Right","Bottom","Center","Vertical","Start","Middle","End","Index","Label","Offset","Perc","Perc2","Value","GuideLabelStyle","GuideTitleStyle","GroupTitleStyle","GroupSubtitleStyle","Symbols","Gradient","Discrete","Size","Shape","Fill","Stroke","StrokeWidth","StrokeDash","Opacity","LegendScales","Skip","interactive","zero","one","GroupMark","RectMark","RuleMark","SymbolMark","TextMark","lookup","dflt","isVertical","direction","symbolDirection","gradientDirection","gradientLength","gradientWidth","gradientThickness","gradientHeight","entryColumns","columns","getEncoding","getStyle","anchorExpr","e","m","alignExpr","tickBand","extendOffset","assign","extras","userEncode","vertical","thickness","width","height","opacity","fill","exit","stroke","strokeWidth","guideMark","dataRef","u","uu","vv","adjust","from","baselineExpr","overlap","text","fillOpacity","font","fontSize","fontStyle","fontWeight","limit","labelLimit","gradientLabelLimit","align","baseline","labelOffset","gradientLabelOffset","separation","entries","symbolOffset","valueRef","xSignal","yEncode","index","ncols","nrows","baseFill","baseStroke","symbolBaseFillColor","symbolBaseStrokeColor","shape","size","strokeDash","strokeDashOffset","symbols","clip","labels","noBound","row","column","facet","guideGroup","marks","legendSymbolLayout","center","padding","isL","isR","isLR","isVG","alignFlip","exprAlign","exprAnchor","exprAngle","exprBaseline","orient","_anchor","anchor","angle","title","lineHeight","path","sphere","zindex","aria","description","def","definition","t","toLowerCase","parseParameters","proxy","metadata","n","i","pdef","parseIndexParameter","required","parseSubParameters","projectionRef","parameterValue","isField","isCompare","outerExpr","exprRef","outerField","isData","lookupRef","parseSubParameter","k","getDataRef","parseTransform","aggregate","output","DataScope","aggr","fromEntries","fieldKey","addSortField","cache","ds","optype","prototype","agg","tuplesRef","indataRef","subscope","fork","addData","subflow","$subflow","toRuntime","remove","insert","toggle","modify","trigger","getRole","layout","store","layoutRef","boundRef","nested","parseData","clean","joinRef","markdef","context","$context","groups","markpath","markRef","parseEncode","mod","tx","md","generates","changes","nomod","encodeRef","legends","bound","operators","pushState","parseFacet","parseSubflow","popState","parseOverlap","render","sieve","parseTrigger","sep","tol","tolerance","boundTolerance","boundScale","boundOrient","legend","legendEncode","scales","entryLayout","children","legendType","scaleType","vgrad","entryEncode","entryRef","minstep","tickMinStep","formatType","formatSpecifier","format","legendGradient","legendGradientLabels","legendGradientDiscrete","legendSymbolGroups","sizeExpression","legendTitle","parseMark","buildLegendEncode","scaleCount","isContinuous","isDiscretizing","titlePadding","cornerRadius","getChannel","getFontSize","angleExpr","buildTitle","titleEncode","subtitle","buildSubTitle","groupEncode","frame","dx","dy","transforms","analyze","generate","upstream","load","collect","$format","url","$request","modifies","derive","splice","async","isX","getSign","ifLeftTopExpr","ifX","ifXEnc","ifY","ifYEnc","ifTop","ifTopExpr","ifRight","ifRightExpr","$orient","ifEnc","ifExpr","isSimple","toExpr","ifOrient","sign","patch","base","endsWith","slice","fallback","axisConfig","styleProp","objects","obj","axis","axisBand","xy","or","xyKeys","axisX","axisY","orientKeys","axisTop","axisBottom","axisLeft","axisRight","toUpperCase","result","strokeCap","strokeOpacity","pos0","position","pos1","x2","y2","pos","vscale","gridScale","offsetValue","tickPos","sz","gridStart","gridEnd","tickSize","flushExpr","threshold","flush","flushOffset","labelAlign","labelBaseline","flushOn","offsetExpr","titlePos","autoLayout","auto","dim","autoY","autoX","axisEncode","ticks","grid","ticksRef","tickCount","axisGrid","axisTicks","axisLabels","axisDomain","axisTitle","buildAxisEncode","minExtent","maxExtent","translate","preprocessed","parseSignal","projections","parseProjection","parseSignalUpdates","axes","parseAxis","parseLegend","parseTitle","parseLambdas","rootEncode","parseView","root","collectSignals","eventConfig","locale","autosize","parseSpec","signalObject","parseAutosize","parsePadding","pre","bindings","lambdas","streams","updates","_id","_subid","_nextsub","_parent","_encode","_lookup","_markpath","Subscope","create","parseScope","finish","vref","annotate","cmp","check","sig","o","hasOwnSignal","propertyLambda","addScaleProj","projectionType","dataScope","arrayLambda","objectLambda","defaultFont","defaultSymbolSize","defaultStrokeWidth","defaultColor","black","gray","lightGray","background","allow","arc","area","image","line","rect","symbol","trail","point","circle","square","cell","view","subtitlePadding","bandPosition","domainWidth","domainColor","gridWidth","gridColor","labelAngle","labelPadding","tickColor","tickOffset","tickRound","tickWidth","gridAlign","columnPadding","rowPadding","gradientStrokeColor","gradientStrokeWidth","labelOverlap","symbolLimit","symbolType","symbolSize","symbolStrokeWidth","titleLimit","titleOrient","category","ordinal","heatmap","ramp","diverging","mergeConfig"],"mappings":"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","debugId":null}}]
}